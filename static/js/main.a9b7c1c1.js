/*! For license information please see main.a9b7c1c1.js.LICENSE.txt */
!function(){var e={448:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(i.apply(this,n));else if("object"===a)if(n.toString===Object.prototype.toString)for(var o in n)r.call(n,o)&&n[o]&&e.push(this&&this[o]||o);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ce(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){je=!0,Me=e}};function Be(e,t,n,r,i,a,o,s,u){je=!1,Me=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Tt=[],At=null,Ct=null,Nt=null,Ot=new Map,Dt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==At&&Ft(At)&&(At=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),Ot.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=jt(At,e,t,n,r,i),!0;case"dragenter":return Ct=jt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=jt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,jt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,jt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),An=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var jn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Ar=Sr("animationstart"),Cr=Sr("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Pr=Or[Rr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Ar,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),je){if(!je)throw Error(a(198));var l=Me;je=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Er:case Tr:case Ar:u=gn;break;case Cr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Hn(s))if(Jn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(y=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(g=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Bn(n))&&(k.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),$t=Zt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ai=Ii(Ti),Ci=Ii(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ci),Si(Ai)}function Pi(e,t,n){if(Ai.current!==Ti)throw Error(a(168));Ei(Ai,t),Ei(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ai.current,Ei(Ai,e),Ei(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ci),Si(Ai),Ei(Ai,e)):Si(Ci),Ei(Ci,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge($e,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function Zi(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function $i(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ii(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function xa(e){var t=ga.current;Si(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Di(t)?Ni:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Di(t)?Ni:Ai.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&Zi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Pc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),Za={},$a=Ii(Za),eo=Ii(Za),to=Ii(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),Ei($a,t)}function io(){Si($a),Si(eo),Si(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei($a,n))}function oo(e){eo.current===e&&(Si($a),Si(eo))}var so=Ii(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Ao(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){jo(t)&&Mo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Ca(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Aa(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Aa(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cu)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Cu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Jo,useReducer:Co,useRef:Vo,useState:function(){return Co(Ao)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(To(),mo.memoizedState,e)},useTransition:function(){return[Co(Ao)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Ao)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[No(Ao)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ru,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ru,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ru,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ru,Du),Du|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Di(n)?Ni:Ai.current;return a=Oi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function As(e,t,n,r,i){if(Di(n)){var a=!0;ji(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Di(n)?Ni:Ai.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||Na?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Na||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Oi(t,u=Di(n)?Ni:Ai.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Os(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Rs,Ps,Ls={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ks(t),null;case 3:return r=t.stateNode,io(),Si(Ci),Si(Ai),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ps(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Pu&&(Pu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>zu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Je()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ci),Si(Ai),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||$s(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Ic(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Je())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:$s(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,Ys=s,Xs=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&iu(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ic(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ic(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Ic(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Ic(t,o,u)}}}catch(u){Ic(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var _u,Iu=Math.ceil,Su=b.ReactCurrentDispatcher,Eu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Au=0,Cu=null,Nu=null,Ou=0,Du=0,Ru=Ii(0),Pu=0,Lu=null,ju=0,Mu=0,Fu=0,Uu=null,Vu=null,Bu=0,zu=1/0,qu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Qu=null,Yu=0,Xu=0,Ju=null,Zu=-1,$u=0;function ec(){return 0!==(6&Au)?Je():-1!==Zu?Zu:Zu=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===$u&&($u=vt()),$u):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Au)&&e===Cu||(e===Cu&&(0===(2&Au)&&(Mu|=n),4===Pu&&sc(e,Ou)),rc(e,r),1===n&&0===Au&&0===(1&t.mode)&&(zu=Je()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Cu?Ou:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===(6&Au)&&zi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zu=-1,$u=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Au;Au|=2;var o=pc();for(Cu===e&&Ou===t||(qu=null,zu=Je()+500,hc(e,t));;)try{yc();break}catch(u){dc(e,u)}wa(),Su.current=o,Au=i,null!==Nu?t=0:(Cu=null,Ou=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,hc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,hc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),t);break}wc(e,Vu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),r);break}wc(e,Vu,qu);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Fu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Au))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,hc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,qu),rc(e,Je()),null}function cc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(zu=Je()+500,Ui&&zi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Au)&&xc();var t=Au;Au|=1;var n=Tu.transition,r=kt;try{if(Tu.transition=null,kt=1,e)return e()}finally{kt=r,Tu.transition=n,0===(6&(Au=t))&&zi()}}function fc(){Du=Ru.current,Si(Ru)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ci),Si(Ai),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cu=e,Nu=e=Rc(e.current,null),Ou=Du=t,Pu=0,Lu=null,Fu=Mu=ju=0,Vu=Uu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Nu;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Eu.current=null,null===n||null===n.return){Pu=1,Lu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Pu&&(Pu=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pc(){var e=Su.current;return Su.current=os,null===e?os:e}function vc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Cu||0===(268435455&ju)&&0===(268435455&Mu)||sc(Cu,Ou)}function mc(e,t){var n=Au;Au|=2;var r=pc();for(Cu===e&&Ou===t||(qu=null,hc(e,t));;)try{gc();break}catch(i){dc(e,i)}if(wa(),Au=n,Su.current=r,null!==Nu)throw Error(a(261));return Cu=null,Ou=0,Pu}function gc(){for(;null!==Nu;)kc(Nu)}function yc(){for(;null!==Nu&&!Ye();)kc(Nu)}function kc(e){var t=_u(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?bc(e):Nu=t,Eu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Du)))return void(Nu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Pu=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Pu&&(Pu=5)}function wc(e,t,n){var r=kt,i=Tu.transition;try{Tu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cu&&(Nu=Cu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Cc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=kt;kt=1;var u=Au;Au|=4,Eu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Xe(),Au=u,kt=s,Tu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Yu=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Yu)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,zi()}(e,t,n,r)}finally{Tu.transition=i,kt=r}return null}function xc(){if(null!==Qu){var e=bt(Yu),t=Tu.transition,n=kt;try{if(Tu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(au(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Ic(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Au=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Tu.transition=t}}return!1}function _c(e,t,n){e=Pa(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Pa(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Ou&n)===n&&(4===Pu||3===Pu&&(130023424&Ou)===Ou&&500>Je()-Bu?hc(e,0):Fu|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ca(e,t))&&(gt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Cc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case I:s=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case C:return(e=Oc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case A:s=11;break e;case O:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ei(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Oi(t,Ai.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ms(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Di(r)?(e=!0,ji(t)):e=!1,Ia(t,n),qa(t,r,i),Wa(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Au)&&(zu=Je()+500,zi()))}break;case 13:lc((function(){var t=Ca(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ca(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+A(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+A(s=e[c],c);u+=C(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=a+A(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,A=-1;function C(){return!(t.unstable_now()-A<T)}function N(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=N,_=function(){D.postMessage(null)}}else _=function(){g(N,0)};function R(e){S=e,I||(I=!0,_())}function P(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(E),E=-1):m=!0,P(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},635:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATIAAABaCAMAAAAMyCp0AAABjFBMVEUAAACmpqampqalpaWmpqampqalpaWkpKSlpaWlpaWmpqampqanp6empqampqampqalpaWkpKSmpqampqanp6cCAgIQEBA3NzdtbW1zc3MSEhIfHx+Dg4NcXFwFBQWJiYkqKiqAgIBKSkqIiIjQ0NAyMjKQkJDV1dX6+vpMTEy2tranp6coKCgYGBjr6+vHx8fAwMD///9AQEAwMDA6Ojrz8/OwsLCbm5vv7+94eHjDw8Pg4OBfX19QUFBCQkKzs7OGhob9/f38/PxgYGDt7e3Ly8sHBwfb29twcHDl5eX+/v6ysrLT09NISEienp729vaMjIzc3NxpaWkWFhbx8fElJSWVlZUgICD19fUcHByrq6uTk5OOjo40NDRhYWFaWlpGRkZ/f38jIyMLCwt1dXWYmJhWVlbj4+N7e3vOzs7FxcX4+Pi8vLypqann5+dmZmY5OTnd3d1ra2tTU1N8fHy4uLi6uro9PT2ioqLY2NgUFBSjo6Otra13d3cAAACmpqYtLS0ODg6goKBkZGR2FSh7AAAAFXRSTlMALInN88N9HwCt+p8WAEjoOACzjQAyAibUAAALeUlEQVR42u2di1vaShbA7a277e197t2LCtooVi0gCAcUfKJURaRVfGAtRcWKFq2tre/WtieA//hmJgmTgMCwuHvxfvl9X6vDyCT5Zc5wZpKPNMnc++F+s2hQgeZ//PPBvyhN5L8HP4oG1Xn0089/SjRJ/35tFvPX2RwalMfU0tomir/9/vDhw6aHD399JJotaFCV9g6x+Xei7EGz+BgNeBDM4m8/S4H5h2hGAz6ETvHHh033xLwRldx0ieK9pn+L12jAjVX8oem+mEUDbrrF+02PxBY04CYrPmoSRTTgp10UDWWGssZXZsL/BU96uv+mynr7ntpasDbsjn4nVsM14P5bKuv1gERVZV5rAR/i4JAfZB2B4RG8EWF0bHwCglie7rFJ0x1UZpoKgcSzqvtuhQLTiKYuYWYWJcIAc3gjEZgdaAlmsSwt87PRyN1TJjwHygusxkJfX98kwKL0o5WU+2L0By4tr+BNrMb71569ZOX1wHxRTw68SgRia3dO2WuQSSIPEwDrau/cmMCKOKcTuDBu0r5Xr0wY92LL9OZdU9YGCoO1KbNsbeSXuqmPVGQbZdYiEVrbHaHTXXsy/2YHVbYWAUYidkR7xJeOLIbJbu8u7r0lbYQjkbRrNzDlvAPKXEMg48aalKXl9/nJ8fZAXg1FGzxBiQx5xeIBCVsKFcbkdyD6Yf+AdrjpGEi8yyHmAK7jAHC43fjKlkDBW5syXLzu6hoBeKxThpP0k6CVNvcePFnXFBzuFPeyD3AEPf40eqO2j5ZPx7CHiJLbgxNrHDJCoysLD4PMHtaojOKGfr2yU4As4hNYRgzCTI7+yVTxWJYH+TU3nJEghsM0UTaXRvwI8KnRlS2AzGi4ZmUtqc58BjyKMnYKOhDniIskuL0SfnhfquxVmEQxwLX0B6dUE0AnIjoB3ja6MitQHDmsVdlZDAhFynAPXmAWoglEBygclCp7ihKfQGWBKIuQ0wAw3ejKAiARGzFhrco+QrTDmc7rlCkeds7gHBEvoMdKmS5V1oMSlwAbVkr7XVKWB8g8cSHWrGyWjmKlynAO2tw0ugLwrvS9qxplCWBzqTukzHm5jpRcds1Vi7IxWEQU5mC0WNkZuEMzYZKUAZyijm2AS40yPAB3+i4oy133L8dgaHaJpa7h088ZmkIdLLXyKvPDoXncDdBTrKw9qk4kLiD62rzbN8pywCiMJd8yZd4QjHVE3jwfb2hlruQhqMztJ1Bic28YGKOXfMp2iOSjJZgrVoYegF4kpD9H6YlIoEoSAPqYMuzOACHZyMoeD4OW0OjG3hco4mUYK3Dl9cr16fH9VM7ivSTSvU5krNPXKO2pyNZ2CzKC5pMuRKd3E2WE4MrJ2yztcd4EKXu9rsZS1gcckAnM3xx+ZQHgwyMYymR2gZeUoYziswEfh4+NwJR5B3zEvGgooywAH9EFNJTJ+IGPKTSUyVhswMWcYChTeAt8TKOhTOElcBEPc93TTMjh7SH0Xu9a35zY1xtJmQe48CMH10AIWfCW2AnEQWHZutowyjLAxRly4ADKNd4O5kPQ4G0YZYfAxRZWJ6e0dY63wgZomRFYjUn4S5UBH6dYnccgc5jDOmGt2S42rBuvjwG+okJ6YvHI29jK+IPtGwA8B4nHWD/CEUhcJJDiTNpRJkK68l+rLApcWLEq6RgABI+IN6wfO0j0CDesU/3lygaAAy4LpyQmw18BIJbGuukAiY/YiMpeABdDYaxGP716OQ5Q5jKtKeFrN5WrEG5cw1vgVXbl7HLhTZh2nGkW7Gu9Plf9yvzAAc/4FB6i8ZsAideaAPN4PJOkD56TuH31ehAVFqQKByJO0IrYt0vUsQcSbcW+PJ4MDViPxIlq5fTbDD2rjpSgbfyDZDIZB5hQ5zl0QzDf116nsing46nAM/h4EV/o++Q0AERNV+9B5aXAKkCwXIDKnlCy7nmcq5B39yFlUxMnXz5ppoHD9NKNqmzdDSqx8fqUnQIn37EyeQAYMCF26HMSGqhObfg/N7EN6yu0zpxAmG2vpuyUJZaaO7AmyO/hL1BQltWN2dd1KXMBJzYvVkIgwbGIiD6QYFucoEdOTrrHo+z2lL4iXqhY0qcshFcdq8iYHB6mhoaGJWgzQRspD+yZRz7Q354FkeClMxYoKFul/S1v93UHQuRYuupQRgKJk/glVmAbJLpR4pjO4pkyytCKgCikZuhh0R3uVirapApTikoL+ZDhmgfKYSBbfvjP0T9ytNB+uUyHqlxBWVwqJc37XYp/m13eUaLWUZeyJeDFtoLl2SuIegISdp1KiLUiJRsnpc+Fo4JDpWJtmJT6UcNaBhQcm+WU0W31hJU3DNG+xRqHfBopraRwoh29d+pR1gr8vO/FMpgGyBGzBhdRgu38CCpEqMBwoWIfFU6owLQuc/gGCtFA+kZl4RmdQCvtZigxCASPSZP/HKsFV5TsUD3K8Bj4iZvwZi41g35GmUUzZbYcKoTj6kH20hi16G+b3EYdwXeg8CVxk7IF/U32qyFS7lUHVGhFGYF0vw5UIQH8rS5lZ8BPAMuQlJN+FuoLWmUHRXlgm3pUL/SZMJixiM3FGFDmcnplLMamii6WXauNZwqN0KZ9Kgdkw3UpW7UBN62Vlt0G8jIemmVplfmxwBtS7lCPapJV7Je5JtNilaXt3aDsAymkivLfM3WrjgqL9Zm6lOEi8DLKPyAOmEqUsTErSZXpKz4yL0WsfaHB7SpV5mEFNjFNKltl60UrUMJRfcp2ngEnCzV87AYrKOurSRm2D9MpW3VlVtq4utU8KpihhC//p9tY3tXyEZK8WdmZHH+lyr6TcmeFBdqOUmWv2YSIXfvpKFHWRmcvXi2+OpWtxoGHaNmRrJdG7bpKihTnTUyZQz/KsxH6nFWIpFwm86MN9pUq2wN9vjBKylslyk55F0n5leEK8NBXeXErgioCPQWXTNkxq6Jp/qaqbIwldkek/AmLYVP4NzplLJjfF13G7ipRtkZK4u0qwwuozlway0HH53VW/spmjF5QHbH+MmCiylRHrCfMmLAY1gPHkdApxyK7/xZCa6gwAhLLWKIMx0gK1H67ylaPoBq2TSxHF0uxNMef0ShzC0ixZJTuqiqbVSpaxtj4R1nVDFHBEDHjYrnIEio4tJmKa4bmX0yZ/mPhQrhVZbgdgirsYyn6IZ0RjtGuxZTBpIVGyCxIxBJMGTiuWMWhpiOMw0GbLCn3nbbWrzkb8ayapIbYh4aFtjEWvkFZC5XpVt8lbHMqq+9WxucmLEsPy3K1KzdPNMognh+xTh4CS/F9asXnEatfrvheHIvzHr//QK4bSCDFFaJyz/3vetkKqXur1WueZ0tUTJl+VdDd2bZiTl4MgfM2lGEnVMKdrpDX0dzQVHIR8riw88vPgJFHpmzOBoyv+mm+jpnWkpV3KsckgpZQCkuUsTyDcX0ryvANqBx32p2JteD+AetjOSzPSOnsM0dV+Ap52RaL+yWTRpn/MZO5oZV+9RS0eHbYCVKHXTv7zgCVTBDLKEP7PGhYvB1lGKQBFvvqZflWYIb2hXGsxPmwRDfq8JPXRlgqOzgKhND5ICr4dBXR80vUYTrtH1Z7mKgbexL+KF0EUV/0fR1SMvrdQihcks2/RC3pNrcid9hxclWvMqYoteXVR6Dgs3c7sQ4K2X9iYjoVtLAKX6HCzir0JC4nUvbLHSzGsv3WPphmZWEzNT29kMBqpHsXJoKfXA39nT9MGUOvzPiaJEOZocxQZigzlBnKDGX/HVm/xAiWsl5c0UDKjC9JrY2s2Nx0X/ShATd28b7xhc+1f+HzPTF/hQa1fK34L3+Iu2jAR3hJ/OmXpl8eNItbaMCDsCs/IuFP6UEcu0ZscrA+pTyIQ3p4SbP4eaXXYkKDsghXg+bC414kjIcK1fZQIYrx6Cr+R1f9B8+sE5oL2vn/AAAAAElFTkSuQmCC"},556:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/7QCEUGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAGgcAigAYkZCTUQwYTAwMGE2ZjAxMDAwMDY2MDMwMDAwN2IwNjAwMDAwZDA3MDAwMGI2MDcwMDAwMDMwYTAwMDBkNDBkMDAwMDRkMGUwMDAwMDYwZjAwMDBjNDBmMDAwMGQyMTYwMDAwAP/bAEMABgQFBgUEBgYFBgcHBggKEAoKCQkKFA4PDBAXFBgYFxQWFhodJR8aGyMcFhYgLCAjJicpKikZHy0wLSgwJSgpKP/bAEMBBwcHCggKEwoKEygaFhooKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKP/CABEIAJYAlgMBIgACEQEDEQH/xAAbAAACAgMBAAAAAAAAAAAAAAAEBQAGAgMHAf/EABkBAAMBAQEAAAAAAAAAAAAAAAECAwAEBf/aAAwDAQACEAMQAAAB6fPJFPZ57tPPZjXKkWjHYuYDYNVyFnkhKZJjVF3WJk78yIusTsFrgERu2wmc3MNCZsOsc8+FVoDcQduibNmIZeGBxGOnFgyZVazKvKiLEP1x6FDZxGxQT2nIV4Nr2CorIBO3YFq3azWyguhDSG1xwqNZ6cKac4Iy9ehTIJ0snkGiq/8AcfKcWaphVBVVqyTy7yzaz0x1NJ1DrE7BSScVryB2W0m20GlnNyqjaecRZClx8J8fhU113U59oKDZhW7/AKXQegyiupfSE7JW7aA6BHrNlrJyyp3jn9WdGrotbNNsEL/q0jbkR1pqnl6SLPzX0Fp1jiXapQLxkmnmenJtpHJGxVcytlZpfE8pSTZIPBPqS02vpy15OwRb0ItIFsu3p9Au81t2A2UpbxsQC5Q+jnrgQtc2rVxVbewklOnQJi0rdlrKRqJz2wNaqj9IyaNFZmgI5pynWhsYtapdA4qeWfQ3rgA1KWWzVux8yETyKgAmTZtoMz25SByB6xFBaBF14p46WA5/0Ck0cb3LZXF7PcpPYLHTLnGZE1xUy3yYYFyEFaJLQx1SBsEshZTSZG6ctkjlhski/lxkVGMknH//xAApEAABBAIBAwQCAgMAAAAAAAABAAIDBBESIQUTIhAjMTIgQRQkFTNC/9oACAEBAAEFAvy6lc/jma7JaUpc2Ss8hOW5zC46xzEKpZ7guvZDLNYJPTI2WLnVq7Ifz6zJ/aILQ9weBvEoLDHJzOYzqh8V5PLrXcLn5UYKgpSyjD17iy9bOW5V61245suWpBLgsxY7Ue0TmlTkAV5cphwZ4f5FV3zXHuV2e3+DuBem7k/yngbHYrWTVsZYpBldwYbIHLd4NWbw6vU7drptcyWQPx6lP24ovJ0jtfSrFlRxBGMKSsxysUQpoJIXNedgJXp/92j0aINhC2etnrZ6fI9o6hKSox24uXlvzUZ4gehRapIg9t+ua8lZ/gJNbNb22B/4W34UnuSTDIdgClDuY24GPQ+hXUGZiYcKcO7/AOgVlZTnYFmTKdIImTTOTHGaetHq3Up/cahYkTJS70mnaxWbezZHnbbFSpN3Ye4u4Vs9WHPIsOVqXRPJx0aIGdg4uzyQxS2ruadmyVHypTqLdxkC/wAmWiZ/dvEudH04ua6RvlhYVhymd52XbPP26T4TM+CMqepHImVRhjcKyOZ6DJHS1dg77tfrGx72GF/diyU8+M7uDyZvvJ9elSEXI/TCCCnWFff2q7W7Ix4e5+HVLmYtpFJtidyzxc8X5zDFJ2ZoTlqPo05Uy/XXp+YgrA9oj3cNEWFaOGz/AC8qz5AHC4c3o0pNUIlfI1EaJJNidsMT5TYsMGDIMwyv8w58rXHi29WThjzyXrnNWAlVW6CN+QW7J4cE58oXlr1K7/Kkj4d8JnLKVRjAaEBL9sSnL7jnyz1aaPR9kelGJMj0UaBwo5QUU5oXWr26aMJicqLd0z0scNLS81qslZQsjlbWjbGpowVJXGMFhyi5TWpYo7PUbUwTlAMkHL6CCBUrsptd7XxSDYR+TT4p45l5b+pQrDNqzm+bhyBlRBM+9J3IQUbd03hOYHjnH/P6KcE5uqfyJj7Z/wBkiAwoPq1QvxKz4UTdWlZLVnYH4/RWuSQCrA0fYPgfsBl3yYfoeF+6MvciC//EACERAAIDAAICAgMAAAAAAAAAAAABAhARAyESMRMgIjJx/9oACAEDAQE/Ab44dbbJcePowUcvij5MVYYSRl4ccPFHobNFM/g1fFHWJEnWVDolfDEZOtEIZ8iQkQWIY6wRFU+KL7OJaxehjXVRg2YRJHmjgXWjlh873BSTM08cMIkqX4rDbTF6pE/pGofsL1c/Vf/EACARAAICAgIDAQEAAAAAAAAAAAABAhEQIRIxAyBBIjL/2gAIAQIBAT8Bzoe0JV2NENumNaFJR02Vhl47w9bOacbxZZYkPCdFl6rMmJWS/PpFDyyEaRP+iLS7JbI19I18K1RwlhbF0eVb9I6VidnJ/CTIIieR/MxjyJEJcezmifZy+IVjWIxchKlRIfp1ijx4bH6MQ+iGPpLH/8QALhAAAQMDAgUDAwQDAAAAAAAAAQACERAhMQMSICJBUWEycYETQqEEI2KxMDNS/9oACAEBAAY/AuIMY0F57rY2APuiglSKTMhAhbXZT7823sjHXKazU5m7SYC0SzTdplwMtnjcRdcl1DxKlvM1RNNq8GgM8rsx1pym6l0/KyuiwF6V6SoFnFF34QLZ9lGo2yEOK39VYqWnCvRzfu6UCE8RhSs8yjKj6dl6CroggKFyNK5rO7IvYIa+6b2yeKBkouVlZSVhYWFyWUxagcyE5rrv0jK39XU9IXpCwFgIzlSVJUDighbm3amHwiPsfYhbe3DC/KjooCnoo4imjwtN7cEwhwk91udk9Fz2Jw0JmmPSgsqxlXYriKlo0yVGCF5tC/kKehekLba9C7r0X8nZKmhOmwuKlz9NnWEz6zQWuMbhX0l7swE36n6csa7BTn9EIxlXBzHA4/FSUye1eZolNbfa3FS47tx6ym77tYLBOPlMHhTdNc4QTQ0NJ7pgJ/wPd2FGh2JRUOZMLACu5GkoeFpv7OBQjgsQas0R15nUCbPdAyAak+E2kIeExrsgcHIAFdOe88oTtR+XVcgWYFq3QUFWUlCKXXK4oou1HLYz/U028+aT3UIktEu7hSBsPXarlHsFs0wXR0C/fcWlWcVzmyg1vmp0NA2+4j+qfKAV+lSi1uU82fuPyp/CMCAuYBQFFXOabBbX6sNP/NkAhQe6PBua+3stj7O/tbhlCVentUjh+VFY6K+K/HB4oQivmjyiUz3qKWofagUIAihofFHJrfNL5Fqf/8QAJhABAAICAgICAQQDAAAAAAAAAQARITFBUWFxEIGhIJGx0cHw8f/aAAgBAQABPyH9NHULLEdCLji309EqGjjuCJKJ9QD1s1e5imBLiVBJfF7jt3aGtX4l7kuvK2Hi2pNoYg26ElIn6wcTALIlw5ITG870kpNw7qA8iaeZfciXo2N+Egtp2emIUd+JQNAD/IgC21LOY0w1MlBxZZTOHb6+Mr3+U7pYWf4ENw3cFoQYUypg6NxILPEBVvLi5isJwsolHaZIcaWUJtNeYRnC/fZLrxm4iIbYRzq/RUQyzJl5qB6OCZmxpiVLAUrO2GQt4TLBHrUHTk0wvK9kuq5PEc0PBLijNu5leA/o8wxKpAAB/TYRlfa1K1bV+0unDLz8ACQuNoZfsWgOztKR06ZsA6uB0xDpvkhtH9Xw/wCx84yFYpweIT8wvcvENmGJKCVBLo0BMmv4ZwjMJZlB7RuBJbUxSpUdSp+5g28NoAjBija5kCYhFJ8jiBi3iGTcGEtmomfUHM8yvn5MguIrdf6RuF6BzFuR6A9s2onL3BMTDikzX0oPEtiKaMxSm31AQpISgtJUbNOCo8fwwPcv0vtl+ghx05V1M9QRvGD5lIKuRISfUrE6hDIeraBs5/5AGjhwe/mxpEctw+2XDkWu5QHnAvup3F+BTTiLb4MAeXD0RWnWYxnmHM4gaCrZ8BjMYtQ01AeKF6+JgxJLtsDoigohoGLULbZ3KWRLhCX78xggl8SuvRHZgpM+1pGgI4yzT4bQBNoMkokJfl/eVM7InGBvsuAUBxddzePiF0hFNfkTP1+Jqc6jT7kOFq5mP9kvnTHqAxWMIsQbd1A0DsZRIRcv/gcTFLcbM1ptNvDurs+NyXmPxsPuVv5wieMMa1NfmVgLbFeIqesLyRQpRDUtHQVM46lHYbZtqtdHBMT1B1x99OKj3nAj7MpGARsx3xE9RMqRWBOBKntpa2g+pN4F4hXAd+CMSfmMYHZKw7Bn0021Utj6iJ6+EfrUtT9ZM8jf35ISzedFSjnG9RQ9GjEMhffcoBFyJicOkAm4DLAN799GI9EECzlaIKXTKpQIRGVmfcqjCh2UYhesBhpm+qggvO24FkD5m0K3nJM6uuGHeVTGddJcv8wEGUMPYftMaeJSXw2zMIsW41NRmCUavcr8eRyiKt+h/hAKJhU9wzFEcogE1PvQFwh6gdlMA6mJ1qWUfqVr9w34xmLnMtWJgVLf7s0kM9p5JhJp1BVxuadTvwjLFhnqUhV4kpbvE2D2lwvmZdSGr+6hNWv9E1wYIj2wQbenJCq8Q5O4xbEIw3Ipwc4uYA05lD+Jj7SwOoqIqnmD2M2XVuv7jd5t5mSz/9oADAMBAAIAAwAAABD/ALiNcC6nlw/yWRziYMozJRjqltKDrz38GUI6wpqMlo0ntaI7l8EcwLP01u1OKBK5d+11NCMi1fPl6ogO4kCkUDAk9MgC9ieB8edB/8QAHREBAQEBAQEBAQEBAAAAAAAAAQARITEQQVEgYf/aAAgBAwEBPxD6AQdgz2EsPsOnidGE4xtt/wCQ9ThPOTjYzk8ylofmRq5P6yRlhE5xnvZk7Z9dCEOT2H+wP5LHYaWSn8uUfy5wh5k4JOci8upVi2jnwFqk95ZMPL8rnZnix4ZHrpH69sz2B0bhyEXeR+hYJXrPJLY+ama62Adhe/ngT/EdVhzsaaR3qzvwcdhZ9k+NmmP8B+f/xAAdEQEBAQEBAQEBAQEAAAAAAAABABEhMRBBUSBh/9oACAECAQE/ENt+H6hy/bwTPvyXWDkZ0Pxj/bRH4jluusPMYuBFH3tixPK2Eu/FiM2WM+PfuBI+QQH9izL2VMbbj+HLLLawFPZ5rZC0Iau+x2ofgS8um3g2AYtliyy6wf8AxZFpBDGFMR2C3Zc8I94v5S3E8VoaM57ft5kWSfb18XXbLwEThlm28vaOPw/wd6+2Cfb/xAAnEAEAAgIBBAEFAQEBAQAAAAABABEhMUFRYXGBkaGxwdHw4fEQIP/aAAgBAQABPxD/AOVNiA2fItFdszXEZoXuZXrcboco9W0X5+k5CoFt+IZa2Jbw9HpKVnSRPUwryqu67QW0XhuslY/2DCHjR4eY1XlOIgXCw7tRBw22jK3qjDXqXUyREhAiZv7y4eDphBtXDdj3/wDLly5cWASLr2mC68MUADaNJ65gC8hVvSf3DQzXkcdUbqIhTKOgdB/cSk8PV2e5QgUDWRkPIQLeUVrtP4ly6GRXT+uBaZJBewXPY1KcMtEQXqULPcg3HrtB8zgF8kvkgp23zOIviA9DwwGFNW7OVd+Ixkhv8PiIyYMfnPP4h2GyxlD+4rMMIzXa9QcpRoh9IA1mrTPGLgwAUKsTcylG2MGdNsU2kIjhuxhj4XzYH8FRG3LLK1G+WB7lNtN/ExKJX/jSWEcYjZegxDoi7eSXxQwvWOgcw5LwaAd8U/EUblQlCyumparjtS+F8eJS4UulE97iGMHUPrMw0dHDsynpXQA+I76YUFHTWfZ7gox8THG+Ufcb5a69Er6KMEuXLxLrpFcWFFccX95dUq0X6sDTDKi68HmBtu2NzL4NrlxqEbF+IJkS1vD2j8e4s5IRcmkXg/UOcQsjkdV7hCkzFwv4mEDqdFEXviviYvkNuwcQFT/vJ/0Gf9lhFwF7Y7XtsOOgQsEl3bk/3aMwadideZYkUat4fHXtxGEp8sqCCgQLJ/yLqCVbK8pbQ31HiWEaDrFmZj3EikDwevJApyBTTnfvcdsTuuGEGTzCMo0U+OPmviDTdyHfidSbi77xxVe3NY5V4Iu0GGqE7HBC944j4YALlwi43Mpga7EroAR4sYYpONYHxgv1DwNgujmqZkQu8y/Es6gysLcFgfhEnYGSr+xAwDWukdZLG0Ut/wCYaYAQbCHcgIblTcTVL5plL5ZCreUWXZwLiQpA1rzAOSi3lxiNfDMGbMJ8cQNIBsc0fr7QCj8owQfriVjlUWg1y/UPK2XisS9hn7NU3XbLLM2tLc8fEPDIkvoNfe4GBDJoxM+scEgoID2PRaj1FECw1Q71ioaimJcdXUwTSNj1TXjcSMpaYo056jshEKLR7B+WOwIUO60Y8XDsScqBVj95WtPU08TbFxQxuKM5b5SvvcrR5K+hMhwLV7iOZzA71/hBK3Q9cjf3jEVuMwDKb8pcjw7gCFXWgo3x3zDqVnmWYyukGyxMbarVVoD1LZzLsd1vauV6s07BxoLYdWwPBVU+tyi9ctNV5/TMlxglnQOl1FHPojoWMMzNM/f3fyxEbpKv5/LO27dQFBsund/QQatUsci/iL1l2Q9ppglKMO5mRouPMFg70oPlIYFHYnd/2H84rsGPpDXLRSyi4gA+iG0XXGsfWA/LWpk2AZAEvDcmn94J39wdwbfvFLIMj+9QN4qqK5pX2mZh7R0vszKSgETknZKFNhR1ZXOs0E+kYSy5amSuYFiKqHQsD5bfUcXVcQLaJVIa4/MzIgCPMChOo9Rbrv8AmKrUqcWw1NkA/Ix9pXhw/LX+y7Xez1hhaWoL2a/TG5VPcdHq7jhkW4DXs1DZapZiqWYWQyIL1a5lzoFVS2zacvQO64PMxSrQuNQdgqWiaPuWj8wTdsLKGgKWxTWveYVMNkXnay8UfcrIll/MQwOq8pg/usoRtwdMN/iNnIy1N0NVOQ80/jxCUqW679mNm1pKvg7JuADopMFfQtp+5TjlCal5BWwoAZVYnEqfEt23RweYKQdTzN/yHqWGl5AdTpLcgpDF4y0EzOtSO9UNu4ExEgXTRLfmy5dsqKPIs39CsRXbsX0Brl0sJDO8LUfqNbhctzi4QETXGDQVEb6SUbHUczG4IaGpXkbtYrweTr8dZXQyCH1lCoLdf76SjNgdv5xFOr2DdQgACCziHlLd/wC6SpII5aF5ZdypF1GLcOu25Qe+98417jZECN4ehjHjUSmmLp67wqAvC1B0szDNJF9QmGrQm01K6aUFZ43ACCp5HIpl+YCsBBODqXtAnqJV+P7zATgJ5A/yUENhr4GFLaqLzuLuJZhKqoty47RemWY33wZUWLgd3PjcxsFj26S1Rsr1LCJopcniZAqbMfWDKlvd1mufMor3ECo1KpmtzOSyz7l6+R6FaiWHmz0/gguM2B8uftUHBmx+f8IVrTiOtf8ASFZsMYQzUrVdMO99orWEc7qEwBYm6TSPCdZWeCdbjMAZ2tcZ+sNdTim4AIOzdxRw7BvrHZlqL8Q1Hccp3ALcChXW4AJnZXSpjYtVMmM3DyFfgjM9YHGM/wDGUiBV939zG96VXmVmWhRysoLxHD45XT46M3lYsuBVMWV0uorBzsRGVwEXfzEeSjLcMYLYhDEHgjA4naFS4hs2q97grbTJ1qFa0yLrrCQMKzylv1lNcody9wyus8ctmYkS48Khs9MOez//2Q=="},642:function(e,t,n){"use strict";e.exports=n.p+"static/media/avatar-default.7fe14f0accd9979e3303.jpg"},415:function(e,t,n){"use strict";e.exports=n.p+"static/media/googleplay.d255a6c504315fa57d4d.png"},917:function(e,t,n){"use strict";e.exports=n.p+"static/media/login-background.d7b868078a7f6cb9112a.png"},426:function(e,t,n){"use strict";e.exports=n.p+"static/media/login-slide-1.8073c02a21c4c8fb4dc6.png"},948:function(e,t,n){"use strict";e.exports=n.p+"static/media/login-slide-2.d40500a76647ef643b53.png"},388:function(e,t,n){"use strict";e.exports=n.p+"static/media/login-slide-3.e89970c85bfb14b63527.png"},510:function(e,t,n){"use strict";e.exports=n.p+"static/media/login-slide-4.b1eacf1f6f6f4c47a49a.png"},427:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAAAzCAYAAADhNlhNAAAAAXNSR0IArs4c6QAAGJ1JREFUeAHtnQecV9WVx2eG3qSJFN0YBKVJs4SAYT+IRsVVoygqKJ9E3agxETUWYsNuNCZGjVHZaDQqgqJRYwwqq4xRUAIsfSiigIYm0qTX2e/v8e7j3PvezFggDrvvfj5v7um3nXtuee8PhQUVpI4dOzbcsWPHwdu3b69K+mTGjBmfVKBSqdidOnWqQ93bU6kt1apVWzhlypTVlaqCeWW+cg8UlqXZq1evmosXL769sLDw0tLS0upODvw9nGAgTvyho1XmvE2bNjdQ/9tcHan/uzwXzJ49e66j5fne2QNFWdXu0KFDsyVLloyHd6V1XMmCd9+yZcvgLL1KStvf1ov6fw/8DEvL4b2zB1LOK8fdtm3bGAa5k5pElJoQNg1anZBWifF6Yd1o2/qQluN7Xw94zhs7bjGD2zZuypPsc7OiVJW9pam0pVZY19x5wx7ZO3HPebdu3foYA9tGTSG6Tm/RosVFOO/2jKZ5ehn8SkOiHSnnLSoq2lBpKphX5Cv3QOKEbdu2HYCVE50lBvjK4uLiTThz1qEu0XPylTivEdaN25PcecNO2QvxqqrzIYccsi9Oer+p//uzZs0aLZyBTjlvGQ5t1L8ZkJuFQUTa5tRvA896YDnpv4W1kUy7du0OrFGjxpoGDRqsY5JuC2VyvPL3QOS8RNnrcNJ9XXWrVKlyu4O5I82KsimHdvLfVM5+vT3bnvtx2qQKFk6IANAfol0FGzZsiB4m72YceiWsiXPmzDnFyuZw5e2BIga9Lo57vqsig7i2adOmrzucgU45KjIpmpP/pnIct9fXKLsG7WyOvq7R8rSX9EAREeg46lrf1ZdBfMcuo1nO62QrU85qsW431OfF3WAjN/Ev6gFtG06wZbGFeMvivE0r4qWEJQn+xiIv+9pO1LE2adqkSZOSgxd79Cf79es3jGW/JhNSh7Tq5PuwqsxJVZ43bDj7B/C2YWsHcttZTDZDS8lis8r06dNbIVu/Xr16cylzTWjvy+J6Zb158+Z29O169t3zsLn1i9rQm8+lS5f+lKByLM9G6n8Tbwunf1H9LDlWX/VVG2xVrVWr1hzbr1nylYVWyC3DWAamh6sQg9gbBxjjcBrWmiX5A4crR+YlZE5ztMMPP7zaunXrdMDbzDOB67UnZs6cOc/xXS5HmDZt2s/o9L7Y0IuOkQzeg9AqfGlAPU+inneh00H20F9KOT2zyhFfiXrVXrt2bco2ugdR//k7pbL/3nzzzUXDhw+/kLregsR+sVQpusMo9+omTZp8hhOdB78KtNlnn33239HZkW1tJxWn3Q+nvQOd86BEd+XorgK/jfrcd+ihhzalr09nEq3gGZv1HQmT9ynkz3XloD8N3c4O/zJ59+7da61YseJqbFyDzejFE/AWnt9T/pC6desWrV69+jzwDeBT6et/ZNmnTmdCv4rnA2T/XqdOnRFuksdj/jvsd4c3g+dRJtvboR3Gty/jq7oshfdM//79X6ioPws5rOgbhYOcMaJBBypZ4nBO5foox/sOgAI858XBm9HpS5wOuZz4gLlz537maHIkHPyvNOJoR1OOrY95TiovetA5elEyHN3ogOn00buGgbvH4WGuCLdp06bUdqJmzZpNmTCfhvIWp8yHKe9iSzPwLMq+E/5ThlZCZO7hBs3QIzB23HfROTjkCcfeA2S14f+n44tG+y5zOB9JHYTze9+UILMOGe8tYteuXZtoMSmvjXHAeYXyjnf2bY5drcCvwf+Vo0Mbg1MdGzoVfTUCubOM3B+p0wXC4V0M72HHU06Ev4rx/o2jyX94qzsPuWgCiU5Zs/HFvkzgWU4uzIsQ8u5BabR3bcRsyLpt8OxQcChTgwrWtUI47jAq5zmu+NC+RRlvKtJZeQd369ZtH+D/Qs5z3Ji/wsll5Qx0pk3amGw3svTo8MGUV5bjSqUdz0OBbvuNGze2DWgRquhDXTRxMx1XQvAGkSUOECkWFHg3HwSIf4/pSYbeet3RE4TuoN5/I/90/fr1nzJpl4E/zzYjq98KGI8H0M10XBmH15tsSFLQTtrRI0eObGBpgpGtFtAOjOmF8BSRvQTtFjvejMe50BLHlTB4W9r7pKcYIBrc2ZaG04VGCi1fMIZ33UeBE8lSMkyKRIZO1PJ6amjH4E3olI4GT0AtW+g2TAgxgH194vhqSLe4lj2LO7h9+/YbHRzmOMIhlHdLSAcfTpmKgk/wIFLqRTtoihablIdp6tSpFyF/pKWr/uC/I/8Jz0viZdj07DHJs+rdFPow1K9Dvw95E9lSAj+drU2/ndiuv4xHG3g/3kWJ6r6Vegxl/C8lf0U8ZLwAJBpj7dVJNOS9CYJeNPb0pYJVK8nYBLvOs88+m9y/gw+0fAO3NHAKrErBWsqOcRxmQWvgyQ6vXr16YcaBLXFMyaGTchL2SNH+L9533uXskWtL8hhPsmyIxyxLPrsUbtIRBrbgYywpyywhhKlX1qTaykTZHso6HEe4Dthbjeijy1gGtaxHiei2FuDSGE0yVqDUwCry8YXe9fF4OlmVfw7bqudjwiP400hktD1KEri2X0lq2LDhKCbzZ9D3TYgVA6lJhv5NqFUxqtuh/YD6jIppD1Kf16HpJspLJ5988ia2Rh4NOWvL8pK9uSUKZmyi1/ZsGToz9p1CvnDsZk3WRLQIJ3sEzHZS74QLwGCmHNPyBWc5LzM4cnCWp58isp/kcIK1TIZTyFOV4hBU1lKeOomjrwH0ljTZDxOdklV321ZPpUuXLg2wPcASwSdYxxWPve2NZJ9bOcHIpmwT+X5AXVtYWeQex6Zz3IhFf/3SyghGTtE5SePHj/8cmo2kpejdC+0O8uvJ/5IIxwBlf2xpHAq15TnL0oCHGceNWIzHFYGM6rMt3O9KBnrovKXaU1O2O9QrkHl9g99F0ZoJ39+Us8jAsrve4iFcxOFsKQ1PDgUInEtkSWY2FciKXl7kzZJhj7dDez3sXW4KHayP2KmUtzURnwmQ6bzIvmr0HXi5PQw6Yph/WefljdvxtKWatSPnsLhgHcqo14SQjq7nbOIz+U8P5dC9J6SVlJRMhr4qoHvnD/EoYx8ng/w4Dj5XMhFuIL8TXKuaTaUEi/GWQJ/0BfcmNduv31oZwTq0Y29xQE+1T3zqFDpvAbc8x8KK9sfY0QQrlqxJ0UqL7kmiwd/G87Dhy26mTziZqBE0fCiKv4C4A4W6DNh1TgA85byO53Ia73WG6NgoxVFPQL9FLDeVk+pQwQxo7ZiWZNjIrCh1e4G6vZUIAmDzLvZTPSwtC+bKJqvuXgSwepRztMWBS9njvRnQHDrRAS4nWnnbhrjvNIg2ldCmuZYgmLIRL/WuJCFnbW/sIetpa4d+9bZY2JzHHXU4Ibz6ILOScZpq7Rg4bKPXPieHDW/81RYeTRKlTdzJ68bC0yVY1WYMvw29A4/GVPvsFYJN2mLgFJgUyuy9m1B+FIW+TCckByRoiYzRrjDyoqfL//OdDs58o1tyKCMVeYkImc7r9IP8ABpbzAqRWtqsHOV/KedF91CrTz3nTp48ebmlGXihgSOQNnsTg4Pht2A0sXLYLLa4heGttDiwF3m1ktHuaF+MrPbdOqjZFO4dJ1hmDHcMaBOw5Y2n4S8wsECvfYYXRl7h7oD+nPqQenvjS5l1ofVxNsCf4KnqcOXgqS2j5XvCvKV6H6Yr1MllOYDXWJwk5eA4o/aPJ1FBVWIa0UYzK0rgdUS3iZsBb2Y6HgeHo5HtLRy9xcBRJCfX8n4v/O/youP8L/KiI7bpOURMc1l7ByinjHkWtzB10SHHkgpYPbxIAb+NJ7ATmZFBi0jIh2cB7RWTxK2FDlD7xQTtm+XAUdKV4qpVqxzPkac5QDmRrjGBqbGlAX8a4AlKG7cFbfTa5wSRCce/G7S64hO03ARb5+TjvB4yPWN4NavWa+x/w+vJcp03LDSwHw1ghc5LJVIyNLwv9Ghfg9EHrGHo4bZhB/vIzIoi+8tY9x1eXXbA7rjA1pnsr9/m1NrI0gUzqSJHD+hZS3FBnz59alBWsuLEOosC3QRFNmVn4sSJ3sRAxou6Uoa2IDESALTNCybIes6L+CVSkVPxePvUNWvWHBiYU1lzLA18X4vHcLitSESQD9vj4U6Qunh+hF7kuNBX8mLlTckBr3byMd4IWo+Y9hp7bL3Z86MB3WV1QtgrNGQKpyIpxxTZyjKbU3bQGyAZKrSOqDrcygOHzps5o4mqWiK78ewgqg3Sz9aJsoo+/82TJMo6nFk7Rq87EyIAzhuuImpPyumks2jRovpWN4aTyBbyaFe4VKqtXr+Ap7ZHRCJvEAO7Xr+gnzgvk7M1sifG8k+xki0IdCOHCWje5CO61Qz4qnOZzousN/a2PoEdT87x6Os33LVkWA68tjwHSpY+eS3WCbclKb9ytiM9i2TBFJBVMc8BdBcc6qIX7R/JnyeqevsdZMNB8uzJFoNVHV0XdR9lZk4RXduDxo0bnwLonaKR7bRy5cpbJeMSNHdocCQNVqosMdnmpJwX2bDeiR1saz9rk+e4YjCpU87Lvrg8my2tQeDEJvW7AVxvRLfQ37cHcpqU3sQVHzlvD019UjLolTeZKmxjXI/U+Mf0N+Nc9fvUwcrBFYSiRGB6Jwa9rQUye8R5k4igQrMib1wZZc8Z2IHe8uiINidqXgquaKPOvd7y3nvvvY3cAui+ODydDtL3DJLlMHcMjQ8PJ2JldghtaCemTeh7k8zygENHK7SvPCVLRMkqq0ZgJ0J1LwoQRaKQH9/NDozpD3GD8FEoQ1Epx8ThvXGiPSknK2syx/YPsuWgX9a4pexKj4mqM1SUKMdzXojtxYC+0rUH+57zwku1KTIW/8nqXMvXDElVDJq39ynLeSl8XatWrd7yDIKEnQDu1UNfV2HzRukxKEOy7nT10Qn2XWSOisBOdQaMl1rR+3zts5fzeJEFmVSEjZQLCo6Pc5vVs4iFsdPK4oL5Dtrt8SMWbQgHTBN9n1BPOC9z5CiprYh4tOleMvXRcpb+20QLE3ZTjkXfeZEfZ/K2EbKBXrjPt6bDNmqCZaVUPzE2+tx0rhFebOAEpB8nOQSdzx2sHJ5Xf9HwjVZsJ28V7DmNCF8weYcrCkk5uOxAf2PUqFHhPiariJrWBoP1a4Tq05gZzZo18y6urTI6f7Z4DNfjdeztwO3Rf4BnqpUBb2BxwTi79oKnhXRkDw5pwnVqh3d4yFu+fLlnG2dZEspQZzlpVjoqi8hXfaehc0LMu5Ttk7cVcDo4yjIHu5w6eoPPZ5xyoHDbtL+Ttznbti6UGx6CU06qgzJyHaxuDH+iQ5ijM0kWOtjm1HGmwUMHb2F4EYhv6F9wilbiCp2X/UjKMemopFKySDTItEPFRoeFx7i3PEArZJCijmK570Plzo3lLrO/6ghtNW/ePOUcbDf6oT+Yslex5/s9+QyrB68eW4sDLA1n12d7zZH1VhRoXa2cgc+Al4p08JsZGR0YU5EKvcOsjIFPNbADGzHoDwmhbi+xAj3rGGHOmCwIaei2s7S4L1dYGnYz68MBeICVi+H6OotYOm08GTzlI7RzuZWLV881liYYuXmO1rJly4XBGDRQoHD8OO9DvhU9/4ojEIpQKpdaylAMnS9LVbQxZTA+z6AfwXLQhsoPE4/8ae4xoy0H5AtoRP9QB6c7JKSB9xUN/Wv1dom6es4rHrP3e8qV9I0s2Q3IL+W5MyLu+qPO674LjTq7EKc439IcTF95zoI9DWyYjlPHW6KWQmgnWppgaEfyNMPOSpzzkpBvcaLcUvAPLQ3dpJ2iqxyy/awMcBcc0pt08a3NOYGc0EL6Tv2VJPois16qcyIUA9BSY8HqtMDJxat0icOVY7+nw/WLb9qkMdf31P5e0wnZnE5LRRgUP7MyFOBFLPEkg/PNsXIOxmZqCaFST8P/H/KG6C4hv0LyOO4g4Ecp4xngF2lAc9HjDz/uEJyRRvPLhj+Iji1dwySndtGwdZX0FYH5Yu5V7Gt2P4jsIzxeW5C9TjouUYfLgb8jHNm/OLpy7CgqRAm5FuA/itEkg9aSNpztCIpkOMSj4KkgEcvo0HUOL5BSq4yzYfKXDCzwNPudipbcgK86V2XSXW3p/LriV9Bb0D59Jvmy5QH3dnjcjqgvHM3l6G9wsMnfNXAE4gtehKa8v1kZ8CRQYPNi8aAVR7n+lJeIPMczgHKAJKHcD7983hE0o3GCeQ5XjswoZFLRRDwG9kwq8qzgMKGny+rjuccsVgTg+uufyDYycvqZ+iTwg6B7EUMy8OayXfiuoq7TobxRyLp9oyMvA9DhrSbPPG4vuugajsHWPvo0niRhUz+9+TO5vtW4EIYi53DKGUy7P3aC8OX42pPp5y76Gf5hDM4t9N9g6ConSvB0fzyEZxHPFcgpuut7gLeBewHbdBNL7q2WUBbMZNTPjD7ERl0ng803eG4GP4p63AU8E772wvYwprJ/DX0ceX/yM2P9m6n/X9GbGOPK/onMj8l1lfkn8lo8U3k8J0ZGK+dA6EliorZmOzIlLj+iE3k7MjGTiMyEOJjySpBJgia2HkB4Mc9t0KtRpx74x3tFieUyAITrhSz2wZMtjU8EF1OABs6m6RaxMIM+GvmtlhbD+iHkADmucL5MUvSyjiuy3oT14Mly3Em8xOhpHVcKNFaRZZNgk5oC11Q96MCB7vUybVNk9aIBZWkQXiS/iByVwnHcNV/ABy2fgA/niRL8qjw6YL5DfhhyE1gBbiX3llZ4ejX6W57neKJtCTLXohdO6BIc4Lad1iv+qxsY7GmiJAn8OJxhHM89lKEV6BLaqP3s5kSINiGnPlIbneOOoOxbGYtJ6L1uZPVdiYKBInIDHq1YWWMd9re+VFOAO4VnCjraVozmH335kDxJOPIHIPclBADK0up7F0819N6U44pfofMi00SCJn2ozxoNXqB7VwzbBmqEPRkrH+9FNZuShPxnOFE/KvaCI6oc6OfyLHW0MnJ95zqEg2MPDWAoo5kN/2yecK++hnr3gf++06GDP6YeJ4B7K0nM1+R6hIPiMWqzaHJistExP8mQm8ZEOkkfI+EEjzOBBsG0DhPJIqcfW/ZH5m4InRMDOwG1y9vyBPwUSpR+CB1NFs95oG2ApnLG0sZ/gJ8K7k3S2NhGeDcMGDDgHHJXdj/gsTHfZqO5Cr0eghzOS/RrahwkQPlvUceu5I3Jj3P9aJXp32sp74+WFsOTWSF/6OjewcERbc6SezcVucbRGATNxpsc7nL96I/fcP0c2ZbQVlD4EORWOH6Y60L/mWee+Qn07yA7k4F+IsvxpKd9IctNb8AePNqwa8ZrcBai+z6fPr6c8RYPtp86d+68P8vqD6ljWzhahobSifN9qZ0Ye2L9YFTfZ/SEoghdwooxkon3UZY8y91/EN2Og1eNZxwDMCK8KWEL9m14WpYPJtf2Zzx1f45vIjbSz5rMP+NJEvxJ1O+IhPAlAB3C2OP+CBvqr48Y9Mf5sGeRNYFMI/r1LGiH8ejt3RS+HxmR9SUddS7kK7lTaeOxyGr1e5t/iHG42qiv3Qg0/eD1gtcQ3jL66p54ZYL01RLldcXmQOxpezexUaNGT1hnr9B52QO+geL3VTyNW0mlWofLsnh5+mo9oIHHqR5DO4koxtJUolMXg+eg6YFytw360gqHPcrJMwMuzx3X9cbXz3XjwWozAkvOcT8PrCaHloCeo/RAuc67YMGCnjhsbeS281xJFHgq77Xd0wN6q8eBVAekM2KLiwgUA6118Nx5bYcEcLmdQ8fqu9HneO5zJ7xAP0e/Qg8o4vKC5UVUdTBUWs527PvsP3VbsZPCX+AdCZIDqR4o13lx2GI09ORpN/UADlnI4Uz3o85xN3NLcjKHm1nxASUpiaChG4I8ldED5W4bytDJyV+jB3Dce1Dv70xwTXYhvxweL5zIq5cHNkXXcZaQw7t6IHfeXX2xxyEiq67dfu4KIrIO5Y75SYMnb8Zi2hLHy/N0D+TOm+6TPULRzQ3fEOhKzF1PLuNO9Re2MJy5kcXZYqQu/y3//zucO++/yAPmz59/Os6olxNR4mXPkPC/kuVCvrXjK2dLMcfiOez3QO68fn/sMQzHjF70xAVsrl+/vu53vUTkTZw7ZrztCeSI1wO583rdsecQHLO5sw5crH93zOEm1544SsjMZT+80OF5nu6B3HnTfbKnKNZZUx+t8J2BfnZzoClc++M8ldMDufOW0zm7k4VjFht73XSAM7iuya4yuJz7YYPnYEYPuJNvBisn7c4e0Fs1vlIbixMfKbtsC/QPCP4GcB20y3j0aaXoW8j0/4KMFZ6nsnsgd96y+2a3c3hB0RInfQXDHbKM47hLoQ/Accdk8XOa3wNVfDTH9mQP8Nuw1b179x7KT+Tn46j6bkHfCa/imcnV2f3kF+G4JXuyDv+XbP8vclMYkqvaVMIAAAAASUVORK5CYII="},339:function(e,t,n){"use strict";e.exports=n.p+"static/media/post-image.d3122cb018d428a0e51c.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/instagram/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Oe},SDK_VERSION:function(){return zt},_DEFAULT_ENTRY_NAME:function(){return Ct},_addComponent:function(){return Rt},_addOrOverwriteComponent:function(){return Pt},_apps:function(){return Ot},_clearComponents:function(){return Ft},_components:function(){return Dt},_getProvider:function(){return jt},_registerComponent:function(){return Lt},_removeServiceInstance:function(){return Mt},deleteApp:function(){return Kt},getApp:function(){return Ht},getApps:function(){return Wt},initializeApp:function(){return qt},onLog:function(){return Yt},registerVersion:function(){return Qt},setLogLevel:function(){return Xt}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=k(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,s=e.hash,u=void 0===s?"":s,c=i.state||{};return[c.idx,f({pathname:n,search:o,hash:u,state:c.usr||null,key:c.key||"default"})]}var o=null;function s(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var s=p-r;s&&(o={action:e,location:i,retry:function(){A(-1*s)}},A(s))}}else T(e)}}r.addEventListener(d,s),r.addEventListener("hashchange",(function(){y(a()[1])!==y(b)&&s()}));var u=t.Pop,c=a(),p=c[0],b=c[1],w=m(),x=m();function _(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:y(e))}function I(e,t){return void 0===t&&(t=null),f(l({pathname:b.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:g()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function E(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function T(e){u=e;var t=a();p=t[0],b=t[1],w.call({action:u,location:b})}function A(e){i.go(e)}null==p&&(p=0,i.replaceState(l({},i.state,{idx:p}),""));var C={get action(){return u},get location(){return b},createHref:_,push:function e(n,a){var o=t.Push,s=I(n,a);if(E(o,s,(function(){e(n,a)}))){var u=S(s,p+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}T(o)}},replace:function e(n,r){var a=t.Replace,o=I(n,r);if(E(a,o,(function(){e(n,r)}))){var s=S(o,p),u=s[0],c=s[1];i.replaceState(u,"",c),T(a)}},go:A,back:function(){A(-1)},forward:function(){A(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(h,v),function(){t(),x.length||r.removeEventListener(h,v)}}};return C}function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var b=(0,r.createContext)(null);var w=(0,r.createContext)(null);var x=(0,r.createContext)({outlet:null,matches:[]});function _(e,t){if(!e)throw new Error(t)}function I(e,t,n){void 0===n&&(n="/");var r=D(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=S(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function S(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||_(!1),a.relativePath=a.relativePath.slice(r.length));var o=R([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&_(!1),S(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:s})})),t}var E=/^:\w+$/,T=function(e){return"*"===e};function A(e,t){var n=e.split("/"),r=n.length;return n.some(T)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!T(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:R([i,l.pathname]),pathnameBase:P(R([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=R([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function O(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:L(a),hash:j(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},P=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},L=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},j=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){F()||_(!1);var t=(0,r.useContext)(b),n=t.basename,i=t.navigator,a=B(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?k(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?n+(f?"/":""):R([n,s])}return i.createHref({pathname:c,search:u,hash:o})}function F(){return null!=(0,r.useContext)(w)}function U(){return F()||_(!1),(0,r.useContext)(w).location}function V(){F()||_(!1);var e=(0,r.useContext)(b),t=e.basename,n=e.navigator,i=(0,r.useContext)(x).matches,a=U().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=O(e,JSON.parse(o),a);"/"!==t&&(i.pathname=R([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return u}function B(e){var t=(0,r.useContext)(x).matches,n=U().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return O(e,JSON.parse(i),n)}),[e,i,n])}function z(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(x.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function q(e){_(!1)}function H(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;F()&&_(!1);var d=P(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=k(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,x=void 0===y?"":y,I=v.hash,S=void 0===I?"":I,E=v.state,T=void 0===E?null:E,A=v.key,C=void 0===A?"default":A,N=(0,r.useMemo)((function(){var e=D(g,d);return null==e?null:{pathname:e,search:x,hash:S,state:T,key:C}}),[d,g,x,S,T,C]);return null==N?null:(0,r.createElement)(b.Provider,{value:p},(0,r.createElement)(w.Provider,{children:o,value:{location:N,navigationType:c}}))}function W(e){var t=e.children,n=e.location;return function(e,t){F()||_(!1);var n,i=(0,r.useContext)(x).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,U());if(t){var c,l="string"===typeof t?k(t):t;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||_(!1),n=l}else n=u;var f=n.pathname||"/",h=I(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return z(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:R([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:R([s,e.pathnameBase])})})),i)}(K(t),n)}function K(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==q&&_(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=K(e.props.children)),t.push(n)}else t.push.apply(t,K(e.props.children))})),t}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Y=["onClick","reloadDocument","replace","state","target","to"];function X(e){var t=e.basename,n=e.children,i=e.window,a=(0,r.useRef)();null==a.current&&(a.current=p({window:i}));var o=a.current,s=c((0,r.useState)({action:o.action,location:o.location}),2),u=s[0],l=s[1];return(0,r.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,r.createElement)(H,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var J=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=Q(e,Y),f=M(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=V(),u=U(),c=B(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(u)===y(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,r.createElement)("a",G({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:u}))}));function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function $(){$=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(E){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Z(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,s(g,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(k.prototype),s(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),s(g,o,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ee(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ee(a,r,i,o,s,"next",e)}function s(e){ee(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ne=n(448),re=n.n(ne);function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ue(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function fe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function de(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pe(e,t){if(t&&("object"===Z(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}function ve(e){var t=de();return function(){var n,r=he(e);if(t){var i=he(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pe(this,n)}}function me(e,t,n){return me=de()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&le(i,n.prototype),i},me.apply(null,arguments)}function ge(e){var t="function"===typeof Map?new Map:void 0;return ge=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return me(e,arguments,he(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),le(n,e)},ge(e)}var ye=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ye(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},be=function(e){return function(e){var t=ye(e);return ke.encodeByteArray(t,!0)}(e).replace(/\./g,"")},we=function(e){try{return ke.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=xe(e[n],t[n]));return e}var _e=function(){function e(){var t=this;ae(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return se(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ie(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(a)),""].join(".")}function Se(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ee(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Te(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ae(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ce(){var e=Se();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ne(){return"object"===typeof indexedDB}var Oe=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ce(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ce(a),De.prototype.create),a}return se(n)}(ge(Error)),De=function(){function e(t,n,r){ae(this,e),this.service=t,this.serviceName=n,this.errors=r}return se(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Re(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Oe(n,a,t);return o}}]),e}();function Re(e,t){return e.replace(Pe,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Pe=/\{\$([^}]+)}/g;function Le(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function je(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Me(s)&&Me(u)){if(!je(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Me(e){return null!==e&&"object"===typeof e}function Fe(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ue(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ve(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Be(e,t){var n=new ze(e,t);return n.subscribe.bind(n)}var ze=function(){function e(t,n){var r=this;ae(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return se(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ue(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=qe),void 0===r.error&&(r.error=qe),void 0===r.complete&&(r.complete=qe);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function qe(){}function He(e){return e&&e._delegate?e._delegate:e}function We(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ke(e){return function(e){if(Array.isArray(e))return o(e)}(e)||We(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ge=function(){function e(t,n,r){ae(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return se(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Qe="[DEFAULT]",Ye=function(){function e(t,n){ae(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return se(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new _e;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qe})}catch(u){}var t,n=ue(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ke(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ke(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ue(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Vm){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Qe?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Vm){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;return this.component?this.component.multipleInstances?e:Qe:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Xe,Je,Ze=function(){function e(t){ae(this,e),this.name=t,this.providers=new Map}return se(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ye(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),$e=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Je||(Je={}));var et={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},tt=Je.INFO,nt=(ie(Xe={},Je.DEBUG,"log"),ie(Xe,Je.VERBOSE,"log"),ie(Xe,Je.INFO,"info"),ie(Xe,Je.WARN,"warn"),ie(Xe,Je.ERROR,"error"),Xe),rt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=nt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},it=function(){function e(t){ae(this,e),this.name=t,this._logLevel=tt,this._logHandler=rt,this._userLogHandler=null,$e.push(this)}return se(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Je))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?et[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.DEBUG].concat(t)),this._logHandler.apply(this,[this,Je.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Je.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.INFO].concat(t)),this._logHandler.apply(this,[this,Je.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.WARN].concat(t)),this._logHandler.apply(this,[this,Je.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.ERROR].concat(t)),this._logHandler.apply(this,[this,Je.ERROR].concat(t))}}]),e}();function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st,ut;var ct=new WeakMap,lt=new WeakMap,ft=new WeakMap,ht=new WeakMap,dt=new WeakMap;var pt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return lt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ft.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function vt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ut||(ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yt(this),n),gt(ct.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gt(e.apply(yt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[yt(this),t].concat(r));return ft.set(a,t.sort?t.sort():[t]),gt(a)}}function mt(e){return"function"===typeof e?vt(e):(e instanceof IDBTransaction&&function(e){if(!lt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));lt.set(e,t)}}(e),t=e,(st||(st=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,pt):e);var t}function gt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(gt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ct.set(t,e)})).catch((function(){})),dt.set(t,e),t}(e);if(ht.has(e))return ht.get(e);var t=mt(e);return t!==e&&(ht.set(e,t),dt.set(t,e)),t}var yt=function(e){return dt.get(e)};var kt,bt,wt=["get","getKey","getAll","getAllKeys","count"],xt=["put","add","delete","clear"],_t=new Map;function It(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(_t.get(t))return _t.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=xt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||wt.includes(n))){var a=function(){var e=te($().mark((function e(t){var a,o,s,u,c,l,f=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return _t.set(t,a),a}}}pt=function(e){return ot(ot({},e),{},{get:function(t,n,r){return It(t,n)||e.get(t,n,r)},has:function(t,n){return!!It(t,n)||e.has(t,n)}})}(pt);var St=function(){function e(t){ae(this,e),this.container=t}return se(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Et="@firebase/app",Tt="0.7.33",At=new it("@firebase/app"),Ct="[DEFAULT]",Nt=(ie(kt={},Et,"fire-core"),ie(kt,"@firebase/app-compat","fire-core-compat"),ie(kt,"@firebase/analytics","fire-analytics"),ie(kt,"@firebase/analytics-compat","fire-analytics-compat"),ie(kt,"@firebase/app-check","fire-app-check"),ie(kt,"@firebase/app-check-compat","fire-app-check-compat"),ie(kt,"@firebase/auth","fire-auth"),ie(kt,"@firebase/auth-compat","fire-auth-compat"),ie(kt,"@firebase/database","fire-rtdb"),ie(kt,"@firebase/database-compat","fire-rtdb-compat"),ie(kt,"@firebase/functions","fire-fn"),ie(kt,"@firebase/functions-compat","fire-fn-compat"),ie(kt,"@firebase/installations","fire-iid"),ie(kt,"@firebase/installations-compat","fire-iid-compat"),ie(kt,"@firebase/messaging","fire-fcm"),ie(kt,"@firebase/messaging-compat","fire-fcm-compat"),ie(kt,"@firebase/performance","fire-perf"),ie(kt,"@firebase/performance-compat","fire-perf-compat"),ie(kt,"@firebase/remote-config","fire-rc"),ie(kt,"@firebase/remote-config-compat","fire-rc-compat"),ie(kt,"@firebase/storage","fire-gcs"),ie(kt,"@firebase/storage-compat","fire-gcs-compat"),ie(kt,"@firebase/firestore","fire-fst"),ie(kt,"@firebase/firestore-compat","fire-fst-compat"),ie(kt,"fire-js","fire-js"),ie(kt,"firebase","fire-js-all"),kt),Ot=new Map,Dt=new Map;function Rt(e,t){try{e.container.addComponent(t)}catch(n){At.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pt(e,t){e.container.addOrOverwriteComponent(t)}function Lt(e){var t=e.name;if(Dt.has(t))return At.debug("There were multiple attempts to register component ".concat(t,".")),!1;Dt.set(t,e);var n,r=ue(Ot.values());try{for(r.s();!(n=r.n()).done;){Rt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function jt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Mt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ct;jt(e,t).clearInstance(n)}function Ft(){Dt.clear()}var Ut=(ie(bt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ie(bt,"bad-app-name","Illegal App name: '{$appName}"),ie(bt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ie(bt,"app-deleted","Firebase App named '{$appName}' already deleted"),ie(bt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ie(bt,"invalid-log-argument","First argument to `onLog` must be null or a function."),ie(bt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ie(bt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ie(bt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ie(bt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),bt),Vt=new De("app","Firebase",Ut),Bt=function(){function e(t,n,r){var i=this;ae(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ge("app",(function(){return i}),"PUBLIC"))}return se(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}]),e}(),zt="9.10.0";function qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ct,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vt.create("bad-app-name",{appName:String(i)});var a=Ot.get(i);if(a){if(je(e,a.options)&&je(r,a.config))return a;throw Vt.create("duplicate-app",{appName:i})}var o,s=new Ze(i),u=ue(Dt.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Bt(e,r,s);return Ot.set(i,l),l}function Ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=Ot.get(e);if(!t)throw Vt.create("no-app",{appName:e});return t}function Wt(){return Array.from(Ot.values())}function Kt(e){return Gt.apply(this,arguments)}function Gt(){return(Gt=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ot.has(n)){e.next=6;break}return Ot.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e,t,n){var r,i=null!==(r=Nt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void At.warn(s.join(" "))}Lt(new Ge("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Yt(e,t){if(null!==e&&"function"!==typeof e)throw Vt.create("invalid-log-argument");!function(e,t){var n,r=ue($e);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=et[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Je[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Xt(e){var t;t=e,$e.forEach((function(e){e.setLogLevel(t)}))}var Jt="firebase-heartbeat-store",Zt=null;function $t(){return Zt||(Zt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=gt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(gt(s.result),e.oldVersion,e.newVersion,gt(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Jt)}}).catch((function(e){throw Vt.create("idb-open",{originalErrorMessage:e.message})}))),Zt}function en(e){return tn.apply(this,arguments)}function tn(){return tn=te($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$t();case 3:return r=e.sent,e.abrupt("return",r.transaction(Jt).objectStore(Jt).get(an(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Oe?At.warn(e.t0.message):(i=Vt.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),At.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),tn.apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return rn=te($().mark((function e(t,n){var r,i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$t();case 3:return i=e.sent,a=i.transaction(Jt,"readwrite"),o=a.objectStore(Jt),e.next=8,o.put(n,an(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Oe?At.warn(e.t0.message):(s=Vt.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),At.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),rn.apply(this,arguments)}function an(e){return"".concat(e.name,"!").concat(e.options.appId)}var on=function(){function e(t){var n=this;ae(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new fn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return se(e,[{key:"triggerHeartbeat",value:function(){var e=te($().mark((function e(){var t,n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=sn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=te($().mark((function e(){var t,n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=sn(),n=un(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=be(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function sn(){return(new Date).toISOString().substring(0,10)}function un(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ue(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),hn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),hn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var cn,ln,fn=function(){function e(t){ae(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return se(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,en(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",nn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",nn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ke(r.heartbeats),Ke(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function hn(e){return be(JSON.stringify({version:2,heartbeats:e})).length}cn="",Lt(new Ge("platform-logger",(function(e){return new St(e)}),"PRIVATE")),Lt(new Ge("heartbeat",(function(e){return new on(e)}),"PRIVATE")),Qt(Et,Tt,cn),Qt(Et,Tt,"esm2017"),Qt("fire-js","");var dn=function(){function e(t,n){var r=this;ae(this,e),this._delegate=t,this.firebase=n,Rt(t,new Ge("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return se(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Kt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Rt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Pt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),pn=(ie(ln={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ie(ln,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ln),vn=new De("app-compat","Firebase",pn);var mn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=qt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Le(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Qt,setLogLevel:Xt,onLog:Yt,apps:null,SDK_VERSION:zt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Lt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw vn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&xe(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Le(n,e=e||Ct))throw vn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(dn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){xe(n,e)},createSubscribe:Be,ErrorFactory:De,deepExtend:xe}),n}(),gn=new it("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){gn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var yn=self.firebase.SDK_VERSION;yn&&yn.indexOf("LITE")>=0&&gn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var kn=mn;!function(e){Qt("@firebase/app-compat","0.1.34",e)}();function bn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=he(e)););return e}function wn(){return wn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=bn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},wn.apply(this,arguments)}kn.registerVersion("firebase","9.10.0","app-compat");var xn,_n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},In={},Sn=Sn||{},En=_n||self;function Tn(){}function An(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Cn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Nn="closure_uid_"+(1e9*Math.random()>>>0),On=0;function Dn(e,t,n){return e.call.apply(e.bind,arguments)}function Rn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pn(e,t,n){return(Pn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Dn:Rn).apply(null,arguments)}function Ln(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function jn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Mn(){this.s=this.s,this.o=this.o}var Fn={};Mn.prototype.s=!1,Mn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Nn)&&e[Nn]||(e[Nn]=++On)}(this);delete Fn[e]}},Mn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Un=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Vn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bn(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(An(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function zn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zn.prototype.h=function(){this.defaultPrevented=!0};var qn=function(){if(!En.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{En.addEventListener("test",Tn,t),En.removeEventListener("test",Tn,t)}catch(n){}return e}();function Hn(e){return/^[\s\xa0]*$/.test(e)}var Wn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Kn(e,t){return e<t?-1:e>t?1:0}function Gn(){var e=En.navigator;return e&&(e=e.userAgent)?e:""}function Qn(e){return-1!=Gn().indexOf(e)}function Yn(e){return Yn[" "](e),e}Yn[" "]=Tn;var Xn,Jn=Qn("Opera"),Zn=Qn("Trident")||Qn("MSIE"),$n=Qn("Edge"),er=$n||Zn,tr=Qn("Gecko")&&!(-1!=Gn().toLowerCase().indexOf("webkit")&&!Qn("Edge"))&&!(Qn("Trident")||Qn("MSIE"))&&!Qn("Edge"),nr=-1!=Gn().toLowerCase().indexOf("webkit")&&!Qn("Edge");function rr(){var e=En.document;return e?e.documentMode:void 0}e:{var ir="",ar=function(){var e=Gn();return tr?/rv:([^\);]+)(\)|;)/.exec(e):$n?/Edge\/([\d\.]+)/.exec(e):Zn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nr?/WebKit\/(\S+)/.exec(e):Jn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ar&&(ir=ar?ar[1]:""),Zn){var or=rr();if(null!=or&&or>parseFloat(ir)){Xn=String(or);break e}}Xn=ir}var sr,ur={};function cr(){return function(e){var t=ur;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Wn(String(Xn)).split("."),n=Wn("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Kn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Kn(0==a[2].length,0==o[2].length)||Kn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(En.document&&Zn){var lr=rr();sr=lr||(parseInt(Xn,10)||void 0)}else sr=void 0;var fr=sr;function hr(e,t){if(zn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tr){e:{try{Yn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:dr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hr.X.h.call(this)}}jn(hr,zn);var dr={2:"touch",3:"pen",4:"mouse"};hr.prototype.h=function(){hr.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var pr="closure_listenable_"+(1e6*Math.random()|0),vr=0;function mr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++vr,this.ba=this.ea=!1}function gr(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function yr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function kr(e){var t={};for(var n in e)t[n]=e[n];return t}var br="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wr(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<br.length;a++)n=br[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xr(e){this.src=e,this.g={},this.h=0}function _r(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Un(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(gr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ir(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}xr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ir(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new mr(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Sr="closure_lm_"+(1e6*Math.random()|0),Er={};function Tr(e,t,n,r,i){if(r&&r.once)return Cr(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Tr(e,t[a],n,r,i);return null}return n=jr(n),e&&e[pr]?e.N(t,n,Cn(r)?!!r.capture:!!r,i):Ar(e,t,n,!1,r,i)}function Ar(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Cn(i)?!!i.capture:!!i,s=Pr(e);if(s||(e[Sr]=s=new xr(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Rr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qn||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Dr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Cr(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Cr(e,t[a],n,r,i);return null}return n=jr(n),e&&e[pr]?e.O(t,n,Cn(r)?!!r.capture:!!r,i):Ar(e,t,n,!0,r,i)}function Nr(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Nr(e,t[a],n,r,i);else r=Cn(r)?!!r.capture:!!r,n=jr(n),e&&e[pr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ir(a=e.g[t],n,r,i))&&(gr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Pr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ir(t,n,r,i)),(n=-1<e?t[e]:null)&&Or(n))}function Or(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[pr])_r(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Dr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pr(t))?(_r(n,e),0==n.h&&(n.src=null,t[Sr]=null)):gr(e)}}}function Dr(e){return e in Er?Er[e]:Er[e]="on"+e}function Rr(e,t){if(e.ba)e=!0;else{t=new hr(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Or(e),e=n.call(r,t)}return e}function Pr(e){return(e=e[Sr])instanceof xr?e:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function jr(e){return"function"===typeof e?e:(e[Lr]||(e[Lr]=function(t){return e.handleEvent(t)}),e[Lr])}function Mr(){Mn.call(this),this.i=new xr(this),this.P=this,this.I=null}function Fr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new zn(t,e);else if(t instanceof zn)t.target=t.target||e;else{var i=t;wr(t=new zn(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ur(o,r,!0,t)&&i}if(i=Ur(o=t.g=e,r,!0,t)&&i,i=Ur(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ur(o=t.g=n[a],r,!1,t)&&i}function Ur(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&_r(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}jn(Mr,Mn),Mr.prototype[pr]=!0,Mr.prototype.removeEventListener=function(e,t,n,r){Nr(this,e,t,n,r)},Mr.prototype.M=function(){if(Mr.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gr(n[r]);delete t.g[e],t.h--}}this.I=null},Mr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Mr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vr=En.JSON.stringify;function Br(){var e=Yr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zr,qr=function(){function e(){ae(this,e),this.h=this.g=null}return se(e,[{key:"add",value:function(e,t){var n=Hr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Hr=new(function(){function e(t,n){ae(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return se(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Wr}),(function(e){return e.reset()})),Wr=function(){function e(){ae(this,e),this.next=this.g=this.h=null}return se(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Kr(e){En.setTimeout((function(){throw e}),0)}function Gr(e,t){zr||function(){var e=En.Promise.resolve(void 0);zr=function(){e.then(Xr)}}(),Qr||(zr(),Qr=!0),Yr.add(e,t)}var Qr=!1,Yr=new qr;function Xr(){for(var e;e=Br();){try{e.h.call(e.g)}catch(n){Kr(n)}var t=Hr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qr=!1}function Jr(e,t){Mr.call(this),this.h=e||1,this.g=t||En,this.j=Pn(this.kb,this),this.l=Date.now()}function Zr(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function $r(e,t,n){if("function"===typeof e)n&&(e=Pn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pn(e.handleEvent,e)}return 2147483647<Number(t)?-1:En.setTimeout(e,t||0)}function ei(e){e.g=$r((function(){e.g=null,e.i&&(e.i=!1,ei(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}jn(Jr,Mr),(xn=Jr.prototype).ca=!1,xn.R=null,xn.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Fr(this,"tick"),this.ca&&(Zr(this),this.start()))}},xn.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xn.M=function(){Jr.X.M.call(this),Zr(this),delete this.g};var ti=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return se(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ei(this)}},{key:"M",value:function(){wn(he(n.prototype),"M",this).call(this),this.g&&(En.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Mn);function ni(e){Mn.call(this),this.h=e,this.g={}}jn(ni,Mn);var ri=[];function ii(e,t,n,r){Array.isArray(n)||(n&&(ri[0]=n.toString()),n=ri);for(var i=0;i<n.length;i++){var a=Tr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ai(e){yr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Or(e)}),e),e.g={}}function oi(){this.g=!0}function si(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Vr(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ni.prototype.M=function(){ni.X.M.call(this),ai(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oi.prototype.Aa=function(){this.g=!1},oi.prototype.info=function(){};var ui={},ci=null;function li(){return ci=ci||new Mr}function fi(e){zn.call(this,ui.Oa,e)}function hi(e){var t=li();Fr(t,new fi(t,e))}function di(e,t){zn.call(this,ui.STAT_EVENT,e),this.stat=t}function pi(e){var t=li();Fr(t,new di(t,e))}function vi(e,t){zn.call(this,ui.Pa,e),this.size=t}function mi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return En.setTimeout((function(){e()}),t)}ui.Oa="serverreachability",jn(fi,zn),ui.STAT_EVENT="statevent",jn(di,zn),ui.Pa="timingevent",jn(vi,zn);var gi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},yi={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ki(){}function bi(e){return e.h||(e.h=e.i())}function wi(){}ki.prototype.h=null;var xi,_i={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Ii(){zn.call(this,"d")}function Si(){zn.call(this,"c")}function Ei(){}function Ti(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new ni(this),this.O=Ci,e=er?125:void 0,this.T=new Jr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ai}function Ai(){this.i=null,this.g="",this.h=!1}jn(Ii,zn),jn(Si,zn),jn(Ei,ki),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},xi=new Ei;var Ci=45e3,Ni={},Oi={};function Di(e,t,n){e.K=1,e.v=Ji(Ki(t)),e.s=n,e.P=!0,Ri(e,null)}function Ri(e,t){e.F=Date.now(),Mi(e),e.A=Ki(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),la(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Ai,e.g=fo(e.l,n?t:null,!e.s),0<e.N&&(e.L=new ti(Pn(e.Ka,e,e.g),e.N)),ii(e.S,e.g,"readystatechange",e.hb),t=e.H?kr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),hi(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Pi(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Li(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ji(e,n))==Oi){4==t&&(e.o=4,pi(14),i=!1),si(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ni){e.o=4,pi(15),si(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}si(e.j,e.m,r,null),zi(e,r)}Pi(e)&&r!=Oi&&r!=Ni&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ro(t),t.K=!0,pi(11))):(si(e.j,e.m,n,"[Invalid Chunked Response]"),Bi(e),Vi(e))}function ji(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Oi:(n=Number(t.substring(n,r)),isNaN(n)?Ni:(r+=1)+n>t.length?Oi:(t=t.substr(r,n),e.C=r+n,t))}function Mi(e){e.V=Date.now()+e.O,Fi(e,e.O)}function Fi(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mi(Pn(e.fb,e),t)}function Ui(e){e.B&&(En.clearTimeout(e.B),e.B=null)}function Vi(e){0==e.l.G||e.I||oo(e.l,e)}function Bi(e){Ui(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Zr(e.T),ai(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function zi(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ya(n.h,e)))if(!e.J&&ya(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ao(n),Ya(n)}no(n),pi(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=mi(Pn(n.bb,n),6e3));if(1>=ga(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else uo(n,11)}else if((e.J||n.g==e)&&ao(n),!Hn(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ka(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Xi(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=lo(r,r.H?r.ka:null,r.V),d.J){ba(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Ui(p),Mi(p)),r.g=d}else to(r);0<n.i.length&&Ja(n)}else"stop"!=a[0]&&"close"!=a[0]||uo(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?uo(n,7):Qa(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}hi(4)}catch(a){}}function qi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(An(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(An(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(An(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(xn=Ti.prototype).setTimeout=function(e){this.O=e},xn.hb=function(e){e=e.target;var t=this.L;t&&3==za(e)?t.l():this.Ka(e)},xn.Ka=function(e){try{if(e==this.g)e:{var t=za(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||er||this.g&&(this.h.h||this.g.fa()||qa(this.g)))){this.I||4!=t||7==n||hi(8==n||0>=r?3:2),Ui(this);var i=this.g.aa();this.Y=i;t:if(Pi(this)){var a=qa(this.g);e="";var o=a.length,s=4==za(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bi(this),Vi(this);var u="";break t}this.h.i=new En.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hn(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,pi(12),Bi(this),Vi(this);break e}si(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zi(this,i)}this.P?(Li(this,t,u),er&&this.i&&3==t&&(ii(this.S,this.T,"tick",this.gb),this.T.start())):(si(this.j,this.m,u,null),zi(this,u)),4==t&&Bi(this),this.i&&!this.I&&(4==t?oo(this.l,this):(this.i=!1,Mi(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,pi(12)):(this.o=0,pi(13)),Bi(this),Vi(this)}}}catch(t){}},xn.gb=function(){if(this.g){var e=za(this.g),t=this.g.fa();this.C<t.length&&(Ui(this),Li(this,e,t),this.i&&4!=e&&Mi(this))}},xn.cancel=function(){this.I=!0,Bi(this)},xn.fb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hi(3),pi(17)),Bi(this),this.o=2,Vi(this)):Fi(this,this.V-e)};var Hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wi(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wi){this.h=void 0!==t?t:e.h,Gi(this,e.j),this.s=e.s,this.g=e.g,Qi(this,e.m),this.l=e.l,t=e.i;var n=new oa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Yi(this,n),this.o=e.o}else e&&(n=String(e).match(Hi))?(this.h=!!t,Gi(this,n[1]||"",!0),this.s=Zi(n[2]||""),this.g=Zi(n[3]||"",!0),Qi(this,n[4]),this.l=Zi(n[5]||"",!0),Yi(this,n[6]||"",!0),this.o=Zi(n[7]||"")):(this.h=!!t,this.i=new oa(null,this.h))}function Ki(e){return new Wi(e)}function Gi(e,t,n){e.j=n?Zi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yi(e,t,n){t instanceof oa?(e.i=t,function(e,t){t&&!e.j&&(sa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ua(this,t),la(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=$i(t,ia)),e.i=new oa(t,e.h))}function Xi(e,t,n){e.i.set(t,n)}function Ji(e){return Xi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Zi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $i(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ea),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ea(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wi.prototype.toString=function(){var e=[],t=this.j;t&&e.push($i(t,ta,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push($i(t,ta,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push($i(n,"/"==n.charAt(0)?ra:na,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",$i(n,aa)),e.join("")};var ta=/[#\/\?@]/g,na=/[#\?:]/g,ra=/[#\?]/g,ia=/[#\?@]/g,aa=/#/g;function oa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ua(e,t){sa(e),t=fa(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ca(e,t){return sa(e),t=fa(e,t),e.g.has(t)}function la(e,t,n){ua(e,t),0<n.length&&(e.i=null,e.g.set(fa(e,t),Vn(n)),e.h+=n.length)}function fa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xn=oa.prototype).add=function(e,t){sa(this),this.i=null,e=fa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xn.forEach=function(e,t){sa(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},xn.oa=function(){sa(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},xn.W=function(e){sa(this);var t=[];if("string"===typeof e)ca(this,e)&&(t=t.concat(this.g.get(fa(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},xn.set=function(e,t){return sa(this),this.i=null,ca(this,e=fa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xn.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},xn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var ha=se((function e(t,n){ae(this,e),this.h=t,this.g=n}));function da(e){this.l=e||va,En.PerformanceNavigationTiming?e=0<(e=En.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(En.g&&En.g.Ga&&En.g.Ga()&&En.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pa,va=10;function ma(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ga(e){return e.h?1:e.g?e.g.size:0}function ya(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ka(e,t){e.g?e.g.add(t):e.h=t}function ba(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function wa(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ue(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Vn(e.i)}function xa(){}function _a(){this.g=new xa}function Ia(e,t,n){var r=n||"";try{qi(e,(function(e,n){var i=e;Cn(e)&&(i=Vr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ea(e){this.l=e.$b||null,this.j=e.ib||!1}function Ta(e,t){Mr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Aa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}da.prototype.cancel=function(){if(this.i=wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ue(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},xa.prototype.stringify=function(e){return En.JSON.stringify(e,void 0)},xa.prototype.parse=function(e){return En.JSON.parse(e,void 0)},jn(Ea,ki),Ea.prototype.g=function(){return new Ta(this.l,this.j)},Ea.prototype.i=(pa={},function(){return pa}),jn(Ta,Mr);var Aa=0;function Ca(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function Na(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Oa(e)}function Oa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xn=Ta.prototype).open=function(e,t){if(this.readyState!=Aa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Oa(this)},xn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||En).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},xn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Na(this)),this.readyState=Aa},xn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof En.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ca(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},xn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Na(this):Oa(this),3==this.readyState&&Ca(this)}},xn.Ua=function(e){this.g&&(this.response=this.responseText=e,Na(this))},xn.Ta=function(e){this.g&&(this.response=e,Na(this))},xn.ga=function(){this.g&&Na(this)},xn.setRequestHeader=function(e,t){this.v.append(e,t)},xn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Da=En.JSON.parse;function Ra(e){Mr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Pa,this.K=this.L=!1}jn(Ra,Mr);var Pa="",La=/^https?$/i,ja=["POST","PUT"];function Ma(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fa(e),Va(e)}function Fa(e){e.D||(e.D=!0,Fr(e,"complete"),Fr(e,"error"))}function Ua(e){if(e.h&&"undefined"!=typeof Sn&&(!e.C[1]||4!=za(e)||2!=e.aa()))if(e.v&&4==za(e))$r(e.Ha,0,e);else if(Fr(e,"readystatechange"),4==za(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Hi)[1]||null;if(!a&&En.self&&En.self.location){var o=En.self.location.protocol;a=o.substr(0,o.length-1)}i=!La.test(a?a.toLowerCase():"")}t=i}if(t)Fr(e,"complete"),Fr(e,"success");else{e.m=6;try{var s=2<za(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Fa(e)}}finally{Va(e)}}}function Va(e,t){if(e.g){Ba(e);var n=e.g,r=e.C[0]?Tn:null;e.g=null,e.C=null,t||Fr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ba(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(En.clearTimeout(e.A),e.A=null)}function za(e){return e.g?e.g.readyState:0}function qa(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Pa:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Co){return null}}function Ha(e){var t="";return yr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Wa(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ha(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Xi(e,t,n))}function Ka(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ga(e){this.Ca=0,this.i=[],this.j=new oi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Ka("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Ka("baseRetryDelayMs",5e3,e),this.ab=Ka("retryDelaySeedMs",1e4,e),this.Za=Ka("forwardChannelMaxRetries",2,e),this.ta=Ka("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new da(e&&e.concurrentRequestLimit),this.Fa=new _a,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Qa(e){if(Xa(e),3==e.G){var t=e.U++,n=Ki(e.F);Xi(n,"SID",e.I),Xi(n,"RID",t),Xi(n,"TYPE","terminate"),$a(e,n),(t=new Ti(e,e.j,t,void 0)).K=2,t.v=Ji(Ki(n)),n=!1,En.navigator&&En.navigator.sendBeacon&&(n=En.navigator.sendBeacon(t.v.toString(),"")),!n&&En.Image&&((new Image).src=t.v,n=!0),n||(t.g=fo(t.l,null),t.g.da(t.v)),t.F=Date.now(),Mi(t)}co(e)}function Ya(e){e.g&&(ro(e),e.g.cancel(),e.g=null)}function Xa(e){Ya(e),e.u&&(En.clearTimeout(e.u),e.u=null),ao(e),e.h.cancel(),e.m&&("number"===typeof e.m&&En.clearTimeout(e.m),e.m=null)}function Ja(e){ma(e.h)||e.m||(e.m=!0,Gr(e.Ja,e),e.C=0)}function Za(e,t){var n;n=t?t.m:e.U++;var r=Ki(e.F);Xi(r,"SID",e.I),Xi(r,"RID",n),Xi(r,"AID",e.T),$a(e,r),e.o&&e.s&&Wa(r,e.o,e.s),n=new Ti(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=eo(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),ka(e.h,n),Di(n,r,t)}function $a(e,t){e.ia&&yr(e.ia,(function(e,n){Xi(t,n,e)})),e.l&&qi({},(function(e,n){Xi(t,n,e)}))}function eo(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Pn(e.l.Qa,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Ia(l,o,"req"+c+"_")}catch(Uo){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function to(e){e.g||e.u||(e.Z=1,Gr(e.Ia,e),e.A=0)}function no(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=mi(Pn(e.Ia,e),so(e,e.A)),e.A++,!0)}function ro(e){null!=e.B&&(En.clearTimeout(e.B),e.B=null)}function io(e){e.g=new Ti(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Ki(e.sa);Xi(t,"RID","rpc"),Xi(t,"SID",e.I),Xi(t,"CI",e.L?"0":"1"),Xi(t,"AID",e.T),Xi(t,"TYPE","xmlhttp"),$a(e,t),e.o&&e.s&&Wa(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ji(Ki(t)),n.s=null,n.P=!0,Ri(n,e)}function ao(e){null!=e.v&&(En.clearTimeout(e.v),e.v=null)}function oo(e,t){var n=null;if(e.g==t){ao(e),ro(e),e.g=null;var r=2}else{if(!ya(e.h,t))return;n=t.D,ba(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Fr(r=li(),new vi(r,n,t,i)),Ja(e)}else to(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(ga(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za))&&(e.m=mi(Pn(e.Ja,e,t),so(e,e.C)),e.C++,!0))}(e,t)||2==r&&no(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:uo(e,5);break;case 4:uo(e,10);break;case 3:uo(e,6);break;default:uo(e,2)}}function so(e,t){var n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function uo(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Pn(e.jb,e);n||(n=new Wi("//www.google.com/images/cleardot.gif"),En.location&&"http"==En.location.protocol||Gi(n,"https"),Ji(n)),function(e,t){var n=new oi;if(En.Image){var r=new Image;r.onload=Ln(Sa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ln(Sa,n,r,"TestLoadImage: error",!1,t),r.onabort=Ln(Sa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ln(Sa,n,r,"TestLoadImage: timeout",!1,t),En.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pi(2);e.G=0,e.l&&e.l.va(t),co(e),Xa(e)}function co(e){if(e.G=0,e.la=[],e.l){var t=wa(e.h);0==t.length&&0==e.i.length||(Bn(e.la,t),Bn(e.la,e.i),e.h.i.length=0,Vn(e.i),e.i.length=0),e.l.ua()}}function lo(e,t,n){var r=n instanceof Wi?Ki(n):new Wi(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Qi(r,r.m);else{var i=En.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Wi(null,void 0);r&&Gi(a,r),t&&(a.g=t),i&&Qi(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Xi(r,n,t),Xi(r,"VER",e.ma),$a(e,r),r}function fo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Ra(new Ea({ib:!0})):new Ra(e.ra)).L=e.H,t}function ho(){}function po(){if(Zn&&!(10<=Number(fr)))throw Error("Environmental error: no available transport.")}function vo(e,t){Mr.call(this),this.g=new Ga(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!Hn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hn(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yo(this)}function mo(e){Ii.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function go(){Si.call(this),this.status=1}function yo(e){this.g=e}(xn=Ra.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xi.g(),this.C=this.u?bi(this.u):bi(xi),this.g.onreadystatechange=Pn(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Ma(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=ue(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=En.FormData&&e instanceof En.FormData,!(0<=Un(ja,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=ue(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ba(this),0<this.B&&((this.K=function(e){return Zn&&cr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pn(this.qa,this)):this.A=$r(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ma(this,s)}},xn.qa=function(){"undefined"!=typeof Sn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fr(this,"timeout"),this.abort(8))},xn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fr(this,"complete"),Fr(this,"abort"),Va(this))},xn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Va(this,!0)),Ra.X.M.call(this)},xn.Ha=function(){this.s||(this.F||this.v||this.l?Ua(this):this.eb())},xn.eb=function(){Ua(this)},xn.aa=function(){try{return 2<za(this)?this.g.status:-1}catch(pa){return-1}},xn.fa=function(){try{return this.g?this.g.responseText:""}catch(pa){return""}},xn.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Da(t)}},xn.Ea=function(){return this.m},xn.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},(xn=Ga.prototype).ma=8,xn.G=1,xn.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Ti(this,this.j,e,void 0),n=this.s;if(this.S&&(n?wr(n=kr(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=eo(this,t,r),Xi(i=Ki(this.F),"RID",e),Xi(i,"CVER",22),this.D&&Xi(i,"X-HTTP-Session-Id",this.D),$a(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Ha(n)))+"&"+r:this.o&&Wa(i,this.o,n)),ka(this.h,t),this.Xa&&Xi(i,"TYPE","init"),this.O?(Xi(i,"$req",r),Xi(i,"SID","null"),t.Z=!0,Di(t,i,null)):Di(t,i,r),this.G=2}}else 3==this.G&&(e?Za(this,e):0==this.i.length||ma(this.h)||Za(this))},xn.Ia=function(){if(this.u=null,io(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=mi(Pn(this.cb,this),e)}},xn.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,pi(10),Ya(this),io(this))},xn.bb=function(){null!=this.v&&(this.v=null,Ya(this),no(this),pi(19))},xn.jb=function(e){e?(this.j.info("Successfully pinged google.com"),pi(2)):(this.j.info("Failed to ping google.com"),pi(1))},(xn=ho.prototype).xa=function(){},xn.wa=function(){},xn.va=function(){},xn.ua=function(){},xn.Qa=function(){},po.prototype.g=function(e,t){return new vo(e,t)},jn(vo,Mr),vo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;pi(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=lo(e,null,e.V),Ja(e)},vo.prototype.close=function(){Qa(this.g)},vo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Vr(e),e=n);t.i.push(new ha(t.$a++,e)),3==t.G&&Ja(t)},vo.prototype.M=function(){this.g.l=null,delete this.j,Qa(this.g),delete this.g,vo.X.M.call(this)},jn(mo,Ii),jn(go,Si),jn(yo,ho),yo.prototype.xa=function(){Fr(this.g,"a")},yo.prototype.wa=function(e){Fr(this.g,new mo(e))},yo.prototype.va=function(e){Fr(this.g,new go(e))},yo.prototype.ua=function(){Fr(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,vo.prototype.send=vo.prototype.u,vo.prototype.open=vo.prototype.m,vo.prototype.close=vo.prototype.close,gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,yi.COMPLETE="complete",wi.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",Mr.prototype.listen=Mr.prototype.N,Ra.prototype.listenOnce=Ra.prototype.O,Ra.prototype.getLastError=Ra.prototype.Na,Ra.prototype.getLastErrorCode=Ra.prototype.Ea,Ra.prototype.getStatus=Ra.prototype.aa,Ra.prototype.getResponseJson=Ra.prototype.Ra,Ra.prototype.getResponseText=Ra.prototype.fa,Ra.prototype.send=Ra.prototype.da;var ko=In.createWebChannelTransport=function(){return new po},bo=In.getStatEventTarget=function(){return li()},wo=In.ErrorCode=gi,xo=In.EventType=yi,_o=In.Event=ui,Io=In.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},So=In.FetchXmlHttpFactory=Ea,Eo=In.WebChannel=wi,To=In.XhrIo=Ra,Ao="@firebase/firestore",Co=function(){function e(t){ae(this,e),this.uid=t}return se(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Co.UNAUTHENTICATED=new Co(null),Co.GOOGLE_CREDENTIALS=new Co("google-credentials-uid"),Co.FIRST_PARTY=new Co("first-party-uid"),Co.MOCK_USER=new Co("mock-user");var No="9.10.0",Oo=new it("@firebase/firestore");function Do(){return Oo.logLevel}function Ro(e){if(Oo.logLevel<=Je.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jo);Oo.debug.apply(Oo,["Firestore (".concat(No,"): ").concat(e)].concat(Ke(i)))}}function Po(e){if(Oo.logLevel<=Je.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jo);Oo.error.apply(Oo,["Firestore (".concat(No,"): ").concat(e)].concat(Ke(i)))}}function Lo(e){if(Oo.logLevel<=Je.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jo);Oo.warn.apply(Oo,["Firestore (".concat(No,"): ").concat(e)].concat(Ke(i)))}}function jo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(No,") INTERNAL ASSERTION FAILED: ")+e;throw Po(t),new Error(t)}function Fo(e,t){e||Mo()}function Uo(e,t){return e}var Vo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Bo=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return se(n)}(Oe),zo=se((function e(){var t=this;ae(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),qo=se((function e(t,n){ae(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ho=function(){function e(){ae(this,e)}return se(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Co.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Wo=function(){function e(t){ae(this,e),this.token=t,this.changeListener=null}return se(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ko=function(){function e(t){ae(this,e),this.t=t,this.currentUser=Co.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return se(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new zo;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new zo,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Ro("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Ro("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zo)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ro("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Fo("string"==typeof n.accessToken),new qo(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Fo(null===e||"string"==typeof e),new Co(e)}}]),e}(),Go=function(){function e(t,n,r,i){ae(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Co.FIRST_PARTY,this.p=new Map}return se(e,[{key:"I",value:function(){return this.g?this.g():(Fo(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Qo=function(){function e(t,n,r,i){ae(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return se(e,[{key:"getToken",value:function(){return Promise.resolve(new Go(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Co.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Yo=se((function e(t){ae(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Xo=function(){function e(t){ae(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return se(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ro("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Ro("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ro("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Ro("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Fo("string"==typeof t.token),e.A=t.token,new Yo(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Jo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Zo=function(){function e(){ae(this,e)}return se(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Jo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function $o(e,t){return e<t?-1:e>t?1:0}function es(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ts(e){return e+"\0"}var ns=function(){function e(t,n){if(ae(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Bo(Vo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Bo(Vo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Bo(Vo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Bo(Vo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return se(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?$o(this.nanoseconds,e.nanoseconds):$o(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),rs=function(){function e(t){ae(this,e),this.timestamp=t}return se(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ns(0,0))}},{key:"max",value:function(){return new e(new ns(253402300799,999999999))}}]),e}(),is=function(){function e(t,n,r){ae(this,e),void 0===n?n=0:n>t.length&&Mo(),void 0===r?r=t.length-n:r>t.length-n&&Mo(),this.segments=t,this.offset=n,this.len=r}return se(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),as=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Ke(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(is),os=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ss=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return os.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Bo(Vo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Bo(Vo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Bo(Vo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(is),us=function(){function e(t){ae(this,e),this.path=t}return se(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===as.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(as.fromString(t))}},{key:"fromName",value:function(t){return new e(as.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(as.emptyPath())}},{key:"comparator",value:function(e,t){return as.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new as(t.slice()))}}]),e}(),cs=se((function e(t,n,r,i){ae(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ls(e){return e.fields.find((function(e){return 2===e.kind}))}function fs(e){return e.fields.filter((function(e){return 2!==e.kind}))}cs.UNKNOWN_ID=-1;var hs=se((function e(t,n){ae(this,e),this.fieldPath=t,this.kind=n}));var ds=function(){function e(t,n){ae(this,e),this.sequenceNumber=t,this.offset=n}return se(e,null,[{key:"empty",value:function(){return new e(0,ms.min())}}]),e}();function ps(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=rs.fromTimestamp(1e9===r?new ns(n+1,0):new ns(n,r));return new ms(i,us.empty(),t)}function vs(e){return new ms(e.readTime,e.key,-1)}var ms=function(){function e(t,n,r){ae(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return se(e,null,[{key:"min",value:function(){return new e(rs.min(),us.empty(),-1)}},{key:"max",value:function(){return new e(rs.max(),us.empty(),-1)}}]),e}();function gs(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=us.comparator(e.documentKey,t.documentKey))?n:$o(e.largestBatchId,t.largestBatchId)}var ys="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ks=function(){function e(){ae(this,e),this.onCommittedListeners=[]}return se(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function bs(e){return ws.apply(this,arguments)}function ws(){return ws=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Vo.FAILED_PRECONDITION&&t.message===ys){e.next=2;break}throw t;case 2:Ro("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var xs=function(){function e(t){var n=this;ae(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return se(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Mo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ue(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),_s=function(){function e(t,n){var r=this;ae(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new zo,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Es(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Os(e.target.error);r.P.reject(new Es(t,n))}}return se(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Ro("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new As(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Es(n,t)}}}]),e}(),Is=function(){function e(t,n,r){ae(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Se())&&Po("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return se(e,[{key:"F",value:function(){var e=te($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ro("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Es(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Bo(Vo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Bo(Vo.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Es(t,n))},i.onupgradeneeded=function(e){Ro("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Ro("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=te($().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield($().mark((function e(){var n,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=_s.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),xs.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,Ro("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ro("SimpleDb","Removing database:",e),Cs(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Ne())return!1;if(e.N())return!0;var t=Se(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ss=function(){function e(t){ae(this,e),this.U=t,this.q=!1,this.K=null}return se(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Cs(this.U.delete())}}]),e}(),Es=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,Vo.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return se(n)}(Bo);function Ts(e){return"IndexedDbTransactionError"===e.name}var As=function(){function e(t){ae(this,e),this.store=t}return se(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ro("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ro("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Cs(n)}},{key:"add",value:function(e){return Ro("SimpleDb","ADD",this.store.name,e,e),Cs(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Cs(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ro("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ro("SimpleDb","DELETE",this.store.name,e),Cs(this.store.delete(e))}},{key:"count",value:function(){return Ro("SimpleDb","COUNT",this.store.name),Cs(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new xs((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new xs((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Ro("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new xs((function(n,r){t.onerror=function(e){var t=Os(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new xs((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ss(i),o=t(i.primaryKey,i.value,a);if(o instanceof xs){var s=o.catch((function(e){return a.done(),xs.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return xs.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Cs(e){return new xs((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Os(e.target.error);n(t)}}))}var Ns=!1;function Os(e){var t=Is.D(Se());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Bo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ns||(Ns=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ds=function(){function e(t,n){ae(this,e),this.asyncQueue=t,this.et=n,this.task=null}return se(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Ro("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Ro,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ts(e.t4)){e.next=17;break}Ro("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,bs(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Rs=function(){function e(t,n){ae(this,e),this.localStore=t,this.persistence=n}return se(e,[{key:"st",value:function(){var e=te($().mark((function e(){var t,n=this,r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return xs.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Ro("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Ro("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=vs(t);gs(r,n)>0&&(n=r)})),new ms(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ps=function(){function e(t,n){var r=this;ae(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return se(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Ls(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function js(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ms(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Ps.at=-1;var Fs=function(){function e(t,n){ae(this,e),this.comparator=t,this.root=n||Vs.EMPTY}return se(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vs.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vs.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Us(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Us(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Us(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Us(this.root,e,this.comparator,!0)}}]),e}(),Us=function(){function e(t,n,r,i){ae(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return se(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Vs=function(){function e(t,n,r,i,a){ae(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return se(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Mo();if(this.right.isRed())throw Mo();var e=this.left.check();if(e!==this.right.check())throw Mo();return e+(this.isRed()?0:1)}}]),e}();Vs.EMPTY=null,Vs.RED=!0,Vs.BLACK=!1,Vs.EMPTY=new(function(){function e(){ae(this,e),this.size=0}return se(e,[{key:"key",get:function(){throw Mo()}},{key:"value",get:function(){throw Mo()}},{key:"color",get:function(){throw Mo()}},{key:"left",get:function(){throw Mo()}},{key:"right",get:function(){throw Mo()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Vs(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Bs=function(){function e(t){ae(this,e),this.comparator=t,this.data=new Fs(this.comparator)}return se(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new zs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new zs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),zs=function(){function e(t){ae(this,e),this.iter=t}return se(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function qs(e){return e.hasNext()?e.getNext():void 0}var Hs=function(){function e(t){ae(this,e),this.fields=t,t.sort(ss.comparator)}return se(e,[{key:"unionWith",value:function(t){var n,r=new Bs(ss.comparator),i=ue(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=ue(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ue(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return es(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Ws=function(e){function t(e){ae(this,t),this.binaryString=e}return se(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return $o(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ws.EMPTY_BYTE_STRING=new Ws("");var Ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(e){if(Fo(!!e),"string"==typeof e){var t=0,n=Ks.exec(e);if(Fo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Qs(e.seconds),nanos:Qs(e.nanos)}}function Qs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ys(e){return"string"==typeof e?Ws.fromBase64String(e):Ws.fromUint8Array(e)}function Xs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Js(e){var t=e.mapValue.fields.__previous_value__;return Xs(t)?Js(t):t}function Zs(e){var t=Gs(e.mapValue.fields.__local_write_time__.timestampValue);return new ns(t.seconds,t.nanos)}var $s=se((function e(t,n,r,i,a,o,s,u){ae(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),eu=function(){function e(t,n){ae(this,e),this.projectId=t,this.database=n||"(default)"}return se(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function tu(e){return null==e}function nu(e){return 0===e&&1/e==-1/0}function ru(e){return"number"==typeof e&&Number.isInteger(e)&&!nu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},au={nullValue:"NULL_VALUE"};function ou(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xs(e)?4:bu(e)?9007199254740991:10:Mo()}function su(e,t){if(e===t)return!0;var n=ou(e);if(n!==ou(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zs(e).isEqual(Zs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Gs(e.timestampValue),r=Gs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ys(e.bytesValue).isEqual(Ys(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Qs(e.geoPointValue.latitude)===Qs(t.geoPointValue.latitude)&&Qs(e.geoPointValue.longitude)===Qs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Qs(e.integerValue)===Qs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Qs(e.doubleValue),r=Qs(t.doubleValue);return n===r?nu(n)===nu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return es(e.arrayValue.values||[],t.arrayValue.values||[],su);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ls(n)!==Ls(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!su(n[i],r[i])))return!1;return!0}(e,t);default:return Mo()}}function uu(e,t){return void 0!==(e.values||[]).find((function(e){return su(e,t)}))}function cu(e,t){if(e===t)return 0;var n=ou(e),r=ou(t);if(n!==r)return $o(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $o(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Qs(e.integerValue||e.doubleValue),r=Qs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lu(e.timestampValue,t.timestampValue);case 4:return lu(Zs(e),Zs(t));case 5:return $o(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ys(e),r=Ys(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=$o(n[i],r[i]);if(0!==a)return a}return $o(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=$o(Qs(e.latitude),Qs(t.latitude));return 0!==n?n:$o(Qs(e.longitude),Qs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=cu(n[i],r[i]);if(a)return a}return $o(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===iu.mapValue&&t===iu.mapValue)return 0;if(e===iu.mapValue)return 1;if(t===iu.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=$o(r[o],a[o]);if(0!==s)return s;var u=cu(n[r[o]],i[a[o]]);if(0!==u)return u}return $o(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Mo()}}function lu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $o(e,t);var n=Gs(e),r=Gs(t),i=$o(n.seconds,r.seconds);return 0!==i?i:$o(n.nanos,r.nanos)}function fu(e){return hu(e)}function hu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Gs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ys(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,us.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ue(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=hu(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ue(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(hu(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Mo();var t,n}function du(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function pu(e){return!!e&&"integerValue"in e}function vu(e){return!!e&&"arrayValue"in e}function mu(e){return!!e&&"nullValue"in e}function gu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yu(e){return!!e&&"mapValue"in e}function ku(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return js(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ku(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ku(e.arrayValue.values[r]);return n}return Object.assign({},e)}function bu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function wu(e){return"nullValue"in e?au:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?du(eu.empty(),us.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Mo()}function xu(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?du(eu.empty(),us.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?iu:Mo()}function _u(e,t){var n=cu(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Iu(e,t){var n=cu(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Su=function(){function e(t){ae(this,e),this.value=t}return se(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!yu(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(t)}},{key:"setAll",value:function(e){var t=this,n=ss.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ku(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());yu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return su(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];yu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){js(t,(function(t,n){return e[t]=n}));var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ku(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Eu(e){var t=[];return js(e.fields,(function(e,n){var r=new ss([e]);if(yu(n)){var i=Eu(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ue(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Hs(t)}var Tu=function(){function e(t,n,r,i,a,o){ae(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return se(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Su.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Su.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=rs.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,rs.min(),rs.min(),Su.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,rs.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,rs.min(),Su.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,rs.min(),Su.empty(),2)}}]),e}(),Au=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ae(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ht=null}));function Cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Au(e,t,n,r,i,a,o)}function Nu(e){var t=Uo(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+fu(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),tu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return fu(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return fu(e)})).join(",")),t.ht=n}return t.ht}function Ou(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Gu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!su(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yu(e.startAt,t.startAt)&&Yu(e.endAt,t.endAt)}function Du(e){return us.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ru(e,t){return e.filters.filter((function(e){return e instanceof ju&&e.field.isEqual(t)}))}function Pu(e,t,n){var r,i=au,a=!0,o=ue(Ru(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=au,c=!0;switch(s.op){case"<":case"<=":u=wu(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=au}_u({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];_u({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Lu(e,t,n){var r,i=iu,a=!0,o=ue(Ru(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=iu,c=!0;switch(s.op){case">=":case">":u=xu(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=iu}Iu({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Iu({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var ju=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(cu(t,this.value)):null!==t&&ou(this.value)===ou(t)&&this.ft(cu(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mo()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Mu(e,t,r):"array-contains"===t?new Bu(e,r):"in"===t?new zu(e,r):"not-in"===t?new qu(e,r):"array-contains-any"===t?new Hu(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Fu(e,n):new Uu(e,n)}}]),n}(function(){return se((function e(){ae(this,e)}))}()),Mu=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this,e,r,i)).key=us.fromName(i.referenceValue),a}return se(n,[{key:"matches",value:function(e){var t=us.comparator(e.key,this.key);return this.ft(t)}}]),n}(ju),Fu=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e,"in",r)).keys=Vu("in",r),i}return se(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ju),Uu=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e,"not-in",r)).keys=Vu("not-in",r),i}return se(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ju);function Vu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return us.fromName(e.referenceValue)}))}var Bu=function(e){fe(n,e);var t=ve(n);function n(e,r){return ae(this,n),t.call(this,e,"array-contains",r)}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return vu(t)&&uu(t.arrayValue,this.value)}}]),n}(ju),zu=function(e){fe(n,e);var t=ve(n);function n(e,r){return ae(this,n),t.call(this,e,"in",r)}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&uu(this.value.arrayValue,t)}}]),n}(ju),qu=function(e){fe(n,e);var t=ve(n);function n(e,r){return ae(this,n),t.call(this,e,"not-in",r)}return se(n,[{key:"matches",value:function(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!uu(this.value.arrayValue,t)}}]),n}(ju),Hu=function(e){fe(n,e);var t=ve(n);function n(e,r){return ae(this,n),t.call(this,e,"array-contains-any",r)}return se(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!vu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return uu(t.value.arrayValue,e)}))}}]),n}(ju),Wu=se((function e(t,n){ae(this,e),this.position=t,this.inclusive=n})),Ku=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ae(this,e),this.field=t,this.dir=n}));function Gu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Qu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?us.comparator(us.fromName(o.referenceValue),n.key):cu(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Yu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!su(e.position[n],t.position[n]))return!1;return!0}var Xu=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ae(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}));function Ju(e,t,n,r,i,a,o,s){return new Xu(e,t,n,r,i,a,o,s)}function Zu(e){return new Xu(e)}function $u(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ec(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function tc(e){var t,n=ue(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function nc(e){return null!==e.collectionGroup}function rc(e){var t=Uo(e);if(null===t._t){t._t=[];var n=tc(t),r=ec(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Ku(n)),t._t.push(new Ku(ss.keyField(),"asc"));else{var i,a=!1,o=ue(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Ku(ss.keyField(),u))}}}return t._t}function ic(e){var t=Uo(e);if(!t.wt)if("F"===t.limitType)t.wt=Cu(t.path,t.collectionGroup,rc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ue(rc(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ku(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Wu(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Wu(t.startAt.position,t.startAt.inclusive):null;t.wt=Cu(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function ac(e,t,n){return new Xu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function oc(e,t){return Ou(ic(e),ic(t))&&e.limitType===t.limitType}function sc(e){return"".concat(Nu(ic(e)),"|lt:").concat(e.limitType)}function uc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(fu(t.value));var t})).join(", "),"]")),tu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return fu(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return fu(e)})).join(",")),"Target(".concat(t,")")}(ic(e)),"; limitType=").concat(e.limitType,")")}function cc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):us.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ue(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ue(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Qu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rc(e),t))&&!(e.endAt&&!function(e,t,n){var r=Qu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rc(e),t))}(e,t)}function lc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fc(e){return function(t,n){var r,i=!1,a=ue(rc(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=hc(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function hc(e,t,n){var r=e.field.isKeyField()?us.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?cu(r,i):Mo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mo()}}function dc(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(t)?"-0":t}}function pc(e){return{integerValue:""+e}}function vc(e,t){return ru(t)?pc(t):dc(e,t)}var mc=se((function e(){ae(this,e),this._=void 0}));function gc(e,t,n){return e instanceof bc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wc?xc(e,t):e instanceof _c?Ic(e,t):function(e,t){var n=kc(e,t),r=Ec(n)+Ec(e.yt);return pu(n)&&pu(e.yt)?pc(r):dc(e.It,r)}(e,t)}function yc(e,t,n){return e instanceof wc?xc(e,t):e instanceof _c?Ic(e,t):n}function kc(e,t){return e instanceof Sc?pu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var bc=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n)}(mc),wc=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this)).elements=e,r}return se(n)}(mc);function xc(e,t){var n,r=Tc(t),i=ue(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return su(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _c=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this)).elements=e,r}return se(n)}(mc);function Ic(e,t){var n,r=Tc(t),i=ue(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!su(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Sc=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).It=e,i.yt=r,i}return se(n)}(mc);function Ec(e){return Qs(e.integerValue||e.doubleValue)}function Tc(e){return vu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ac=se((function e(t,n){ae(this,e),this.field=t,this.transform=n}));var Cc=se((function e(t,n){ae(this,e),this.version=t,this.transformResults=n})),Nc=function(){function e(t,n){ae(this,e),this.updateTime=t,this.exists=n}return se(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Oc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Dc=se((function e(){ae(this,e)}));function Rc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Wc(e.key,Nc.none()):new Fc(e.key,e.data,Nc.none());var n,r=e.data,i=Su.empty(),a=new Bs(ss.comparator),o=ue(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Uc(e.key,i,new Hs(a.toArray()),Nc.none())}function Pc(e,t,n){e instanceof Fc?function(e,t,n){var r=e.value.clone(),i=Bc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Uc?function(e,t,n){if(Oc(e.precondition,t)){var r=Bc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Vc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Lc(e,t,n,r){return e instanceof Fc?function(e,t,n,r){if(!Oc(e.precondition,t))return n;var i=e.value.clone(),a=zc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Uc?function(e,t,n,r){if(!Oc(e.precondition,t))return n;var i=zc(e.fieldTransforms,r,t),a=t.data;return a.setAll(Vc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Oc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function jc(e,t){var n,r=null,i=ue(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=kc(a.transform,o||null);null!=s&&(null===r&&(r=Su.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Mc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&es(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wc&&t instanceof wc||e instanceof _c&&t instanceof _c?es(e.elements,t.elements,su):e instanceof Sc&&t instanceof Sc?su(e.yt,t.yt):e instanceof bc&&t instanceof bc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Fc=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ae(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return se(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Dc),Uc=function(e){fe(n,e);var t=ve(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ae(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return se(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Dc);function Vc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Bc(e,t,n){var r=new Map;Fo(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,yc(o,s,n[i]))}return r}function zc(e,t,n){var r,i=new Map,a=ue(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,gc(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var qc,Hc,Wc=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return se(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Dc),Kc=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return se(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Dc),Gc=se((function e(t){ae(this,e),this.count=t}));function Qc(e){switch(e){default:return Mo();case Vo.CANCELLED:case Vo.UNKNOWN:case Vo.DEADLINE_EXCEEDED:case Vo.RESOURCE_EXHAUSTED:case Vo.INTERNAL:case Vo.UNAVAILABLE:case Vo.UNAUTHENTICATED:return!1;case Vo.INVALID_ARGUMENT:case Vo.NOT_FOUND:case Vo.ALREADY_EXISTS:case Vo.PERMISSION_DENIED:case Vo.FAILED_PRECONDITION:case Vo.ABORTED:case Vo.OUT_OF_RANGE:case Vo.UNIMPLEMENTED:case Vo.DATA_LOSS:return!0}}function Yc(e){if(void 0===e)return Po("GRPC error has no .code"),Vo.UNKNOWN;switch(e){case qc.OK:return Vo.OK;case qc.CANCELLED:return Vo.CANCELLED;case qc.UNKNOWN:return Vo.UNKNOWN;case qc.DEADLINE_EXCEEDED:return Vo.DEADLINE_EXCEEDED;case qc.RESOURCE_EXHAUSTED:return Vo.RESOURCE_EXHAUSTED;case qc.INTERNAL:return Vo.INTERNAL;case qc.UNAVAILABLE:return Vo.UNAVAILABLE;case qc.UNAUTHENTICATED:return Vo.UNAUTHENTICATED;case qc.INVALID_ARGUMENT:return Vo.INVALID_ARGUMENT;case qc.NOT_FOUND:return Vo.NOT_FOUND;case qc.ALREADY_EXISTS:return Vo.ALREADY_EXISTS;case qc.PERMISSION_DENIED:return Vo.PERMISSION_DENIED;case qc.FAILED_PRECONDITION:return Vo.FAILED_PRECONDITION;case qc.ABORTED:return Vo.ABORTED;case qc.OUT_OF_RANGE:return Vo.OUT_OF_RANGE;case qc.UNIMPLEMENTED:return Vo.UNIMPLEMENTED;case qc.DATA_LOSS:return Vo.DATA_LOSS;default:return Mo()}}(Hc=qc||(qc={}))[Hc.OK=0]="OK",Hc[Hc.CANCELLED=1]="CANCELLED",Hc[Hc.UNKNOWN=2]="UNKNOWN",Hc[Hc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hc[Hc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hc[Hc.NOT_FOUND=5]="NOT_FOUND",Hc[Hc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hc[Hc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hc[Hc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hc[Hc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hc[Hc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hc[Hc.ABORTED=10]="ABORTED",Hc[Hc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hc[Hc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hc[Hc.INTERNAL=13]="INTERNAL",Hc[Hc.UNAVAILABLE=14]="UNAVAILABLE",Hc[Hc.DATA_LOSS=15]="DATA_LOSS";var Xc=function(){function e(t,n){ae(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return se(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){js(this.inner,(function(t,n){var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ms(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Jc=new Fs(us.comparator);function Zc(){return Jc}var $c=new Fs(us.comparator);function el(){for(var e=$c,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function tl(e){var t=$c;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function nl(){return il()}function rl(){return il()}function il(){return new Xc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var al=new Fs(us.comparator),ol=new Bs(us.comparator);function sl(){for(var e=ol,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ul=new Bs($o);function cl(){return ul}var ll=function(){function e(t,n,r,i,a){ae(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return se(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,fl.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(rs.min(),r,cl(),Zc(),sl())}}]),e}(),fl=function(){function e(t,n,r,i,a){ae(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return se(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Ws.EMPTY_BYTE_STRING,n,sl(),sl(),sl())}}]),e}(),hl=se((function e(t,n,r,i){ae(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),dl=se((function e(t,n){ae(this,e),this.targetId=t,this.At=n})),pl=se((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ws.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ae(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),vl=function(){function e(){ae(this,e),this.Rt=0,this.bt=yl(),this.Pt=Ws.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return se(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=sl(),t=sl(),n=sl();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mo()}})),new fl(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=yl()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),ml=function(){function e(t){ae(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Zc(),this.qt=gl(),this.Kt=new Bs($o)}return se(e,[{key:"Gt",value:function(e){var t,n=ue(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,a=ue(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Mo()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Du(i))if(0===n){var a=new us(i.path);this.jt(t,a,Tu.newNoDocument(a,rs.min()))}else Fo(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Du(a.target)){var o=new us(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Tu.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=sl();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new ll(e,n,this.Kt,this.Ut,r);return this.Ut=Zc(),this.qt=gl(),this.Kt=new Bs($o),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new vl,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Bs($o),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Ro("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new vl),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function gl(){return new Fs(us.comparator)}function yl(){return new Fs(us.comparator)}var kl={asc:"ASCENDING",desc:"DESCENDING"},bl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wl=se((function e(t,n){ae(this,e),this.databaseId=t,this.gt=n}));function xl(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function _l(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Il(e,t){return xl(e,t.toTimestamp())}function Sl(e){return Fo(!!e),rs.fromTimestamp(function(e){var t=Gs(e);return new ns(t.seconds,t.nanos)}(e))}function El(e,t){return function(e){return new as(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Tl(e){var t=as.fromString(e);return Fo(Xl(t)),t}function Al(e,t){return El(e.databaseId,t.path)}function Cl(e,t){var n=Tl(t);if(n.get(1)!==e.databaseId.projectId)throw new Bo(Vo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bo(Vo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new us(Rl(n))}function Nl(e,t){return El(e.databaseId,t)}function Ol(e){var t=Tl(e);return 4===t.length?as.emptyPath():Rl(t)}function Dl(e){return new as(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rl(e){return Fo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Pl(e,t,n){return{name:Al(e,t),fields:n.value.mapValue.fields}}function Ll(e,t,n){var r=Cl(e,t.name),i=Sl(t.updateTime),a=new Su({mapValue:{fields:t.fields}}),o=Tu.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function jl(e,t){return"found"in t?function(e,t){Fo(!!t.found),t.found.name,t.found.updateTime;var n=Cl(e,t.found.name),r=Sl(t.found.updateTime),i=new Su({mapValue:{fields:t.found.fields}});return Tu.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Fo(!!t.missing),Fo(!!t.readTime);var n=Cl(e,t.missing),r=Sl(t.readTime);return Tu.newNoDocument(n,r)}(e,t):Mo()}function Ml(e,t){var n;if(t instanceof Fc)n={update:Pl(e,t.key,t.value)};else if(t instanceof Wc)n={delete:Al(e,t.key)};else if(t instanceof Uc)n={update:Pl(e,t.key,t.data),updateMask:Yl(t.fieldMask)};else{if(!(t instanceof Kc))return Mo();n={verify:Al(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof bc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _c)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sc)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Mo()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Il(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mo()}(e,t.precondition)),n}function Fl(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Nc.updateTime(Sl(e.updateTime)):void 0!==e.exists?Nc.exists(e.exists):Nc.none()}(t.currentDocument):Nc.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Fo("REQUEST_TIME"===t.setToServerValue),n=new bc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new wc(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new _c(i)}else"increment"in t?n=new Sc(e,t.increment):Mo();var a=ss.fromServerFormat(t.fieldPath);return new Ac(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Cl(e,t.update.name),a=new Su({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Hs(t.map((function(e){return ss.fromServerFormat(e)})))}(t.updateMask);return new Uc(i,a,o,n,r)}return new Fc(i,a,n,r)}if(t.delete){var s=Cl(e,t.delete);return new Wc(s,n)}if(t.verify){var u=Cl(e,t.verify);return new Kc(u,n)}return Mo()}function Ul(e,t){return{documents:[Nl(e,t.path)]}}function Vl(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Nl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Nl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(gu(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NAN"}};if(mu(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gu(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NOT_NAN"}};if(mu(e.value))return{unaryFilter:{field:Wl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(e.field),op:Hl(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Wl(e.field),direction:ql(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.gt||tu(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Bl(e){var t=Ol(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fo(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=zl(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ku(Kl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return tu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Wu(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Wu(n,t)}(n.endAt)),Ju(t,i,s,o,u,"F",c,l)}function zl(e){return e?void 0!==e.unaryFilter?[Ql(e)]:void 0!==e.fieldFilter?[Gl(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return zl(e)})).reduce((function(e,t){return e.concat(t)})):Mo():[]}function ql(e){return kl[e]}function Hl(e){return bl[e]}function Wl(e){return{fieldPath:e.canonicalString()}}function Kl(e){return ss.fromServerFormat(e.fieldPath)}function Gl(e){return ju.create(Kl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mo()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ql(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Kl(e.unaryFilter.field);return ju.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Kl(e.unaryFilter.field);return ju.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Kl(e.unaryFilter.field);return ju.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Kl(e.unaryFilter.field);return ju.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mo()}}function Yl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Xl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Jl(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$l(t)),t=Zl(e.get(n),t);return $l(t)}function Zl(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function $l(e){return e+"\x01\x01"}function ef(e){var t=e.length;if(Fo(t>=2),2===t)return Fo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),as.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Mo(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Mo()}a=o+2}return new as(r)}var tf=["userId","batchId"];function nf(e,t){return[e,Jl(t)]}function rf(e,t,n){return[e,Jl(t),n]}var af={},of=["prefixPath","collectionGroup","readTime","documentId"],sf=["prefixPath","collectionGroup","documentId"],uf=["collectionGroup","readTime","prefixPath","documentId"],cf=["canonicalId","targetId"],lf=["targetId","path"],ff=["path","targetId"],hf=["collectionId","parent"],df=["indexId","uid"],pf=["uid","sequenceNumber"],vf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mf=["indexId","uid","orderedDocumentKey"],gf=["userId","collectionPath","documentId"],yf=["userId","collectionPath","largestBatchId"],kf=["userId","collectionGroup","largestBatchId"],bf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),wf=[].concat(Ke(bf),["documentOverlays"]),xf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_f=xf,If=[].concat(_f,["indexConfiguration","indexState","indexEntries"]),Sf=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return se(n)}(ks);function Ef(e,t){var n=Uo(e);return Is.O(n.ie,t)}var Tf=function(){function e(t,n,r,i){ae(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return se(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Pc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ue(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Lc(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=ue(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Lc(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=rl();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Rc(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(rs.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&es(this.mutations,e.mutations,(function(e,t){return Mc(e,t)}))&&es(this.baseMutations,e.baseMutations,(function(e,t){return Mc(e,t)}))}}]),e}(),Af=function(){function e(t,n,r,i){ae(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return se(e,null,[{key:"from",value:function(t,n,r){Fo(t.mutations.length===r.length);for(var i=al,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Cf=function(){function e(t,n){ae(this,e),this.largestBatchId=t,this.mutation=n}return se(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Nf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rs.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rs.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ws.EMPTY_BYTE_STRING;ae(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return se(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Of=se((function e(t){ae(this,e),this.re=t}));function Df(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Rf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Al(e,t.key),fields:t.data.value.mapValue.fields,updateTime:xl(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Pf(t.version)};else{if(!t.isUnknownDocument())return Mo();r.unknownDocument={path:n.path.toArray(),version:Pf(t.version)}}return r}function Rf(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Pf(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Lf(e){var t=new ns(e.seconds,e.nanoseconds);return rs.fromTimestamp(t)}function jf(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Fl(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Fl(e.re,t)})),s=ns.fromMillis(t.localWriteTimeMs);return new Tf(t.batchId,s,n,o)}function Mf(e){var t,n,r=Lf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Lf(e.lastLimboFreeSnapshotVersion):rs.min();return void 0!==e.query.documents?(Fo(1===(n=e.query).documents.length),t=ic(Zu(Ol(n.documents[0])))):t=function(e){return ic(Bl(e))}(e.query),new Nf(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ws.fromBase64String(e.resumeToken))}function Ff(e,t){var n,r=Pf(t.snapshotVersion),i=Pf(t.lastLimboFreeSnapshotVersion);n=Du(t.target)?Ul(e.re,t.target):Vl(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Nu(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Uf(e){var t=Bl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ac(t,t.limit,"L"):t}function Vf(e,t){return new Cf(t.largestBatchId,Fl(e.re,t.overlayMutation))}function Bf(e,t){var n=t.path.lastSegment();return[e,Jl(t.path.popLast()),n]}function zf(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Pf(r.readTime),documentKey:Jl(r.documentKey.path),largestBatchId:r.largestBatchId}}var qf=function(){function e(){ae(this,e)}return se(e,[{key:"getBundleMetadata",value:function(e,t){return Hf(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Lf(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Hf(e).put({bundleId:(n=t).id,createTime:Pf(Sl(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Wf(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Uf(t.bundledQuery),readTime:Lf(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Wf(e).put(function(e){return{name:e.name,readTime:Pf(Sl(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Hf(e){return Ef(e,"bundles")}function Wf(e){return Ef(e,"namedQueries")}var Kf=function(){function e(t,n){ae(this,e),this.It=t,this.userId=n}return se(e,[{key:"getOverlay",value:function(e,t){var n=this;return Gf(e).get(Bf(this.userId,t)).next((function(e){return e?Vf(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=nl();return xs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Cf(t,a);i.push(r.ue(e,o))})),xs.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Jl(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Gf(e).Y("collectionPathOverlayIndex",i))})),xs.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=nl(),a=Jl(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Gf(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Vf(r.It,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=nl(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gf(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Vf(a.It,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return Gf(e).put(function(e,t,n){var r=c(Bf(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ml(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Gf(e){return Ef(e,"documentOverlays")}var Qf=function(){function e(){ae(this,e)}return se(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Qs(e.integerValue));else if("doubleValue"in e){var n=Qs(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),nu(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ys(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?bu(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Mo()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),us.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function Yf(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Xf(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Yf(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Qf.Te=new Qf;var Jf=function(){function e(){ae(this,e),this.buffer=new Uint8Array(1024),this.position=0}return se(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=Xf(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=Xf(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Zf=function(){function e(t){ae(this,e),this.Be=t}return se(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),$f=function(){function e(t){ae(this,e),this.Be=t}return se(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),eh=function(){function e(){ae(this,e),this.Be=new Jf,this.Le=new Zf(this.Be),this.Ue=new $f(this.Be)}return se(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),th=function(){function e(t,n,r,i){ae(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return se(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function nh(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=rh(e.arrayValue,t.arrayValue))?n:0!==(n=rh(e.directionalValue,t.directionalValue))?n:us.comparator(e.documentKey,t.documentKey)}function rh(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var ih=function(){function e(t){ae(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=ue(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return se(e,[{key:"We",value:function(e){var t=ls(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=fs(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=ue(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),ah=function(){function e(){ae(this,e),this.Ye=new oh}return se(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),xs.resolve()}},{key:"getCollectionParents",value:function(e,t){return xs.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return xs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return xs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return xs.resolve(null)}},{key:"getIndexType",value:function(e,t){return xs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return xs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return xs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return xs.resolve(ms.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return xs.resolve(ms.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return xs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return xs.resolve()}}]),e}(),oh=function(){function e(){ae(this,e),this.index={}}return se(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Bs(as.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Bs(as.comparator)).toArray()}}]),e}(),sh=new Uint8Array(0),uh=function(){function e(t,n){ae(this,e),this.user=t,this.databaseId=n,this.Xe=new oh,this.Ze=new Xc((function(e){return Nu(e)}),(function(e,t){return Ou(e,t)})),this.uid=t.uid||""}return se(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Jl(i)};return ch(e).put(a)}return xs.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ts(t),""],!1,!0);return ch(e).W(r).next((function(e){var r,i=ue(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ef(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=fh(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=hh(e);return a.next((function(e){o.put(zf(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=fh(e),r=hh(e),i=lh(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=lh(e),i=!0,a=new Map;return xs.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=sl(),o=[];return xs.forEach(a,(function(i,a){var s;Ro("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Nu(t)));var u=function(e,t){var n=ls(t);if(void 0===n)return null;var r,i=ue(Ru(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ue(fs(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=ue(Ru(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ue(fs(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Pu(e,o.fieldPath,e.startAt):Lu(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Wu(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ue(fs(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Lu(e,o.fieldPath,e.endAt):Pu(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Wu(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return xs.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=us.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return xs.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.on(t[u/c]):sh,h=s.un(e,f,n[u%c],r),d=s.cn(e,f,i[u%c],a),p=o.map((function(t){return s.un(e,f,t,!0)}));l.push.apply(l,Ke(s.createRange(h,d,p)))},h=0;h<u;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new th(e,us.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new th(e,us.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new ih(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=ue(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return xs.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Bs(ss.comparator),r=!1,i=ue(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,s=ue(e.orderBy);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new eh,i=ue(fs(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);Qf.Te.ce(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new eh;return Qf.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new eh;return Qf.Te.ce(du(this.databaseId,t),n.qe(function(e){var t=fs(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new eh);var i,a=0,o=ue(fs(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=ue(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.ln(t,u.fieldPath)&&vu(c))r=this.fn(r,u,c);else{var h=f.qe(u.kind);Qf.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=Ke(e),a=[],o=ue(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=ue(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new eh;f.seed(l.$e()),Qf.Te.ce(u,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ju&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=fh(e),i=hh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return xs.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ds(t.sequenceNumber,new ms(Lf(t.readTime),new us(ef(t.documentKey)),t.largestBatchId)):ds.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new hs(ss.fromServerFormat(n),r)}));return new cs(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:$o(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=fh(e),a=hh(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return xs.forEach(t,(function(t){return a.put(zf(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return xs.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?xs.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),xs.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?xs.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return lh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return lh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=lh(e),i=new Bs(nh);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new th(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Bs(nh),r=this.an(t,e);if(null==r)return n;var i=ls(t);if(null!=i){var a=e.data.field(i.fieldPath);if(vu(a)){var o,s=ue(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new th(t.indexId,e.key,this.on(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new th(t.indexId,e.key,sh,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;Ro("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=qs(a),u=qs(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=qs(o)):l?(i(s),s=qs(a)):(s=qs(a),u=qs(o))}}(r,i,nh,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),xs.waitFor(o)}},{key:"_n",value:function(e){var t=1;return hh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return nh(e,t)})).filter((function(e,t,n){return!t||0!==nh(e,n[t-1])}));var r=[];r.push(e);var i,a=ue(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=nh(o,e),u=nh(o,t);if(0===s)r[0]=e.Ke();else if(s>0&&u<0)r.push(o),r.push(o.Ke());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,sh,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,sh,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(dh)}},{key:"getMinOffset",value:function(e,t){var n=this;return xs.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||Mo()}))})).next(dh)}}]),e}();function ch(e){return Ef(e,"collectionParents")}function lh(e){return Ef(e,"indexEntries")}function fh(e){return Ef(e,"indexConfiguration")}function hh(e){return Ef(e,"indexState")}function dh(e){Fo(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;gs(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ms(t.readTime,t.documentKey,n)}var ph={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vh=function(){function e(t,n,r){ae(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return se(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function mh(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Fo(1===s)})));var c,l=[],f=ue(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=rf(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return xs.waitFor(a).next((function(){return l}))}function gh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mo();t=e.noDocument}return JSON.stringify(t).length}vh.DEFAULT_COLLECTION_PERCENTILE=10,vh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vh.DEFAULT=new vh(41943040,vh.DEFAULT_COLLECTION_PERCENTILE,vh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vh.DISABLED=new vh(-1,0,0);var yh=function(){function e(t,n,r,i){ae(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return se(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bh(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=wh(e),o=bh(e);return o.add({}).next((function(s){Fo("number"==typeof s);var u,c=new Tf(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ml(e.re,t)})),i=n.mutations.map((function(t){return Ml(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Bs((function(e,t){return $o(e.canonicalString(),t.canonicalString())})),d=ue(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=rf(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,af))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),xs.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return bh(e).get(t).next((function(e){return e?(Fo(e.userId===n.userId),jf(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?xs.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return bh(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Fo(t.batchId>=r),a=jf(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bh(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return jf(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=nf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return wh(e).Z({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=ef(l);if(u===n.userId&&t.path.isEqual(h))return bh(e).get(f).next((function(e){if(!e)throw Mo();Fo(e.userId===n.userId),a.push(jf(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Bs($o),i=[];return t.forEach((function(t){var a=nf(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=wh(e).Z({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=ef(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),xs.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=nf(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Bs($o);return wh(e).Z({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=ef(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(bh(e).get(t).next((function(e){if(null===e)throw Mo();Fo(e.userId===n.userId),r.push(jf(n.It,e))})))})),xs.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return mh(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),xs.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return xs.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return wh(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ef(e[1]);i.push(a)}else r.done()})).next((function(){Fo(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return kh(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return xh(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Fo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function kh(e,t,n){var r=nf(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return wh(e).Z({range:a,X:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function bh(e){return Ef(e,"mutations")}function wh(e){return Ef(e,"documentMutations")}function xh(e){return Ef(e,"mutationQueues")}var _h=function(){function e(t){ae(this,e),this.bn=t}return se(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Ih=function(){function e(t,n){ae(this,e),this.referenceDelegate=t,this.It=n}return se(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new _h(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return rs.fromTimestamp(new ns(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Sh(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Fo(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Sh(e).Z((function(o,s){var u=Mf(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return xs.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Sh(e).Z((function(e,n){var r=Mf(n);t(r)}))}},{key:"Vn",value:function(e){return Eh(e).get("targetGlobalKey").next((function(e){return Fo(null!==e),e}))}},{key:"Sn",value:function(e,t){return Eh(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Sh(e).put(Ff(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Nu(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Sh(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Mf(n);Ou(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Th(e);return t.forEach((function(t){var o=Jl(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),xs.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Th(e);return xs.forEach(t,(function(t){var a=Jl(t.path);return xs.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Th(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Th(e),i=sl();return r.Z({range:n,X:!0},(function(e,t,n){var r=ef(e[1]),a=new us(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Jl(t.path),r=IDBKeyRange.bound([n],[ts(n)],!1,!0),i=0;return Th(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Sh(e).get(t).next((function(e){return e?Mf(e):null}))}}]),e}();function Sh(e){return Ef(e,"targets")}function Eh(e){return Ef(e,"targetGlobal")}function Th(e){return Ef(e,"targetDocuments")}function Ah(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=$o(r,o);return 0===u?$o(i,s):u}var Ch=function(){function e(t){ae(this,e),this.xn=t,this.buffer=new Bs(Ah),this.Nn=0}return se(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ah(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Nh=function(){function e(t,n,r){ae(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return se(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;Ro("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ts(e.t0)){e.next=12;break}Ro("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,bs(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Oh=function(){function e(t,n){ae(this,e),this.$n=t,this.params=n}return se(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return xs.resolve(Ps.at);var r=new Ch(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ro("LruGarbageCollector","Garbage collection skipped; disabled"),xs.resolve(ph)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ro("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ph):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ro("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Do()<=Je.DEBUG&&Ro("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),xs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Dh=function(){function e(t,n){ae(this,e),this.db=t,this.garbageCollector=function(e,t){return new Oh(e,t)}(this,n)}return se(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Rh(e,n)}},{key:"removeReference",value:function(e,t,n){return Rh(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Rh(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return xh(e).tt((function(r){return kh(e,r,t).next((function(e){return e&&(n=!0),xs.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,rs.min()),Th(e).delete([0,Jl(o.path)])}))}));i.push(u)}})).next((function(){return xs.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Rh(e,t)}},{key:"Kn",value:function(e,t){var n,r=Th(e),i=Ps.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Ps.at&&t(new us(ef(n)),i),i=u,n=s):i=Ps.at})).next((function(){i!==Ps.at&&t(new us(ef(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Rh(e,t){return Th(e).put(function(e,t){return{targetId:0,path:Jl(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ph=function(){function e(){ae(this,e),this.changes=new Xc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return se(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Tu.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?xs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Lh=function(){function e(t){ae(this,e),this.It=t}return se(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Uh(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Uh(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Rf(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Tu.newInvalidDocument(t);return Uh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Vh(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Tu.newInvalidDocument(t)};return Uh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Vh(t))},(function(e,i){r={document:n.jn(t,i),size:gh(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Zc();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Zc(),i=new Fs(us.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,gh(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return xs.resolve();var r=new Bs(zh);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Vh(r.first()),Vh(r.last())),a=r.getIterator(),o=a.getNext();return Uh(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=us.fromSegments([].concat(Ke(t.prefixPath),[t.collectionGroup,t.documentId]));o&&zh(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Vh(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Rf(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uh(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Zc(),i=ue(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(us.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Zc(),o=Bh(t,n),s=Bh(t,ms.max());return Uh(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(us.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Mh(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Fh(e).get("remoteDocumentGlobalKey").next((function(e){return Fo(!!e),e}))}},{key:"Qn",value:function(e,t){return Fh(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ll(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=us.fromSegments(t.noDocument.path),i=Lf(t.noDocument.readTime);n=Tu.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Mo();var a=us.fromSegments(t.unknownDocument.path),o=Lf(t.unknownDocument.version);n=Tu.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ns(e[0],e[1]);return rs.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(rs.min()))return n}return Tu.newInvalidDocument(e)}}]),e}();function jh(e){return new Lh(e)}var Mh=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Xc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return se(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Bs((function(e,t){return $o(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Df(t.Yn.It,o);i=i.add(a.path.popLast());var c=gh(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Df(t.Yn.It,o.convertToNoDocument(rs.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),xs.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ph);function Fh(e){return Ef(e,"remoteDocumentGlobal")}function Uh(e){return Ef(e,"remoteDocumentsV14")}function Vh(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Bh(e,t){var n=t.documentKey.path.toArray();return[e,Rf(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function zh(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=$o(n[a],r[a]))return i;return(i=$o(n.length,r.length))||((i=$o(n[n.length-2],r[r.length-2]))||$o(n[n.length-1],r[r.length-1]))}var qh=se((function e(t,n){ae(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Hh=function(){function e(t,n,r,i){ae(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return se(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Lc(r.mutation,e,Hs.empty(),ns.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,sl()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sl(),i=nl();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=el();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=nl();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,sl())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Zc(),a=il(),o=il();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Uc)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Lc(o.mutation,t,o.mutation.getFieldMask(),ns.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new qh(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=il(),i=new Fs((function(e,t){return e-t})),a=sl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ue(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Hs.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||sl()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=rl();c.forEach((function(e){if(!a.has(e)){var n=Rc(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return xs.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return us.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):xs.resolve(nl()),s=-1,u=a;return o.next((function(t){return xs.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?xs.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,sl())})).next((function(e){return{batchId:s,changes:tl(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new us(t)).next((function(e){var t=el();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=el();return this.indexManager.getCollectionParents(e,i).next((function(o){return xs.forEach(o,(function(o){var s=function(e,t){return new Xu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Tu.newInvalidDocument(n)))}));var n=el();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Lc(a.mutation,i,Hs.empty(),ns.now()),cc(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):xs.resolve(Tu.newInvalidDocument(t))}}]),e}(),Wh=function(){function e(t){ae(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return se(e,[{key:"getBundleMetadata",value:function(e,t){return xs.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Sl(n.createTime)}),xs.resolve()}},{key:"getNamedQuery",value:function(e,t){return xs.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Uf(e.bundledQuery),readTime:Sl(e.readTime)}}(t)),xs.resolve()}}]),e}(),Kh=function(){function e(){ae(this,e),this.overlays=new Fs(us.comparator),this.es=new Map}return se(e,[{key:"getOverlay",value:function(e,t){return xs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=nl();return xs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),xs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),xs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=nl(),i=t.length+1,a=new us(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return xs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Fs((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=nl(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=nl(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return xs.resolve(u)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Cf(t,n));var a=this.es.get(t);void 0===a&&(a=sl(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Gh=function(){function e(){ae(this,e),this.ns=new Bs(Qh.ss),this.rs=new Bs(Qh.os)}return se(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Qh(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Qh(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new us(new as([])),r=new Qh(n,e),i=new Qh(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new us(new as([])),n=new Qh(t,e),r=new Qh(t,e+1),i=sl();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Qh(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Qh=function(){function e(t,n){ae(this,e),this.key=t,this._s=n}return se(e,null,[{key:"ss",value:function(e,t){return us.comparator(e.key,t.key)||$o(e._s,t._s)}},{key:"os",value:function(e,t){return $o(e._s,t._s)||us.comparator(e.key,t.key)}}]),e}(),Yh=function(){function e(t,n){ae(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Bs(Qh.ss)}return se(e,[{key:"checkEmpty",value:function(e){return xs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Tf(i,t,n,r);this.mutationQueue.push(a);var o,s=ue(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new Qh(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return xs.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return xs.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return xs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return xs.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return xs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Qh(t,0),i=new Qh(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),xs.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Bs($o);return t.forEach((function(e){var t=new Qh(e,0),i=new Qh(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),xs.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;us.isDocumentKey(i)||(i=i.child(""));var a=new Qh(new us(i),0),o=new Bs($o);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),xs.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Fo(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return xs.forEach(t.mutations,(function(i){var a=new Qh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Qh(t,0),r=this.gs.firstAfterOrEqual(n);return xs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,xs.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Xh=function(){function e(t){ae(this,e),this.Es=t,this.docs=new Fs(us.comparator),this.size=0}return se(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return xs.resolve(n?n.document.mutableCopy():Tu.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Zc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Tu.newInvalidDocument(e))})),xs.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Zc(),i=new us(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||gs(vs(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return xs.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Mo()}},{key:"As",value:function(e,t){return xs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Jh(this)}},{key:"getSize",value:function(e){return xs.resolve(this.size)}}]),e}(),Jh=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this)).Yn=e,r}return se(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),xs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Ph),Zh=function(){function e(t){ae(this,e),this.persistence=t,this.Rs=new Xc((function(e){return Nu(e)}),Ou),this.lastRemoteSnapshotVersion=rs.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Gh,this.targetCount=0,this.vs=_h.Pn()}return se(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),xs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return xs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return xs.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),xs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),xs.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new _h(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,xs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),xs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,xs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),xs.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return xs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return xs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),xs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),xs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),xs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return xs.resolve(n)}},{key:"containsKey",value:function(e,t){return xs.resolve(this.Ps.containsKey(t))}}]),e}(),$h=function(){function e(t,n){var r=this;ae(this,e),this.Vs={},this.overlays={},this.Ss=new Ps(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Zh(this),this.indexManager=new ah,this.remoteDocumentCache=new Xh((function(e){return r.referenceDelegate.xs(e)})),this.It=new Of(n),this.Ns=new Wh(this.It)}return se(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Kh,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Yh(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Ro("MemoryPersistence","Starting transaction:",e);var i=new ed(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return xs.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ed=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return se(n)}(ks),td=function(){function e(t){ae(this,e),this.persistence=t,this.Fs=new Gh,this.$s=null}return se(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Mo()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),xs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),xs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),xs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xs.forEach(this.Ls,(function(r){var i=us.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,rs.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return xs.or([function(){return xs.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),nd=function(){function e(t){ae(this,e),this.It=t}return se(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new _s("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tf,{unique:!0}),e.createObjectStore("documentMutations")}(e),rd(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=xs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),rd(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rs.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tf,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return xs.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:gf});t.createIndex("collectionPathOverlayIndex",yf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",kf,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:of});t.createIndex("documentKeyIndex",sf),t.createIndex("collectionGroupIndex",uf)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:df}).createIndex("sequenceNumberIndex",pf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:vf}).createIndex("documentKeyIndex",mf,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=gh(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return xs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return xs.forEach(r,(function(r){Fo(r.userId===n.userId);var i=jf(t.It,r);return mh(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new as(n),o=function(e){return[0,Jl(e)]}(a);r.push(t.get(o).next((function(n){return n?xs.resolve():function(n){return t.put({targetId:0,path:Jl(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return xs.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:hf});var n=t.store("collectionParents"),r=new oh,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Jl(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new as(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],ef(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Mf(r),a=Ff(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new us(as.fromString(i.document.name).popFirst(5)):i.noDocument?us.fromSegments(i.noDocument.path):i.unknownDocument?us.fromSegments(i.unknownDocument.path):Mo()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return xs.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=jh(this.It),a=new $h(td.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:sl();jf(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),xs.forEach(r,(function(e,r){var o=new Co(r),s=Kf.oe(n.It,o),u=a.getIndexManager(o),c=yh.oe(o,n.It,u,a.referenceDelegate);return new Hh(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Sf(t,Ps.at),e).next()}))}))}}]),e}();function rd(e){e.createObjectStore("targetDocuments",{keyPath:lf}).createIndex("documentTargetsIndex",ff,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cf,{unique:!0}),e.createObjectStore("targetGlobal")}var id="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ad=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(ae(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Bo(Vo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dh(this,i),this.ii=n+"main",this.It=new Of(u),this.ri=new Is(this.ii,this.Xs,new nd(this.It)),this.Cs=new Ih(this.referenceDelegate,this.It),this.remoteDocumentCache=jh(this.It),this.Ns=new qf,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Po("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return se(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Bo(Vo.FAILED_PRECONDITION,id);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Ps(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=te($().mark((function n(r){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=te($().mark((function t(n){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return sd(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Ts(t))return Ro("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ro("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return od(e).get("owner").next((function(e){return xs.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return sd(e).delete(this.clientId)}},{key:"yi",value:function(){var e=te($().mark((function e(){var t,n,r,i,a=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ef(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return xs.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=ue(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?xs.resolve(!0):od(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Bo(Vo.FAILED_PRECONDITION,id);return!1}}return!(!t.networkEnabled||!t.inForeground)||sd(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ro("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=te($().mark((function e(){var t=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Sf(e,Ps.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return sd(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return yh.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new uh(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Kf.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Ro("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?If:14===i?_f:13===i?xf:12===i?wf:11===i?bf:void Mo();return this.ri.runTransaction(e,o,s,(function(i){return a=new Sf(i,r.Ss?r.Ss.next():Ps.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Po("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Bo(Vo.FAILED_PRECONDITION,ys);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return od(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Bo(Vo.FAILED_PRECONDITION,id)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return od(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=od(e);return n.get("owner").next((function(e){return t.mi(e)?(Ro("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):xs.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Po("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ro("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Po("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(jn){Po("Failed to set zombie client id.",jn)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(jn){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Is.C()}}]),e}();function od(e){return Ef(e,"owner")}function sd(e){return Ef(e,"clientMetadata")}function ud(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var cd=function(){function e(t,n,r,i){ae(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return se(e,null,[{key:"Ci",value:function(t,n){var r,i=sl(),a=sl(),o=ue(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ld=function(){function e(){ae(this,e),this.xi=!1}return se(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if($u(t))return xs.resolve(null);var r=ic(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=ac(t,null,"F"),r=ic(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=sl.apply(void 0,Ke(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,ac(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return $u(t)||r.isEqual(rs.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(Do()<=Je.DEBUG&&Ro("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uc(t)),i.Bi(e,o,t,ps(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Bs(fc(e));return t.forEach((function(t,r){cc(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Do()<=Je.DEBUG&&Ro("QueryEngine","Using full collection scan to execute query:",uc(t)),this.Ni.getDocumentsMatchingQuery(e,t,ms.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),fd=function(){function e(t,n,r,i){ae(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Fs($o),this.qi=new Xc((function(e){return Nu(e)}),Ou),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return se(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function hd(e,t,n,r){return new fd(e,t,n,r)}function dd(e,t){return pd.apply(this,arguments)}function pd(){return pd=te($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uo(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=sl(),u=ue(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ue(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ue(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=ue(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){var n=Uo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=xs.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Fo(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=sl(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function md(e){var t=Uo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function gd(e,t){var n=Uo(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Ws.EMPTY_BYTE_STRING,rs.min()).withLastLimboFreeSnapshotVersion(rs.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=Zc(),u=sl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(yd(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(rs.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return xs.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ui=i,e}))}function yd(e,t,n){var r=sl(),i=sl();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Zc();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(rs.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ro("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function kd(e,t){var n=Uo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function bd(e,t){var n=Uo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,xs.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Nf(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function wd(e,t,n){return xd.apply(this,arguments)}function xd(){return xd=te($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uo(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ts(e.t1)){e.next=12;break}throw e.t1;case 12:Ro("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),xd.apply(this,arguments)}function _d(e,t,n){var r=Uo(e),i=rs.min(),a=sl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Uo(e),i=r.qi.get(n);return void 0!==i?xs.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,ic(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:rs.min(),n?a:sl())})).next((function(e){return Ed(r,lc(t),e),{documents:e,Hi:a}}))}))}function Id(e,t){var n=Uo(e),r=Uo(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Sd(e,t){var n=Uo(e),r=n.Ki.get(t)||rs.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,ps(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ed(n,t,e),e}))}function Ed(e,t,n){var r=rs.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Td(e,t,n,r){return Ad.apply(this,arguments)}function Ad(){return Ad=te($().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Uo(t),o=sl(),s=Zc(),u=ue(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,bd(a,function(e){return ic(Zu(as.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return yd(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Cd(e,t){return Nd.apply(this,arguments)}function Nd(){return Nd=te($().mark((function e(t,n){var r,i,a,o=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:sl(),e.next=3,bd(t,ic(Uf(n.bundledQuery)));case 3:return i=e.sent,a=Uo(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Sl(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Ws.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Nd.apply(this,arguments)}function Od(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Dd(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Rd(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Pd=function(){function e(t,n,r,i){ae(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return se(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Bo(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Po("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ld=function(){function e(t,n,r){ae(this,e),this.targetId=t,this.state=n,this.error=r}return se(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Bo(i.error.code,i.error.message))),a?new e(t,i.state,r):(Po("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),jd=function(){function e(t,n){ae(this,e),this.clientId=t,this.activeTargetIds=n}return se(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=cl(),o=0;i&&o<r.activeTargetIds.length;++o)i=ru(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Po("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Md=function(){function e(t,n){ae(this,e),this.clientId=t,this.onlineState=n}return se(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Po("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Fd=function(){function e(){ae(this,e),this.activeTargetIds=cl()}return se(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ud=function(){function e(t,n,r,i,a){ae(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Fs($o),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Od(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Fd),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return se(e,[{key:"start",value:function(){var e=te($().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=ue(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Od(this.persistenceKey,i)))&&(o=jd.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=ue(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Rd(this.persistenceKey,e));if(n){var r=Ld.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Rd(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ro("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ro("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ro("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ro("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Po("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(te($().mark((function e(){var r,i,a,o,s,u,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=Ps.at;if(null!=e)try{var n=JSON.parse(e);Fo("number"==typeof n),t=n}catch(e){Po("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Ps.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Pd(this.currentUser,e,t,n),i=Dd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Dd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Rd(this.persistenceKey,e),i=new Ld(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return jd.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Pd.Zi(new Co(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Ld.Zi(r,t)}},{key:"yr",value:function(e){return Md.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Ro("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=cl();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Vd=function(){function e(){ae(this,e),this.Lr=new Fd,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return se(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Fd,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Bd=function(){function e(){ae(this,e)}return se(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),zd=function(){function e(){var t=this;ae(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return se(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Ro("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ue(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Ro("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ue(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),qd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Hd=function(){function e(t){ae(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return se(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Wd=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return se(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new To;o.listenOnce(xo.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case wo.NO_ERROR:var t=o.getResponseJson();Ro("Connection","XHR received:",JSON.stringify(t)),i(t);break;case wo.TIMEOUT:Ro("Connection",'RPC "'+e+'" timed out'),a(new Bo(Vo.DEADLINE_EXCEEDED,"Request time out"));break;case wo.HTTP_ERROR:var n=o.getStatus();if(Ro("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vo).indexOf(t)>=0?t:Vo.UNKNOWN}(r.status);a(new Bo(s,r.message))}else a(new Bo(Vo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Bo(Vo.UNAVAILABLE,"Connection failed."));break;default:Mo()}}finally{Ro("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ko(),a=bo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new So({})),this.ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Ro("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Hd({Hr:function(e){l?Ro("Connection","Not sending because WebChannel is closed:",e):(c||(Ro("Connection","Opening WebChannel transport."),u.open(),c=!0),Ro("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Eo.EventType.OPEN,(function(){l||Ro("Connection","WebChannel transport opened.")})),h(u,Eo.EventType.CLOSE,(function(){l||(l=!0,Ro("Connection","WebChannel transport closed"),f.io())})),h(u,Eo.EventType.ERROR,(function(e){l||(l=!0,Lo("Connection","WebChannel transport errored:",e),f.io(new Bo(Vo.UNAVAILABLE,"The operation could not be completed")))})),h(u,Eo.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Fo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ro("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=qc[e];if(void 0!==t)return Yc(t)}(a),s=i.message;void 0===o&&(o=Vo.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Bo(o,s)),u.close()}else Ro("Connection","WebChannel received:",n),f.ro(n)}})),h(a,_o.STAT_EVENT,(function(e){e.stat===Io.PROXY?Ro("Connection","Detected buffering proxy"):e.stat===Io.NOPROXY&&Ro("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){ae(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return se(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);Ro("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return Ro("RestConnection","Received: ",e),e}),(function(t){throw Lo("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+No,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=qd[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Kd(){return"undefined"!=typeof window?window:null}function Gd(){return"undefined"!=typeof document?document:null}function Qd(e){return new wl(e,!0)}var Yd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ae(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return se(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Ro("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),Xd=function(){function e(t,n,r,i,a,o,s,u){ae(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Yd(t,n)}return se(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Vo.RESOURCE_EXHAUSTED?(Po(n.toString()),Po("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===Vo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Bo(Vo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(te($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Ro("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Ro("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Jd=function(e){fe(n,e);var t=ve(n);function n(e,r,i,a,o,s){var u;return ae(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).It=o,u}return se(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Fo(void 0===t||"string"==typeof t),Ws.fromBase64String(t||"")):(Fo(void 0===t||t instanceof Uint8Array),Ws.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Vo.UNKNOWN:Yc(e.code);return new Bo(t,e.message||"")}(o);n=new pl(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Cl(e,u.document.name),l=Sl(u.document.updateTime),f=new Su({mapValue:{fields:u.document.fields}}),h=Tu.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new hl(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Cl(e,v.document),g=v.readTime?Sl(v.readTime):rs.min(),y=Tu.newNoDocument(m,g),k=v.removedTargetIds||[];n=new hl([],k,y.key,y)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Cl(e,b.document),x=b.removedTargetIds||[];n=new hl([],x,w,null)}else{if(!("filter"in t))return Mo();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new Gc(I),E=_.targetId;n=new dl(E,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return rs.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?rs.min():t.readTime?Sl(t.readTime):rs.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Dl(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Du(r)?{documents:Ul(e,r)}:{query:Vl(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=_l(e,t.resumeToken):t.snapshotVersion.compareTo(rs.min())>0&&(n.readTime=xl(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Dl(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(Xd),Zd=function(e){fe(n,e);var t=ve(n);function n(e,r,i,a,o,s){var u;return ae(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).It=o,u.Jo=!1,u}return se(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,wn(he(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(Fo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Fo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Sl(e.updateTime):Sl(t);return n.isEqual(rs.min())&&(n=Sl(t)),new Cc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Sl(e.commitTime);return this.listener.Zo(n,t)}return Fo(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Dl(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ml(t.It,e)}))};this.Bo(n)}}]),n}(Xd),$d=function(e){fe(n,e);var t=ve(n);function n(e,r,i,a){var o;return ae(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return se(n,[{key:"su",value:function(){if(this.nu)throw new Bo(Vo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.Vo.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Bo(Vo.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.Vo.fo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vo.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Bo(Vo.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return se((function e(){ae(this,e)}))}()),ep=function(){function e(t,n){ae(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return se(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Po(t),this.ou=!1):Ro("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),tp=se((function e(t,n,r,i,a){var o=this;ae(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=hp(o),!e.t0){e.next=5;break}return Ro("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Uo(t))._u.add(4),e.next=4,ip(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,np(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new ep(r,i)}));function np(e){return rp.apply(this,arguments)}function rp(){return rp=te($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hp(t)){e.next=18;break}n=ue(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),rp.apply(this,arguments)}function ip(e){return ap.apply(this,arguments)}function ap(){return ap=te($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ue(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ap.apply(this,arguments)}function op(e,t){var n=Uo(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),fp(n)?lp(n):Bp(n).ko()&&up(n,t))}function sp(e,t){var n=Uo(e),r=Bp(n);n.du.delete(t),r.ko()&&cp(n,t),0===n.du.size&&(r.ko()?r.Fo():hp(n)&&n.gu.set("Unknown"))}function up(e,t){e.yu.Ot(t.targetId),Bp(e).zo(t)}function cp(e,t){e.yu.Ot(t),Bp(e).Ho(t)}function lp(e){e.yu=new ml({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),Bp(e).start(),e.gu.uu()}function fp(e){return hp(e)&&!Bp(e).No()&&e.du.size>0}function hp(e){return 0===Uo(e)._u.size}function dp(e){e.yu=void 0}function pp(e){return vp.apply(this,arguments)}function vp(){return vp=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){up(t,e)}));case 1:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function mp(e,t){return gp.apply(this,arguments)}function gp(){return gp=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dp(t),fp(t)?(t.gu.hu(n),lp(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),gp.apply(this,arguments)}function yp(e,t,n){return kp.apply(this,arguments)}function kp(){return kp=te($().mark((function e(t,n,r){var i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof pl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=te($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ue(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ro("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,bp(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof hl?t.yu.Gt(n):n instanceof dl?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(rs.min())){e.next=29;break}return e.prev=14,e.next=17,md(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Ws.EMPTY_BYTE_STRING,n.snapshotVersion)),cp(e,t);var r=new Nf(n.target,t,1,n.sequenceNumber);up(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ro("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,bp(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),kp.apply(this,arguments)}function bp(e,t,n){return wp.apply(this,arguments)}function wp(){return wp=te($().mark((function e(t,n,r){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ts(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,ip(t);case 5:t.gu.set("Offline"),r||(r=function(){return md(t.localStore)}),t.asyncQueue.enqueueRetryable(te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,np(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}function xp(e,t){return t().catch((function(n){return bp(e,n,t)}))}function _p(e){return Ip.apply(this,arguments)}function Ip(){return Ip=te($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Uo(t),r=zp(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Sp(n)){e.next=19;break}return e.prev=3,e.next=6,kd(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Ep(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,bp(n,e.t0);case 17:e.next=2;break;case 19:Tp(n)&&Ap(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Ip.apply(this,arguments)}function Sp(e){return hp(e)&&e.fu.length<10}function Ep(e,t){e.fu.push(t);var n=zp(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Tp(e){return hp(e)&&!zp(e).No()&&e.fu.length>0}function Ap(e){zp(e).start()}function Cp(e){return Np.apply(this,arguments)}function Np(){return Np=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zp(t).eu();case 1:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}function Op(e){return Dp.apply(this,arguments)}function Dp(){return Dp=te($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zp(t),r=ue(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Dp.apply(this,arguments)}function Rp(e,t,n){return Pp.apply(this,arguments)}function Pp(){return Pp=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Af.from(i,n,r),e.next=3,xp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,_p(t);case 5:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}function Lp(e,t){return jp.apply(this,arguments)}function jp(){return jp=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&zp(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=te($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qc(i=n.code)||i===Vo.ABORTED){e.next=7;break}return r=t.fu.shift(),zp(t).Oo(),e.next=5,xp(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,_p(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Tp(t)&&Ap(t);case 5:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Mp(e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=te($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Uo(t)).asyncQueue.verifyOperationInProgress(),Ro("RemoteStore","RemoteStore received new credentials"),i=hp(r),r._u.add(3),e.next=6,ip(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,np(r);case 12:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function Up(e,t){return Vp.apply(this,arguments)}function Vp(){return Vp=te($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uo(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,np(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,ip(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Vp.apply(this,arguments)}function Bp(e){return e.pu||(e.pu=function(e,t,n){var r=Uo(e);return r.su(),new Jd(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:pp.bind(null,e),Zr:mp.bind(null,e),Wo:yp.bind(null,e)}),e.wu.push(function(){var t=te($().mark((function t(n){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),fp(e)?lp(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:dp(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function zp(e){return e.Iu||(e.Iu=function(e,t,n){var r=Uo(e);return r.su(),new Zd(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Cp.bind(null,e),Zr:Lp.bind(null,e),tu:Op.bind(null,e),Zo:Rp.bind(null,e)}),e.wu.push(function(){var t=te($().mark((function t(n){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,_p(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Ro("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var qp=function(){function e(t,n,r,i,a){ae(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return se(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bo(Vo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Hp(e,t){if(Po("AsyncQueue","".concat(t,": ").concat(e)),Ts(e))return new Bo(Vo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Wp=function(){function e(t){ae(this,e),this.comparator=t?function(e,n){return t(e,n)||us.comparator(e.key,n.key)}:function(e,t){return us.comparator(e.key,t.key)},this.keyedMap=el(),this.sortedSet=new Fs(this.comparator)}return se(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Kp=function(){function e(){ae(this,e),this.Tu=new Fs(us.comparator)}return se(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Mo():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Gp=function(){function e(t,n,r,i,a,o,s,u){ae(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return se(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Wp.emptySet(n),a,r,i,!0,!1)}}]),e}(),Qp=se((function e(){ae(this,e),this.Au=void 0,this.listeners=[]})),Yp=se((function e(){ae(this,e),this.queries=new Xc((function(e){return sc(e)}),oc),this.onlineState="Unknown",this.Ru=new Set}));function Xp(e,t){return Jp.apply(this,arguments)}function Jp(){return Jp=te($().mark((function e(t,n){var r,i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uo(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Qp),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Hp(e.t0,"Initialization of query '".concat(uc(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&nv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Jp.apply(this,arguments)}function Zp(e,t){return $p.apply(this,arguments)}function $p(){return $p=te($().mark((function e(t,n){var r,i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uo(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),$p.apply(this,arguments)}function ev(e,t){var n,r=Uo(e),i=!1,a=ue(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ue(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&nv(r)}function tv(e,t,n){var r=Uo(e),i=r.queries.get(t);if(i){var a,o=ue(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function nv(e){e.Ru.forEach((function(e){e.next()}))}var rv=function(){function e(t,n,r){ae(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return se(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ue(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Gp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Gp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),iv=function(){function e(t,n){ae(this,e),this.payload=t,this.byteLength=n}return se(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),av=function(){function e(t){ae(this,e),this.It=t}return se(e,[{key:"Ji",value:function(e){return Cl(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Ll(this.It,e.document,!1):Tu.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Sl(e)}}]),e}(),ov=function(){function e(t,n,r){ae(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sv(t)}return se(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=as.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new av(this.It),i=ue(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=ue(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||sl()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=te($().mark((function e(){var t,n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Td(this.localStore,new av(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=ue(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Cd(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function sv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var uv=se((function e(t){ae(this,e),this.key=t})),cv=se((function e(t){ae(this,e),this.key=t})),lv=function(){function e(t,n){ae(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=sl(),this.mutatedKeys=sl(),this.Ku=fc(t),this.Gu=new Wp(this.Ku)}return se(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new Kp,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=cc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ku(f,u)>0||c&&n.Ku(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:s,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mo()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],s=0===this.qu.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new Gp(this.query,e.Gu,i,a,e.mutatedKeys,0===s,u,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Kp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=sl(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new cv(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new uv(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=sl();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return Gp.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),fv=se((function e(t,n,r){ae(this,e),this.query=t,this.targetId=n,this.view=r})),hv=se((function e(t){ae(this,e),this.key=t,this.ec=!1})),dv=function(){function e(t,n,r,i,a,o){ae(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Xc((function(e){return sc(e)}),oc),this.ic=new Map,this.rc=new Set,this.oc=new Fs(us.comparator),this.uc=new Map,this.cc=new Gh,this.ac={},this.hc=new Map,this.lc=_h.vn(),this.onlineState="Unknown",this.fc=void 0}return se(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function pv(e,t){return vv.apply(this,arguments)}function vv(){return vv=te($().mark((function e(t,n){var r,i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sm(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,bd(r.localStore,ic(n));case 8:return s=e.sent,r.isPrimaryClient&&op(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,mv(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),vv.apply(this,arguments)}function mv(e,t,n,r){return gv.apply(this,arguments)}function gv(){return gv=te($().mark((function e(t,n,r,i){var a,o,s,u,c,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=te($().mark((function e(t,n,r,i){var a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,_d(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Mv(t,n.targetId,s.Yu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,_d(t.localStore,n,!0);case 3:return a=e.sent,o=new lv(n,a.Hi),s=o.ju(a.documents),u=fl.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Mv(t,r,c.Yu),l=new fv(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function yv(e,t){return kv.apply(this,arguments)}function kv(){return kv=te($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uo(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!oc(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,wd(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sp(r.remoteStore,i.targetId),Lv(r,i.targetId)})).catch(bs);case 9:e.next=14;break;case 11:return Lv(r,i.targetId),e.next=14,wd(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function bv(e,t,n){return wv.apply(this,arguments)}function wv(){return wv=te($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=um(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Uo(e),a=ns.now(),o=t.reduce((function(e,t){return e.add(t.key)}),sl());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Zc(),u=sl();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=ue(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=jc(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Uc(c.key,l,Eu(l.value.mapValue),Nc.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:tl(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Fs($o)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Vv(i,a.changes);case 9:return e.next=11,_p(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Hp(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),wv.apply(this,arguments)}function xv(e,t){return _v.apply(this,arguments)}function _v(){return _v=te($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uo(t),e.prev=1,e.next=4,gd(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Fo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Fo(n.ec):e.removedDocuments.size>0&&(Fo(n.ec),n.ec=!1))})),e.next=8,Vv(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,bs(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),_v.apply(this,arguments)}function Iv(e,t,n){var r=Uo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Uo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ue(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&nv(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Sv(e,t,n){return Ev.apply(this,arguments)}function Ev(){return Ev=te($().mark((function e(t,n,r){var i,a,o,s,u,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Uo(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Fs(us.comparator)).insert(o,Tu.newNoDocument(o,rs.min())),u=sl().add(o),c=new ll(rs.min(),new Map,new Bs($o),s,u),e.next=9,xv(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),Uv(i),e.next=16;break;case 14:return e.next=16,wd(i.localStore,n,!1).then((function(){return Lv(i,n,r)})).catch(bs);case 16:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function Tv(e,t){return Av.apply(this,arguments)}function Av(){return Av=te($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uo(t),i=n.batch.batchId,e.prev=1,e.next=4,vd(r.localStore,n);case 4:return a=e.sent,Pv(r,i,null),Rv(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Vv(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Av.apply(this,arguments)}function Cv(e,t,n){return Nv.apply(this,arguments)}function Nv(){return Nv=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Uo(t),e.prev=1,e.next=4,function(e,t){var n=Uo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Fo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Pv(i,n,r),Rv(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Vv(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Nv.apply(this,arguments)}function Ov(e,t){return Dv.apply(this,arguments)}function Dv(){return Dv=te($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hp((r=Uo(t)).remoteStore)||Ro("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Uo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Hp(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Dv.apply(this,arguments)}function Rv(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Pv(e,t,n){var r=Uo(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Lv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ue(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||jv(e,t)}))}function jv(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(sp(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Uv(e))}function Mv(e,t,n){var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof uv?(e.cc.addReference(a.key,t),Fv(e,a)):a instanceof cv?(Ro("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||jv(e,a.key)):Mo()}}catch(o){i.e(o)}finally{i.f()}}function Fv(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Ro("SyncEngine","New document in limbo: "+n),e.rc.add(r),Uv(e))}function Uv(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new us(as.fromString(t)),r=e.lc.next();e.uc.set(r,new hv(n)),e.oc=e.oc.insert(n,r),op(e.remoteStore,new Nf(ic(Zu(n.path)),r,2,Ps.at))}}function Vv(e,t,n){return Bv.apply(this,arguments)}function Bv(){return Bv=te($().mark((function e(t,n,r){var i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uo(t),a=[],o=[],s=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){s.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=cd.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.nc.Wo(a),e.next=9,function(){var e=te($().mark((function e(t,n){var r,i,a,o,s,u,c,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uo(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return xs.forEach(n,(function(t){return xs.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return xs.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ts(e.t0)){e.next=10;break}throw e.t0;case 10:Ro("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ue(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ui.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Bv.apply(this,arguments)}function zv(e,t){return qv.apply(this,arguments)}function qv(){return qv=te($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Uo(t)).currentUser.isEqual(n)){e.next=11;break}return Ro("SyncEngine","User change. New user:",n.toKey()),e.next=5,dd(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Bo(Vo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Vv(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}function Hv(e,t){var n=Uo(e),r=n.uc.get(t);if(r&&r.ec)return sl().add(r.key);var i=sl(),a=n.ic.get(t);if(!a)return i;var o,s=ue(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.sc.get(u);i=i.unionWith(c.view.Qu)}}catch(l){s.e(l)}finally{s.f()}return i}function Wv(e,t){return Kv.apply(this,arguments)}function Kv(){return Kv=te($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uo(t),e.next=3,_d(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&Mv(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}function Gv(e,t){return Qv.apply(this,arguments)}function Qv(){return Qv=te($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uo(t),e.abrupt("return",Sd(r.localStore,n).then((function(e){return Vv(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function Yv(e,t,n,r){return Xv.apply(this,arguments)}function Xv(){return Xv=te($().mark((function e(t,n,r,i){var a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Uo(t),e.next=3,function(e,t){var n=Uo(e),r=Uo(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):xs.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,_p(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Pv(a,n,i||null),Rv(a,n),function(e,t){Uo(Uo(e).mutationQueue).An(t)}(a.localStore,n)):Mo();case 11:return e.next=13,Vv(a,o);case 13:e.next=16;break;case 15:Ro("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Xv.apply(this,arguments)}function Jv(e,t){return Zv.apply(this,arguments)}function Zv(){return Zv=te($().mark((function e(t,n){var r,i,a,o,s,u,c,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sm(r=Uo(t)),um(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,$v(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,Up(r.remoteStore,!0);case 9:o=ue(a);try{for(o.s();!(s=o.n()).done;)u=s.value,op(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Lv(r,t),wd(r.localStore,t,!0)})),sp(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,$v(r,c);case 21:return function(e){var t=Uo(e);t.uc.forEach((function(e,n){sp(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new Fs(us.comparator)}(r),r.fc=!1,e.next=25,Up(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function $v(e,t,n){return em.apply(this,arguments)}function em(){return em=te($().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Uo(t),a=[],o=[],s=ue(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,bd(i.localStore,ic(f[0]));case 11:l=e.sent,h=ue(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,Wv(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Id(i.localStore,c);case 36:return g=e.sent,e.next=39,bd(i.localStore,g);case 39:return l=e.sent,e.next=42,mv(i,tm(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),em.apply(this,arguments)}function tm(e){return Ju(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nm(e){var t=Uo(e);return Uo(Uo(t.localStore).persistence).vi()}function rm(e,t,n,r){return im.apply(this,arguments)}function im(){return im=te($().mark((function e(t,n,r,i){var a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Uo(t)).fc){e.next=3;break}return e.abrupt("return",void Ro("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Sd(a.localStore,lc(o[0]));case 10:return s=e.sent,u=ll.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Vv(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,wd(a.localStore,n,!0);case 17:return Lv(a,n,i),e.abrupt("break",20);case 19:Mo();case 20:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(e,t,n){return om.apply(this,arguments)}function om(){return om=te($().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=sm(t)).fc){e.next=45;break}a=ue(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ic.has(s)){e.next=10;break}return Ro("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Id(i.localStore,s);case 12:return u=e.sent,e.next=15,bd(i.localStore,u);case 15:return c=e.sent,e.next=18,mv(i,tm(u),c.targetId,!1);case 18:op(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ue(r),e.prev=30,h=$().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,wd(i.localStore,t,!1).then((function(){sp(i.remoteStore,t),Lv(i,t)})).catch(bs);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),om.apply(this,arguments)}function sm(e){var t=Uo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sv.bind(null,t),t.nc.Wo=ev.bind(null,t.eventManager),t.nc._c=tv.bind(null,t.eventManager),t}function um(e){var t=Uo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Tv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cv.bind(null,t),t}function cm(e,t,n){var r=Uo(e);(function(){var e=te($().mark((function e(t,n,r){var i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Uo(e),r=Sl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(sv(i)),a=new ov(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,Vv(t,u.Bu,void 0);case 31:return e.next=33,function(e,t){var n=Uo(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Lo("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var lm=function(){function e(){ae(this,e),this.synchronizeTabs=!1}return se(e,[{key:"initialize",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=Qd(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return hd(this.persistence,new ld,e.initialUser,this.It)}},{key:"gc",value:function(e){return new $h(td.Bs,this.It)}},{key:"mc",value:function(e){return new Vd}},{key:"terminate",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fm=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return se(n,[{key:"initialize",value:function(){var e=te($().mark((function e(t){var r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(he(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,um(this.Ec.syncEngine);case 6:return e.next=8,_p(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return hd(this.persistence,new ld,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Nh(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new Rs(t,this.persistence);return new Ds(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=ud(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vh.withCacheSize(this.cacheSizeBytes):vh.DEFAULT;return new ad(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Kd(),Gd(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new Vd}}]),n}(lm),hm=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return se(n,[{key:"initialize",value:function(){var e=te($().mark((function e(t){var r,i=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(he(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof Ud,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Yv.bind(null,r),$r:rm.bind(null,r),Br:am.bind(null,r),vi:nm.bind(null,r),Or:Gv.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jv(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=Kd();if(!Ud.C(t))throw new Bo(Vo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ud(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ud(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(fm),dm=function(){function e(){ae(this,e)}return se(e,[{key:"initialize",value:function(){var e=te($().mark((function e(t,n){var r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Iv(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zv.bind(null,this.syncEngine),e.next=12,Up(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Yp}},{key:"createDatastore",value:function(e){var t,n=Qd(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Wd(t));return function(e,t,n,r){return new $d(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Iv(o.syncEngine,e,0)},a=zd.C()?new zd:new Bd,new tp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new dv(e,t,n,r,i,a);return o&&(s.fc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uo(t),Ro("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,ip(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function pm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return te($().mark((function r(){var i;return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var vm=function(){function e(t){ae(this,e),this.observer=t,this.muted=!1}return se(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):Po("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),mm=function(){function e(t,n){var r=this;ae(this,e),this.bc=t,this.It=n,this.metadata=new zo,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return se(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=te($().mark((function e(){var t,n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new iv(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=te($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=te($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gm=function(){function e(t){ae(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return se(e,[{key:"lookup",value:function(){var e=te($().mark((function e(t){var n,r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Bo(Vo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=te($().mark((function e(t,n){var r,i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uo(t),i=Dl(r.It)+"/documents",a={documents:n.map((function(e){return Al(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=jl(r.It,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Fo(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Wc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=te($().mark((function e(){var t,n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=us.fromPath(t);n.mutations.push(new Kc(r,n.precondition(r)))})),e.next=7,function(){var e=te($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uo(t),i=Dl(r.It)+"/documents",a={writes:n.map((function(e){return Ml(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mo();t=rs.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Bo(Vo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rs.min())?Nc.exists(!1):Nc.updateTime(t):Nc.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rs.min()))throw new Bo(Vo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nc.updateTime(t)}return Nc.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ym=function(){function e(t,n,r,i,a){ae(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new Yd(this.asyncQueue,"transaction_retry")}return se(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(te($().mark((function t(){var n,r;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new gm(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!tu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Qc(t)}return!1}}]),e}(),km=function(){function e(t,n,r,i){var a=this;ae(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Co.UNAUTHENTICATED,this.clientId=Zo.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ro("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return se(e,[{key:"getConfiguration",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Bo(Vo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(te($().mark((function n(){var r;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Hp(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function bm(e,t){return wm.apply(this,arguments)}function wm(){return wm=te($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ro("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,dd(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function xm(e,t){return _m.apply(this,arguments)}function _m(){return _m=te($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Im(t);case 3:return r=e.sent,Ro("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Mp(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Mp(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function Im(e){return Sm.apply(this,arguments)}function Sm(){return Sm=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ro("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,bm(t,new lm);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Sm.apply(this,arguments)}function Em(e){return Tm.apply(this,arguments)}function Tm(){return Tm=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ro("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,xm(t,new dm);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Tm.apply(this,arguments)}function Am(e){return Im(e).then((function(e){return e.persistence}))}function Cm(e){return Im(e).then((function(e){return e.localStore}))}function Nm(e){return Em(e).then((function(e){return e.remoteStore}))}function Om(e){return Em(e).then((function(e){return e.syncEngine}))}function Dm(e){return Rm.apply(this,arguments)}function Rm(){return Rm=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Em(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=pv.bind(null,n.syncEngine),r.onUnlisten=yv.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}function Pm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new zo;return e.asyncQueue.enqueueAndForget(te($().mark((function i(){return $().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new vm({next:function(a){t.enqueueAndForget((function(){return Zp(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Bo(Vo.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Bo(Vo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new rv(Zu(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Xp(e,o)},i.next=3,Dm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Lm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new zo;return e.asyncQueue.enqueueAndForget(te($().mark((function i(){return $().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new vm({next:function(n){t.enqueueAndForget((function(){return Zp(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Bo(Vo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new rv(n,a,{includeMetadataChanges:!0,Nu:!0});return Xp(e,o)},i.next=3,Dm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var jm=new Map;function Mm(e,t,n){if(!n)throw new Bo(Vo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Fm(e,t,n,r){if(!0===t&&!0===r)throw new Bo(Vo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Um(e){if(!us.isDocumentKey(e))throw new Bo(Vo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Vm(e){if(us.isDocumentKey(e))throw new Bo(Vo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Mo()}function zm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bo(Vo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Bm(e);throw new Bo(Vo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function qm(e,t){if(t<=0)throw new Bo(Vo.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Hm=function(){function e(t){var n;if(ae(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Bo(Vo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Bo(Vo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Fm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return se(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Wm=function(){function e(t,n,r,i){ae(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hm({}),this._settingsFrozen=!1}return se(e,[{key:"app",get:function(){if(!this._app)throw new Bo(Vo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Bo(Vo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ho;switch(e.type){case"gapi":var t=e.client;return new Qo(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bo(Vo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=jm.get(e);t&&(Ro("ComponentProvider","Removing Datastore"),jm.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Km(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=zm(e,Wm))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Lo("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Co.MOCK_USER;else{o=Ie(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Bo(Vo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Co(u)}e._authCredentials=new Wo(new qo(o,s))}}var Gm=function(){function e(t,n,r){ae(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return se(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ym(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Qm=function(){function e(t,n,r){ae(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return se(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ym=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this,e,r,Zu(i)))._path=i,a.type="collection",a}return se(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Gm(this.firestore,null,new us(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Qm);function Xm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=He(e),Mm("collection","path",t),e instanceof Wm){var a=as.fromString.apply(as,[t].concat(r));return Vm(a),new Ym(e,null,a)}if(!(e instanceof Gm||e instanceof Ym))throw new Bo(Vo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(as.fromString.apply(as,[t].concat(r)));return Vm(o),new Ym(e.firestore,null,o)}function Jm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=He(e),1===arguments.length&&(t=Zo.R()),Mm("doc","path",t),e instanceof Wm){var a=as.fromString.apply(as,[t].concat(r));return Um(a),new Gm(e,null,new us(a))}if(!(e instanceof Gm||e instanceof Ym))throw new Bo(Vo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(as.fromString.apply(as,[t].concat(r)));return Um(o),new Gm(e.firestore,e instanceof Ym?e.converter:null,new us(o))}function Zm(e,t){return e=He(e),t=He(t),(e instanceof Gm||e instanceof Ym)&&(t instanceof Gm||t instanceof Ym)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function $m(e,t){return e=He(e),t=He(t),e instanceof Qm&&t instanceof Qm&&e.firestore===t.firestore&&oc(e._query,t._query)&&e.converter===t.converter}var eg=function(){function e(){var t=this;ae(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Yd(this,"async_queue_retry"),this.jc=function(){var e=Gd();e&&Ro("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=Gd();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return se(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=Gd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new zo;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=te($().mark((function e(){var t=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ts(e.t0)){e.next=12;break}throw e.t0;case 12:Ro("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Po("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=qp.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&Mo()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=ue(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ue(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function tg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ue(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ng=function(){function e(){ae(this,e),this._progressObserver={},this._taskCompletionResolver=new zo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return se(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),rg=function(e){fe(n,e);var t=ve(n);function n(e,r,i,a){var o;return ae(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new eg,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return se(n,[{key:"_terminate",value:function(){return this._firestoreClient||ag(this),this._firestoreClient.terminate()}}]),n}(Wm);function ig(e){return e._firestoreClient||ag(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ag(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new $s(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new km(e._authCredentials,e._appCheckCredentials,e._queue,r)}function og(e,t,n){var r=new zo;return e.asyncQueue.enqueue(te($().mark((function i(){var a;return $().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,bm(e,n);case 3:return i.next=5,xm(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Vo.FAILED_PRECONDITION||e.code===Vo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Lo("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function sg(e){return function(e){return e.asyncQueue.enqueue(te($().mark((function t(){var n,r;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Am(e);case 2:return n=t.sent,t.next=5,Nm(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Uo(e);return t._u.delete(0),np(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ig(e=zm(e,rg)))}function ug(e){return function(e){return e.asyncQueue.enqueue(te($().mark((function t(){var n,r;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Am(e);case 2:return n=t.sent,t.next=5,Nm(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Uo(t))._u.add(0),e.next=4,ip(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ig(e=zm(e,rg)))}function cg(e,t){var n=ig(e=zm(e,rg)),r=new ng;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new mm(e,t)}(function(e,t){if(e instanceof Uint8Array)return pm(e,t);if(e instanceof ArrayBuffer)return pm(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Qd(t));e.asyncQueue.enqueueAndForget(te($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cm,t.next=3,Om(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function lg(e,t){return function(e,t){return e.asyncQueue.enqueue(te($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Uo(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,Cm(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ig(e=zm(e,rg)),t).then((function(t){return t?new Qm(e,null,t.query):null}))}function fg(e){if(e._initialized||e._terminated)throw new Bo(Vo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hg=function(){function e(){ae(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ss(n)}return se(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var dg=function(){function e(t){ae(this,e),this._byteString=t}return se(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ws.fromBase64String(t))}catch(t){throw new Bo(Vo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ws.fromUint8Array(t))}}]),e}(),pg=se((function e(t){ae(this,e),this._methodName=t})),vg=function(){function e(t,n){if(ae(this,e),!isFinite(t)||t<-90||t>90)throw new Bo(Vo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Bo(Vo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return se(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return $o(this._lat,e._lat)||$o(this._long,e._long)}}]),e}(),mg=/^__.*__$/,gg=function(){function e(t,n,r){ae(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return se(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}]),e}(),yg=function(){function e(t,n,r){ae(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return se(e,[{key:"toMutation",value:function(e,t){return new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function kg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mo()}}var bg=function(){function e(t,n,r,i,a,o){ae(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return se(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return Vg(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(kg(this.na)&&mg.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),wg=function(){function e(t,n,r){ae(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||Qd(t)}return se(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bg({na:e,methodName:t,la:n,path:ss.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function xg(e){var t=e._freezeSettings(),n=Qd(e._databaseId);return new wg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _g(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);jg("Data must be an object, but it was:",o,r);var s,u,c=Pg(r,o);if(a.merge)s=new Hs(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ue(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Mg(t,d,n);if(!o.contains(p))throw new Bo(Vo.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Bg(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Hs(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new gg(new Su(c),s,u)}var Ig=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pg);function Sg(e,t,n){return new bg({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var Eg=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"_toFieldTransform",value:function(e){return new Ac(e.path,new bc)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pg),Tg=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e)).da=r,i}return se(n,[{key:"_toFieldTransform",value:function(e){var t=Sg(this,e,!0),n=this.da.map((function(e){return Rg(e,t)})),r=new wc(n);return new Ac(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pg),Ag=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e)).da=r,i}return se(n,[{key:"_toFieldTransform",value:function(e){var t=Sg(this,e,!0),n=this.da.map((function(e){return Rg(e,t)})),r=new _c(n);return new Ac(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pg),Cg=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e))._a=r,i}return se(n,[{key:"_toFieldTransform",value:function(e){var t=new Sc(e.It,vc(e.It,this._a));return new Ac(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pg);function Ng(e,t,n,r){var i=e.fa(1,t,n);jg("Data must be an object, but it was:",i,r);var a=[],o=Su.empty();js(r,(function(e,r){var s=Ug(t,e,n);r=He(r);var u=i.ua(s);if(r instanceof Ig)a.push(s);else{var c=Rg(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Hs(a);return new yg(o,s,i.fieldTransforms)}function Og(e,t,n,r,i,a){var o=e.fa(1,t,n),s=[Mg(t,r,n)],u=[i];if(a.length%2!=0)throw new Bo(Vo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Mg(t,a[c])),u.push(a[c+1]);for(var l=[],f=Su.empty(),h=s.length-1;h>=0;--h)if(!Bg(l,s[h])){var d=s[h],p=u[h];p=He(p);var v=o.ua(d);if(p instanceof Ig)l.push(d);else{var m=Rg(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Hs(l);return new yg(f,g,o.fieldTransforms)}function Dg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rg(n,e.fa(r?4:3,t))}function Rg(e,t){if(Lg(e=He(e)))return jg("Unsupported field value:",t,e),Pg(e,t);if(e instanceof pg)return function(e,t){if(!kg(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ue(e);try{for(a.s();!(n=a.n()).done;){var o=Rg(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=He(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vc(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ns.fromDate(e);return{timestampValue:xl(t.It,n)}}if(e instanceof ns){var r=new ns(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xl(t.It,r)}}if(e instanceof vg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dg)return{bytesValue:_l(t.It,e._byteString)};if(e instanceof Gm){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:El(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(Bm(e)))}(e,t)}function Pg(e,t){var n={};return Ms(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):js(e,(function(e,r){var i=Rg(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Lg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ns||e instanceof vg||e instanceof dg||e instanceof Gm||e instanceof pg)}function jg(e,t,n){if(!Lg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Bm(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function Mg(e,t,n){if((t=He(t))instanceof hg)return t._internalPath;if("string"==typeof t)return Ug(e,t);throw Vg("Field path arguments must be of type string or ",e,!1,void 0,n)}var Fg=new RegExp("[~\\*/\\[\\]]");function Ug(e,t,n){if(t.search(Fg)>=0)throw Vg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return me(hg,Ke(t.split(".")))._internalPath}catch(r){throw Vg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Vg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Bo(Vo.INVALID_ARGUMENT,s+e+u)}function Bg(e,t){return e.some((function(e){return e.isEqual(t)}))}var zg=function(){function e(t,n,r,i,a){ae(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return se(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Gm(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new qg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Hg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),qg=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"data",value:function(){return wn(he(n.prototype),"data",this).call(this)}}]),n}(zg);function Hg(e,t){return"string"==typeof t?Ug(e,t):t instanceof hg?t._internalPath:t._delegate._internalPath}var Wg=function(){function e(t,n){ae(this,e),this.hasPendingWrites=t,this.fromCache=n}return se(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Kg=function(e){fe(n,e);var t=ve(n);function n(e,r,i,a,o,s){var u;return ae(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return se(n,[{key:"exists",value:function(){return wn(he(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Hg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(zg),Gg=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wn(he(n.prototype),"data",this).call(this,e)}}]),n}(Kg),Qg=function(){function e(t,n,r,i){ae(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wg(i.hasPendingWrites,i.fromCache),this.query=r}return se(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Gg(n._firestore,n._userDataWriter,r.key,r,new Wg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bo(Vo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Gg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Gg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Yg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Yg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mo()}}function Xg(e,t){return e instanceof Kg&&t instanceof Kg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qg&&t instanceof Qg&&e._firestore===t._firestore&&$m(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Jg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Bo(Vo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zg=se((function e(){ae(this,e)}));function $g(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var ey=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return se(n,[{key:"_apply",value:function(e){var t=xg(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hy(o,a);var u,c=[],l=ue(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(fy(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=fy(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hy(o,a),s=Dg(n,"where",o,"in"===a||"not-in"===a);var h=ju.create(i,a,s);return function(e,t){if(t.dt()){var n=tc(e);if(null!==n&&!n.isEqual(t.field))throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ec(e);null!==r&&dy(e,t.field,r)}var i=function(e,t){var n,r=ue(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Bo(Vo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Bo(Vo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Qm(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Xu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Zg);function ty(e,t,n){var r=t,i=Hg("where",e);return new ey(i,r,n)}var ny=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return se(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ku(t,n);return function(e,t){if(null===ec(e)){var n=tc(e);null!==n&&dy(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new Qm(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Xu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Zg);var ry=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return se(n,[{key:"_apply",value:function(e){return new Qm(e.firestore,e.converter,ac(e._query,this.pa,this.Ia))}}]),n}(Zg);var iy=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return se(n,[{key:"_apply",value:function(e){var t=ly(e,this.type,this.Ta,this.Ea);return new Qm(e.firestore,e.converter,function(e,t){return new Xu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Zg);function ay(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iy("startAt",t,!0)}function oy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iy("startAfter",t,!1)}var sy=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return se(n,[{key:"_apply",value:function(e){var t=ly(e,this.type,this.Ta,this.Ea);return new Qm(e.firestore,e.converter,function(e,t){return new Xu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Zg);function uy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sy("endBefore",t,!1)}function cy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sy("endAt",t,!0)}function ly(e,t,n,r){if(n[0]=He(n[0]),n[0]instanceof zg)return function(e,t,n,r,i){if(!r)throw new Bo(Vo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=ue(rc(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(du(t,r.key));else{var c=r.data.field(u.field);if(Xs(c))throw new Bo(Vo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Wu(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=xg(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Bo(Vo.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!nc(e)&&-1!==c.indexOf("/"))throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(as.fromString(c));if(!us.isDocumentKey(l))throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new us(l);s.push(du(t,f))}else{var h=Dg(n,r,c);s.push(h)}}return new Wu(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function fy(e,t,n){if("string"==typeof(n=He(n))){if(""===n)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nc(t)&&-1!==n.indexOf("/"))throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(as.fromString(n));if(!us.isDocumentKey(r))throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return du(e,new us(r))}if(n instanceof Gm)return du(e,n._key);throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Bm(n),"."))}function hy(e,t){if(!Array.isArray(e)||0===e.length)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function dy(e,t,n){if(!n.isEqual(t))throw new Bo(Vo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var py={maxAttempts:5},vy=function(){function e(){ae(this,e)}return se(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ou(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mo()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return js(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new vg(Qs(e.latitude),Qs(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Js(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Zs(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Gs(e);return new ns(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=as.fromString(e);Fo(Xl(n));var r=new eu(n.get(1),n.get(3)),i=new us(n.popFirst(5));return r.isEqual(t)||Po("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function my(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gy=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this)).firestore=e,r}return se(n,[{key:"convertBytes",value:function(e){return new dg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gm(this.firestore,null,t)}}]),n}(vy),yy=function(){function e(t,n){ae(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xg(t)}return se(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=ky(e,this._firestore),i=my(r.converter,t,n),a=_g(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Nc.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=ky(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=He(t))||t instanceof hg?Og(this._dataReader,"WriteBatch.update",i._key,t,n,o):Ng(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Nc.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=ky(e,this._firestore);return this._mutations=this._mutations.concat(new Wc(t._key,Nc.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Bo(Vo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function ky(e,t){if((e=He(e)).firestore!==t)throw new Bo(Vo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function by(e){e=zm(e,Gm);var t=zm(e.firestore,rg);return Pm(ig(t),e._key).then((function(n){return Ny(t,e,n)}))}var wy=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this)).firestore=e,r}return se(n,[{key:"convertBytes",value:function(e){return new dg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gm(this.firestore,null,t)}}]),n}(vy);function xy(e){e=zm(e,Gm);var t=zm(e.firestore,rg),n=ig(t),r=new wy(t);return function(e,t){var n=new zo;return e.asyncQueue.enqueueAndForget(te($().mark((function r(){return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Uo(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Bo(Vo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Hp(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Cm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Kg(t,r,e._key,n,new Wg(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function _y(e){e=zm(e,Qm);var t=zm(e.firestore,rg),n=ig(t),r=new wy(t);return Jg(e._query),Lm(n,e._query).then((function(n){return new Qg(t,r,e,n)}))}function Iy(e){e=zm(e,Qm);var t=zm(e.firestore,rg),n=ig(t),r=new wy(t);return function(e,t){var n=new zo;return e.asyncQueue.enqueueAndForget(te($().mark((function r(){return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=te($().mark((function e(t,n,r){var i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_d(t,n,!0);case 3:i=e.sent,a=new lv(n,i.Hi),o=a.ju(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Hp(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Cm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Qg(t,r,e,n)}))}function Sy(e,t,n){e=zm(e,Gm);var r=zm(e.firestore,rg),i=my(e.converter,t,n);return Cy(r,[_g(xg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Nc.none())])}function Ey(e,t,n){e=zm(e,Gm);for(var r=zm(e.firestore,rg),i=xg(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Cy(r,[("string"==typeof(t=He(t))||t instanceof hg?Og(i,"updateDoc",e._key,t,n,o):Ng(i,"updateDoc",e._key,t)).toMutation(e._key,Nc.exists(!0))])}function Ty(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=He(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||tg(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(tg(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Gm)l=zm(e.firestore,rg),f=Zu(e._key.path),c={next:function(t){n[u]&&n[u](Ny(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=zm(e,Qm);l=zm(p.firestore,rg),f=p._query;var v=new wy(l);c={next:function(e){n[u]&&n[u](new Qg(l,v,p,e))},error:n[u+1],complete:n[u+2]},Jg(e._query)}return function(e,t,n,r){var i=new vm(r),a=new rv(t,i,n);return e.asyncQueue.enqueueAndForget(te($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xp,t.next=3,Dm(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(te($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zp,t.next=3,Dm(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ig(l),f,h,c)}function Ay(e,t){return function(e,t){var n=new vm(t);return e.asyncQueue.enqueueAndForget(te($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Uo(e).Ru.add(t),t.next()},t.next=3,Dm(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(te($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Uo(e).Ru.delete(t)},t.next=3,Dm(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ig(e=zm(e,rg)),tg(t)?t:{next:t})}function Cy(e,t){return function(e,t){var n=new zo;return e.asyncQueue.enqueueAndForget(te($().mark((function r(){return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=bv,r.next=3,Om(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ig(e),t)}function Ny(e,t,n){var r=n.docs.get(t._key),i=new wy(e);return new Kg(e,i,t._key,r,new Wg(n.hasPendingWrites,n.fromCache),t.converter)}var Oy=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e,r))._firestore=e,i}return se(n,[{key:"get",value:function(e){var t=this,r=ky(e,this._firestore),i=new wy(this._firestore);return wn(he(n.prototype),"get",this).call(this,e).then((function(e){return new Kg(t._firestore,i,r._key,e._document,new Wg(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ae(this,e),this._firestore=t,this._transaction=n,this._dataReader=xg(t)}return se(e,[{key:"get",value:function(e){var t=this,n=ky(e,this._firestore),r=new gy(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Mo();var i=e[0];if(i.isFoundDocument())return new zg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zg(t._firestore,r,n._key,null,n.converter);throw Mo()}))}},{key:"set",value:function(e,t,n){var r=ky(e,this._firestore),i=my(r.converter,t,n),a=_g(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=ky(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=He(t))||t instanceof hg?Og(this._dataReader,"Transaction.update",i._key,t,n,o):Ng(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=ky(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Dy(e,t,n){e=zm(e,rg);var r=Object.assign(Object.assign({},py),n);return function(e){if(e.maxAttempts<1)throw new Bo(Vo.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new zo;return e.asyncQueue.enqueueAndForget(te($().mark((function i(){var a;return $().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return Em(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new ym(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(ig(e),(function(n){return t(new Oy(e,n))}),r)}function Ry(){return new Ig("deleteField")}function Py(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Tg("arrayUnion",t)}function Ly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ag("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){No=e}(zt),Lt(new Ge("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new rg(new Ko(e.getProvider("auth-internal")),new Xo(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bo(Vo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Qt(Ao,"3.5.0",e),Qt(Ao,"3.5.0","esm2017")}();function jy(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Bo("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function My(){if("undefined"===typeof Uint8Array)throw new Bo("unimplemented","Uint8Arrays are not available in this environment.")}function Fy(){if("undefined"==typeof atob)throw new Bo("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Uy=function(){function e(t){ae(this,e),this._delegate=t}return se(e,[{key:"toBase64",value:function(){return Fy(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return My(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Fy(),new e(dg.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return My(),new e(dg.fromUint8Array(t))}}]),e}();function Vy(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ue(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var By=function(){function e(){ae(this,e)}return se(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){fg(e=zm(e,rg));var n=ig(e),r=e._freezeSettings(),i=new dm;return og(n,i,new fm(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){fg(e=zm(e,rg));var t=ig(e),n=e._freezeSettings(),r=new dm;return og(t,r,new hm(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Bo(Vo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new zo;return e._queue.enqueueAndForgetEvenWhileRestricted(te($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Is.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Is.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ud(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),zy=function(){function e(t,n,r){var i=this;ae(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof eu||(this._appCompat=t)}return se(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Lo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Km(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return sg(this._delegate)}},{key:"disableNetwork",value:function(){return ug(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Fm("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new zo;return e.asyncQueue.enqueueAndForget(te($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ov,n.next=3,Om(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ig(e=zm(e,rg)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Ay(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Bo("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new nk(this,Xm(this._delegate,e))}catch(t){throw Qy(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Gy(this,Jm(this._delegate,e))}catch(t){throw Qy(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new $y(this,function(e,t){if(e=zm(e,Wm),Mm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Bo(Vo.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Qm(e,null,function(e){return new Xu(as.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Qy(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Dy(this._delegate,(function(n){return e(new Hy(t,n))}))}},{key:"batch",value:function(){var e=this;return ig(this._delegate),new Wy(new yy(this._delegate,(function(t){return Cy(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return cg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return lg(this._delegate,e).then((function(e){return e?new $y(t,e):null}))}}]),e}(),qy=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this)).firestore=e,r}return se(n,[{key:"convertBytes",value:function(e){return new Uy(new dg(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Gy.forKey(t,this.firestore,null)}}]),n}(vy);var Hy=function(){function e(t,n){ae(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new qy(t)}return se(e,[{key:"get",value:function(e){var t=this,n=rk(e);return this._delegate.get(n).then((function(e){return new Jy(t._firestore,new Kg(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=rk(e);return n?(jy("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=rk(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=rk(e);return this._delegate.delete(t),this}}]),e}(),Wy=function(){function e(t){ae(this,e),this._delegate=t}return se(e,[{key:"set",value:function(e,t,n){var r=rk(e);return n?(jy("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=rk(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=rk(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Ky=function(){function e(t,n,r){ae(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return se(e,[{key:"fromFirestore",value:function(e,t){var n=new Gg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zy(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new qy(t),n),i.set(n,a)),a}}]),e}();Ky.INSTANCES=new WeakMap;var Gy=function(){function e(t,n){ae(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qy(t)}return se(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new nk(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new nk(this.firestore,Xm(this._delegate,e))}catch(t){throw Qy(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=He(e))instanceof Gm&&Zm(this._delegate,e)}},{key:"set",value:function(e,t){t=jy("DocumentReference.set",t);try{return t?Sy(this._delegate,e,t):Sy(this._delegate,e)}catch(n){throw Qy(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Ey(this._delegate,e):Ey.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Qy(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Cy(zm(e.firestore,rg),[new Wc(e._key,Nc.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Yy(n),a=Xy(n,(function(t){return new Jy(e.firestore,new Kg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Ty(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?xy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zm(e,Gm);var t=zm(e.firestore,rg);return Pm(ig(t),e._key,{source:"server"}).then((function(n){return Ny(t,e,n)}))}(this._delegate):by(this._delegate),t.then((function(e){return new Jy(n.firestore,new Kg(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Ky.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Bo("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Gm(n._delegate,r,new us(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Gm(n._delegate,r,t))}}]),e}();function Qy(e,t,n){return e.message=e.message.replace(t,n),e}function Yy(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Vy(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Xy(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Vy(e[0])?e[0]:Vy(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Jy=function(){function e(t,n){ae(this,e),this._firestore=t,this._delegate=n}return se(e,[{key:"ref",get:function(){return new Gy(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Xg(this._delegate,e._delegate)}}]),e}(),Zy=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Mo()}(void 0!==t),t}}]),n}(Jy),$y=function(){function e(t,n){ae(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qy(t)}return se(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,$g(this._delegate,ty(t,n,r)))}catch(i){throw Qy(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,$g(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Hg("orderBy",e);return new ny(n,t)}(t,n)))}catch(r){throw Qy(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,$g(this._delegate,function(e){return qm("limit",e),new ry("limit",e,"F")}(t)))}catch(n){throw Qy(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,$g(this._delegate,function(e){return qm("limitToLast",e),new ry("limitToLast",e,"L")}(t)))}catch(n){throw Qy(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,$g(this._delegate,ay.apply(void 0,arguments)))}catch(t){throw Qy(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,$g(this._delegate,oy.apply(void 0,arguments)))}catch(t){throw Qy(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,$g(this._delegate,uy.apply(void 0,arguments)))}catch(t){throw Qy(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,$g(this._delegate,cy.apply(void 0,arguments)))}catch(t){throw Qy(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return $m(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Iy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zm(e,Qm);var t=zm(e.firestore,rg),n=ig(t),r=new wy(t);return Lm(n,e._query,{source:"server"}).then((function(n){return new Qg(t,r,e,n)}))}(this._delegate):_y(this._delegate),t.then((function(e){return new tk(n.firestore,new Qg(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Yy(n),a=Xy(n,(function(t){return new tk(e.firestore,new Qg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Ty(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Ky.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ek=function(){function e(t,n){ae(this,e),this._firestore=t,this._delegate=n}return se(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Zy(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),tk=function(){function e(t,n){ae(this,e),this._firestore=t,this._delegate=n}return se(e,[{key:"query",get:function(){return new $y(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Zy(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ek(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Zy(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Xg(this._delegate,e._delegate)}}]),e}(),nk=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return se(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Gy(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Gy(this.firestore,void 0===e?Jm(this._delegate):Jm(this._delegate,e))}catch(t){throw Qy(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=zm(e.firestore,rg),r=Jm(e),i=my(e.converter,t);return Cy(n,[_g(xg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Nc.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Gy(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Zm(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Ky.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}($y);function rk(e){return zm(e,Gm)}var ik,ak=function(){function e(){ae(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=me(hg,n)}return se(e,[{key:"isEqual",value:function(e){return(e=He(e))instanceof hg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ss.keyField().canonicalString())}}]),e}(),ok=function(){function e(t){ae(this,e),this._delegate=t}return se(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Eg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Ry();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Py.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Ly.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Cg("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),sk={Firestore:zy,GeoPoint:vg,Timestamp:ns,Blob:Uy,Transaction:Hy,WriteBatch:Wy,DocumentReference:Gy,DocumentSnapshot:Jy,Query:$y,QueryDocumentSnapshot:Zy,QuerySnapshot:tk,CollectionReference:nk,FieldPath:ak,FieldValue:ok,setLogLevel:function(e){!function(e){Oo.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ge("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},sk)))})(ik=kn,(function(e,t){return new zy(e,t,new By)})),ik.registerVersion("@firebase/firestore-compat","0.1.25");function uk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ck;Object.create;var lk="facebook.com",fk="github.com",hk="google.com",dk="password",pk="twitter.com",vk="EMAIL_SIGNIN",mk="PASSWORD_RESET",gk="RECOVER_EMAIL",yk="REVERT_SECOND_FACTOR_ADDITION",kk="VERIFY_AND_CHANGE_EMAIL",bk="VERIFY_EMAIL";function wk(){return ie({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var xk=function(){var e;return ie(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ie(e,"argument-error",""),ie(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ie(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ie(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ie(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ie(e,"cordova-not-ready","Cordova framework is not ready."),ie(e,"cors-unsupported","This browser is not supported."),ie(e,"credential-already-in-use","This credential is already associated with a different user account."),ie(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ie(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ie(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ie(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ie(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ie(e,"email-already-in-use","The email address is already in use by another account."),ie(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ie(e,"expired-action-code","The action code has expired."),ie(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ie(e,"internal-error","An internal AuthError has occurred."),ie(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ie(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ie(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ie(e,"invalid-auth-event","An internal AuthError has occurred."),ie(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ie(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ie(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ie(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ie(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ie(e,"invalid-email","The email address is badly formatted."),ie(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ie(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ie(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ie(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ie(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ie(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ie(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ie(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ie(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ie(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ie(e,"wrong-password","The password is invalid or the user does not have a password."),ie(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ie(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ie(e,"invalid-provider-id","The specified provider ID is invalid."),ie(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ie(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ie(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ie(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ie(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ie(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ie(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ie(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ie(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ie(e,"missing-continue-uri","A continue URL must be provided in the request."),ie(e,"missing-iframe-start","An internal AuthError has occurred."),ie(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ie(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ie(e,"missing-multi-factor-info","No second factor identifier is provided."),ie(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ie(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ie(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ie(e,"app-deleted","This instance of FirebaseApp has been deleted."),ie(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ie(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ie(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ie(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ie(e,"no-auth-event","An internal AuthError has occurred."),ie(e,"no-such-provider","User was not linked to an account with the given provider."),ie(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ie(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ie(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ie(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ie(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ie(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ie(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ie(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ie(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ie(e,"rejected-credential","The request contains malformed or mismatching credentials."),ie(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ie(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ie(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ie(e,"timeout","The operation has timed out."),ie(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ie(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ie(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ie(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ie(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ie(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ie(e,"unverified-email","The operation requires a verified email."),ie(e,"user-cancelled","The user did not grant your application the permissions it requested."),ie(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ie(e,"user-disabled","The user account has been disabled by an administrator."),ie(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ie(e,"user-signed-out",""),ie(e,"weak-password","The password must be 6 characters long or more."),ie(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ie(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},_k=wk,Ik=new De("auth","Firebase",wk()),Sk=new it("@firebase/auth");function Ek(e){if(Sk.logLevel<=Je.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Sk.error.apply(Sk,["Auth (".concat(zt,"): ").concat(e)].concat(n))}}function Tk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ok.apply(void 0,[e].concat(n))}function Ak(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ok.apply(void 0,[e].concat(n))}function Ck(e,t,n){var r=Object.assign(Object.assign({},_k()),ie({},t,n));return new De("auth","Firebase",r).create(t,{appName:e.name})}function Nk(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Tk(e,"argument-error"),Ck(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ok(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Ke(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Ke(o)))}return Ik.create.apply(Ik,[e].concat(n))}function Dk(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ok.apply(void 0,[t].concat(r))}}function Rk(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ek(t),new Error(t)}function Pk(e,t){e||Rk(t)}var Lk=new Map;function jk(e){Pk(e instanceof Function,"Expected a class definition");var t=Lk.get(e);return t?(Pk(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Lk.set(e,t),t)}function Mk(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fk(){return"http:"===Uk()||"https:"===Uk()}function Uk(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Vk=function(){function e(t,n){ae(this,e),this.shortDelay=t,this.longDelay=n,Pk(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())||Ae()}return se(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fk()||Te()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Bk(e,t){Pk(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var zk=function(){function e(){ae(this,e)}return se(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Rk("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Rk("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Rk("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),qk=(ie(ck={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ie(ck,"MISSING_CUSTOM_TOKEN","internal-error"),ie(ck,"INVALID_IDENTIFIER","invalid-email"),ie(ck,"MISSING_CONTINUE_URI","internal-error"),ie(ck,"INVALID_PASSWORD","wrong-password"),ie(ck,"MISSING_PASSWORD","internal-error"),ie(ck,"EMAIL_EXISTS","email-already-in-use"),ie(ck,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ie(ck,"INVALID_IDP_RESPONSE","invalid-credential"),ie(ck,"INVALID_PENDING_TOKEN","invalid-credential"),ie(ck,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ie(ck,"MISSING_REQ_TYPE","internal-error"),ie(ck,"EMAIL_NOT_FOUND","user-not-found"),ie(ck,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ie(ck,"EXPIRED_OOB_CODE","expired-action-code"),ie(ck,"INVALID_OOB_CODE","invalid-action-code"),ie(ck,"MISSING_OOB_CODE","internal-error"),ie(ck,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ie(ck,"INVALID_ID_TOKEN","invalid-user-token"),ie(ck,"TOKEN_EXPIRED","user-token-expired"),ie(ck,"USER_NOT_FOUND","user-token-expired"),ie(ck,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ie(ck,"INVALID_CODE","invalid-verification-code"),ie(ck,"INVALID_SESSION_INFO","invalid-verification-id"),ie(ck,"INVALID_TEMPORARY_PROOF","invalid-credential"),ie(ck,"MISSING_SESSION_INFO","missing-verification-id"),ie(ck,"SESSION_EXPIRED","code-expired"),ie(ck,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ie(ck,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ie(ck,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ie(ck,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ie(ck,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ie(ck,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ie(ck,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ie(ck,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ie(ck,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ie(ck,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ie(ck,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ck),Hk=new Vk(3e4,6e4);function Wk(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Kk(e,t,n,r){return Gk.apply(this,arguments)}function Gk(){return Gk=te($().mark((function e(t,n,r,i){var a,o=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Qk(t,a,te($().mark((function e(){var a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Fe(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",zk.fetch()(Zk(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Qk(e,t,n){return Yk.apply(this,arguments)}function Yk(){return Yk=te($().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},qk),n),e.prev=2,a=new $k(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw eb(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw eb(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw eb(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw eb(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Ck(t,p,d);case 34:Tk(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Oe)){e.next=41;break}throw e.t0;case 41:Tk(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Yk.apply(this,arguments)}function Xk(e,t,n,r){return Jk.apply(this,arguments)}function Jk(){return Jk=te($().mark((function e(t,n,r,i){var a,o,s=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Kk(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Tk(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function Zk(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Bk(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var $k=function(){function e(t){var n=this;ae(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ak(n.auth,"network-request-failed"))}),Hk.get())}))}return se(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function eb(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ak(e,t,r);return i.customData._tokenResponse=n,i}function tb(e,t){return nb.apply(this,arguments)}function nb(){return nb=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kk(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}function rb(e,t){return ib.apply(this,arguments)}function ib(){return ib=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kk(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ib.apply(this,arguments)}function ab(e,t){return ob.apply(this,arguments)}function ob(){return ob=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kk(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ob.apply(this,arguments)}function sb(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ub(){return ub=te($().mark((function e(t){var n,r,i,a,o,s,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=He(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Dk((a=lb(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:sb(cb(a.auth_time)),issuedAtTime:sb(cb(a.iat)),expirationTime:sb(cb(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ub.apply(this,arguments)}function cb(e){return 1e3*Number(e)}function lb(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Ek("JWT malformed, contained fewer than 3 sections"),null;try{var o=we(i);return o?JSON.parse(o):(Ek("Failed to decode base64 JWT payload"),null)}catch(s){return Ek("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function fb(e,t){return hb.apply(this,arguments)}function hb(){return hb=te($().mark((function e(t,n){var r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Oe&&db(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),hb.apply(this,arguments)}function db(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var pb=function(){function e(t){ae(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return se(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(te($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),vb=function(){function e(t,n){ae(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return se(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=sb(this.lastLoginAt),this.creationTime=sb(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function mb(e){return gb.apply(this,arguments)}function gb(){return gb=te($().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,fb(t,ab(r,{idToken:i}));case 6:Dk(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?bb(o.providerUserInfo):[],u=kb(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vb(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),gb.apply(this,arguments)}function yb(){return(yb=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=He(t),e.next=3,mb(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kb(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Ke(n),Ke(t))}function bb(e){return e.map((function(e){var t=e.providerId,n=uk(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function wb(e,t){return xb.apply(this,arguments)}function xb(){return xb=te($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qk(t,{},te($().mark((function e(){var r,i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fe({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Zk(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",zk.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}var _b=function(){function e(){ae(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return se(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Dk(e.idToken,"internal-error"),Dk("undefined"!==typeof e.idToken,"internal-error"),Dk("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=lb(e);return Dk(t,"internal-error"),Dk("undefined"!==typeof t.exp,"internal-error"),Dk("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=te($().mark((function e(t){var n,r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Dk(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=te($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wb(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Rk("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Dk("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Dk("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Dk("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ib(e,t){Dk("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Sb=function(){function e(t){ae(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=uk(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Ke(a.providerData):[],this.metadata=new vb(a.createdAt||void 0,a.lastLoginAt||void 0)}return se(e,[{key:"getIdToken",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fb(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Dk(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ub.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return yb.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Dk(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Dk(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=te($().mark((function e(t){var n,r,i=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,mb(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,fb(this,tb(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Dk(k&&_,t,"internal-error");var I=_b.fromJSON(this.name,_);Dk("string"===typeof k,t,"internal-error"),Ib(f,t.name),Ib(h,t.name),Dk("boolean"===typeof b,t,"internal-error"),Dk("boolean"===typeof w,t,"internal-error"),Ib(d,t.name),Ib(p,t.name),Ib(v,t.name),Ib(m,t.name),Ib(g,t.name),Ib(y,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=te($().mark((function t(n,r){var i,a,o,s=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new _b).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,mb(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Eb=function(){function e(){ae(this,e),this.type="NONE",this.storage={}}return se(e,[{key:"_isAvailable",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Eb.type="NONE";var Tb=Eb;function Ab(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Cb=function(){function e(t,n,r){ae(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ab(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ab("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return se(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Sb._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=te($().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(jk(Tb),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||jk(Tb),s=Ab(i,n.config.apiKey,n.name),u=null,c=ue(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Sb._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Nb(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ob(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jb(t))return"Blackberry";if(Mb(t))return"Webos";if(Db(t))return"Safari";if((t.includes("chrome/")||Rb(t))&&!t.includes("edge/"))return"Chrome";if(Lb(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ob(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/firefox\//i.test(e)}function Db(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Rb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/crios\//i.test(e)}function Pb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/iemobile/i.test(e)}function Lb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/android/i.test(e)}function jb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/blackberry/i.test(e)}function Mb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/webos/i.test(e)}function Fb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ub(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return Fb(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Vb(){return Ce()&&10===document.documentMode}function Bb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return Fb(e)||Lb(e)||Mb(e)||jb(e)||/windows phone/i.test(e)||Pb(e)}function zb(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Nb(Se());break;case"Worker":t="".concat(Nb(Se()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(zt,"/").concat(r)}var qb=function(){function e(t){ae(this,e),this.auth=t,this.queue=[]}return se(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=te($().mark((function e(t){var n,r,i,a,o,s,u,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=ue(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=ue(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(l){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Hb=function(){function e(t,n,r){ae(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kb(this),this.idTokenSubscription=new Kb(this),this.beforeStateQueue=new qb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ik,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return se(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=jk(t)),this._initializationPromise=this.queue(te($().mark((function r(){var i,a;return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Cb.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=te($().mark((function e(t){var n,r,i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Dk(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mb(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?He(t):null)&&Dk(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=te($().mark((function e(t){var n,r=this,i=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Dk(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(te($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(jk(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new De("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=te($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Dk(n=t&&jk(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Cb.create(this,[jk(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=te($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Dk(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Dk(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zb(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=te($().mark((function e(){var t,n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ie({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wb(e){return He(e)}var Kb=function(){function e(t){var n=this;ae(this,e),this.auth=t,this.observer=null,this.addObserver=Be((function(e){return n.observer=e}))}return se(e,[{key:"next",get:function(){return Dk(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Gb(e,t,n){var r=Wb(e);Dk(r._canInitEmulator,r,"emulator-config-failed"),Dk(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Qb(t),o=function(e){var t=Qb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Yb(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Yb(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qb(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yb(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Xb=function(){function e(t,n){ae(this,e),this.providerId=t,this.signInMethod=n}return se(e,[{key:"toJSON",value:function(){return Rk("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Rk("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Rk("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Rk("not implemented")}}]),e}();function Jb(e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kk(t,"POST","/v1/accounts:resetPassword",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function $b(e,t){return ew.apply(this,arguments)}function ew(){return ew=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kk(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}function tw(e,t){return nw.apply(this,arguments)}function nw(){return nw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kk(t,"POST","/v1/accounts:update",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),nw.apply(this,arguments)}function rw(e,t){return iw.apply(this,arguments)}function iw(){return iw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xk(t,"POST","/v1/accounts:signInWithPassword",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),iw.apply(this,arguments)}function aw(e,t){return ow.apply(this,arguments)}function ow(){return ow=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kk(t,"POST","/v1/accounts:sendOobCode",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),ow.apply(this,arguments)}function sw(e,t){return uw.apply(this,arguments)}function uw(){return uw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aw(t,n));case 1:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function cw(e,t){return lw.apply(this,arguments)}function lw(){return lw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aw(t,n));case 1:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}function fw(e,t){return hw.apply(this,arguments)}function hw(){return hw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aw(t,n));case 1:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(e,t){return pw.apply(this,arguments)}function pw(){return pw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aw(t,n));case 1:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t){return mw.apply(this,arguments)}function mw(){return mw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xk(t,"POST","/v1/accounts:signInWithEmailLink",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}function gw(e,t){return yw.apply(this,arguments)}function yw(){return yw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xk(t,"POST","/v1/accounts:signInWithEmailLink",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),yw.apply(this,arguments)}var kw=function(e){fe(n,e);var t=ve(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ae(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return se(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",rw(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vw(t,{email:this._email,oobCode:this._password}));case 5:Tk(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",$b(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",gw(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Tk(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Xb);function bw(e,t){return ww.apply(this,arguments)}function ww(){return ww=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xk(t,"POST","/v1/accounts:signInWithIdp",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),ww.apply(this,arguments)}var xw=function(e){fe(n,e);var t=ve(n);function n(){var e;return ae(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return se(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return bw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bw(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fe(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tk("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=uk(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Xb);function _w(e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kk(t,"POST","/v1/accounts:sendVerificationCode",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Sw(){return Sw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xk(t,"POST","/v1/accounts:signInWithPhoneNumber",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sw.apply(this,arguments)}function Ew(){return Ew=te($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xk(t,"POST","/v1/accounts:signInWithPhoneNumber",Wk(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw eb(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}var Tw=ie({},"USER_NOT_FOUND","user-not-found");function Aw(){return Aw=te($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Xk(t,"POST","/v1/accounts:signInWithPhoneNumber",Wk(t,r),Tw));case 2:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}var Cw=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this,"phone","phone")).params=e,r}return se(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Sw.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ew.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Aw.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Xb);var Nw=function(){function e(t){var n,r,i,a,o,s;ae(this,e);var u=Ue(Ve(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Dk(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return se(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ue(Ve(e)).link,n=t?Ue(Ve(t)).deep_link_id:null,r=Ue(Ve(e)).deep_link_id;return(r?Ue(Ve(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Vm){return null}}}]),e}();var Ow=function(){function e(){ae(this,e),this.providerId=e.PROVIDER_ID}return se(e,null,[{key:"credential",value:function(e,t){return kw._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Nw.parseLink(t);return Dk(n,"argument-error"),kw._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ow.PROVIDER_ID="password",Ow.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ow.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Dw=function(){function e(t){ae(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return se(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Rw=function(e){fe(n,e);var t=ve(n);function n(){var e;return ae(this,n),(e=t.apply(this,arguments)).scopes=[],e}return se(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Ke(this.scopes)}}]),n}(Dw),Pw=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Dk(e.idToken||e.accessToken,"argument-error"),xw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Dk("providerId"in t&&"signInMethod"in t,"argument-error"),xw._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Rw),Lw=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.call(this,"facebook.com")}return se(n,null,[{key:"credential",value:function(e){return xw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Vm){return null}}}]),n}(Rw);Lw.FACEBOOK_SIGN_IN_METHOD="facebook.com",Lw.PROVIDER_ID="facebook.com";var jw=function(e){fe(n,e);var t=ve(n);function n(){var e;return ae(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return se(n,null,[{key:"credential",value:function(e,t){return xw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Vm){return null}}}]),n}(Rw);jw.GOOGLE_SIGN_IN_METHOD="google.com",jw.PROVIDER_ID="google.com";var Mw=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.call(this,"github.com")}return se(n,null,[{key:"credential",value:function(e){return xw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Vm){return null}}}]),n}(Rw);Mw.GITHUB_SIGN_IN_METHOD="github.com",Mw.PROVIDER_ID="github.com";var Fw=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return se(n,[{key:"_getIdTokenResponse",value:function(e){return bw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bw(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Xb),Uw=function(e){fe(n,e);var t=ve(n);function n(e){return ae(this,n),Dk(e.startsWith("saml."),"argument-error"),t.call(this,e)}return se(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Fw.fromJSON(e);return Dk(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Fw._create(r,n)}catch(i){return null}}}]),n}(Dw),Vw=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.call(this,"twitter.com")}return se(n,null,[{key:"credential",value:function(e,t){return xw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Vm){return null}}}]),n}(Rw);function Bw(e,t){return zw.apply(this,arguments)}function zw(){return zw=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xk(t,"POST","/v1/accounts:signUp",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}Vw.TWITTER_SIGN_IN_METHOD="twitter.com",Vw.PROVIDER_ID="twitter.com";var qw=function(){function e(t){ae(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return se(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=te($().mark((function t(n,r,i){var a,o,s,u,c=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Sb._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Hw(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=te($().mark((function t(n,r,i){var a;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Hw(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Hw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ww(){return Ww=te($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wb(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new qw({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Bw(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,qw._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}var Kw=function(e){fe(n,e);var t=ve(n);function n(e,r,i,a){var o,s;return ae(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ce(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return se(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Oe);function Gw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Kw._fromErrorAndOperation(e,n,t,r);throw n}))}function Qw(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Yw(e,t){return Xw.apply(this,arguments)}function Xw(){return Xw=te($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=He(t),e.next=3,$w(!0,r,n);case 3:return e.t0=rb,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Qw(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Jw(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=te($().mark((function e(t,n){var r,i,a=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=fb,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",qw._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function $w(e,t,n){return ex.apply(this,arguments)}function ex(){return(ex=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mb(n);case 2:i=Qw(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Dk(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tx(e,t){return nx.apply(this,arguments)}function nx(){return nx=te($().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,fb(t,Gw(a,o,n,t),r);case 6:return Dk((s=e.sent).idToken,a,"internal-error"),Dk(u=lb(s.idToken),a,"internal-error"),c=u.sub,Dk(t.uid===c,a,"user-mismatch"),e.abrupt("return",qw._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Tk(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),nx.apply(this,arguments)}function rx(e,t){return ix.apply(this,arguments)}function ix(){return ix=te($().mark((function e(t,n){var r,i,a,o,s=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Gw(t,i,n);case 4:return a=e.sent,e.next=7,qw._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e,t){return ox.apply(this,arguments)}function ox(){return ox=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rx(Wb(t),n));case 1:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function sx(e,t){return ux.apply(this,arguments)}function ux(){return(ux=te($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=He(t),e.next=3,$w(!1,r,n.providerId);case 3:return e.abrupt("return",Jw(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cx(e,t){return lx.apply(this,arguments)}function lx(){return(lx=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tx(He(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fx(e,t){return hx.apply(this,arguments)}function hx(){return hx=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xk(t,"POST","/v1/accounts:signInWithCustomToken",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),hx.apply(this,arguments)}function dx(){return dx=te($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wb(t),e.next=3,fx(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,qw._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}var px=function(){function e(t,n){ae(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return se(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?vx._fromServerResponse(e,t):Tk(e,"internal-error")}}]),e}(),vx=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return se(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(px);function mx(e,t,n){var r;Dk((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Dk("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Dk(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Dk(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function gx(){return gx=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),a={requestType:"PASSWORD_RESET",email:n},r&&mx(i,a,r),e.next=5,cw(i,a);case 5:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function yx(){return yx=te($().mark((function e(t,n,r){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jb(He(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),yx.apply(this,arguments)}function kx(){return kx=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tw(He(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(e,t){return wx.apply(this,arguments)}function wx(){return wx=te($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=He(t),e.next=3,Jb(r,{oobCode:n});case 3:i=e.sent,Dk(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Dk(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Dk(i.mfaInfo,r,"internal-error");case 13:Dk(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=px._fromServerResponse(Wb(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function xx(){return xx=te($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bx(He(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),xx.apply(this,arguments)}function _x(e,t,n){return Ix.apply(this,arguments)}function Ix(){return Ix=te($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wb(t),e.next=3,Bw(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,qw._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ix.apply(this,arguments)}function Sx(){return Sx=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),a={requestType:"EMAIL_SIGNIN",email:n},Dk(r.handleCodeInApp,i,"argument-error"),r&&mx(i,a,r),e.next=6,fw(i,a);case 6:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Ex(){return Ex=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),Dk((a=Ow.credentialWithLink(n,r||Mk()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ax(i,a));case 4:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function Tx(e,t){return Ax.apply(this,arguments)}function Ax(){return Ax=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kk(t,"POST","/v1/accounts:createAuthUri",Wk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function Cx(){return Cx=te($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fk()?Mk():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Tx(He(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Nx(){return(Nx=te($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=He(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&mx(r.auth,a,n),e.next=8,sw(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ox(){return(Ox=te($().mark((function e(t,n,r){var i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&mx(i.auth,o,r),e.next=8,dw(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dx(e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kk(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function Px(){return(Px=te($().mark((function e(t,n){var r,i,a,o,s,u,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=He(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,fb(a,Dx(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lx(e,t,n){return jx.apply(this,arguments)}function jx(){return jx=te($().mark((function e(t,n,r){var i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,fb(t,$b(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}var Mx=se((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ae(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Fx=function(e){fe(n,e);var t=ve(n);function n(e,r,i,a){var o;return ae(this,n),(o=t.call(this,e,r,i)).username=a,o}return se(n)}(Mx),Ux=function(e){fe(n,e);var t=ve(n);function n(e,r){return ae(this,n),t.call(this,e,"facebook.com",r)}return se(n)}(Mx),Vx=function(e){fe(n,e);var t=ve(n);function n(e,r){return ae(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return se(n)}(Fx),Bx=function(e){fe(n,e);var t=ve(n);function n(e,r){return ae(this,n),t.call(this,e,"google.com",r)}return se(n)}(Mx),zx=function(e){fe(n,e);var t=ve(n);function n(e,r,i){return ae(this,n),t.call(this,e,"twitter.com",r,i)}return se(n)}(Fx);function qx(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=lb(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Mx(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ux(a,i);case"github.com":return new Vx(a,i);case"google.com":return new Bx(a,i);case"twitter.com":return new zx(a,i,e.screenName||null);case"custom":case"anonymous":return new Mx(a,null);default:return new Mx(a,r,i)}}(n)}var Hx=function(){function e(t,n,r){ae(this,e),this.type=t,this.credential=n,this.auth=r}return se(e,[{key:"toJSON",value:function(){return{multiFactorSession:ie({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Wx=function(){function e(t,n,r){ae(this,e),this.session=t,this.hints=n,this.signInResolver=r}return se(e,[{key:"resolveSignIn",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Wb(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return px._fromServerResponse(r,e)}));Dk(i.mfaPendingCredential,r,"internal-error");var o=Hx._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=te($().mark((function e(t){var a,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,qw._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Dk(n.user,r,"internal-error"),e.abrupt("return",qw._forOperation(n.user,n.operationType,s));case 17:Tk(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Kx(e,t){return Kk(e,"POST","/v2/accounts/mfaEnrollment:start",Wk(e,t))}function Gx(e,t){return Kk(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Wk(e,t))}var Qx=function(){function e(t){var n=this;ae(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return px._fromServerResponse(t.auth,e)})))}))}return se(e,[{key:"getSession",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Hx,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=te($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,fb(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=te($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,fb(this.user,Gx(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Yx=new WeakMap;var Xx="__sak",Jx=function(){function e(t,n){ae(this,e),this.storageRetriever=t,this.type=n}return se(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Xx,"1"),this.storage.removeItem(Xx),Promise.resolve(!0)):Promise.resolve(!1)}catch(Vm){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Zx=function(e){fe(n,e);var t=ve(n);function n(){var e;return ae(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Se();return Db(e)||Fb(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Bb(),e._shouldAllowMigration=!0,e}return se(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Vb()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=te($().mark((function e(t,r){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(he(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=te($().mark((function e(t){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(he(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(he(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Jx);Zx.type="LOCAL";var $x=Zx,e_=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return se(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Jx);e_.type="SESSION";var t_=e_;function n_(e){return Promise.all(e.map(function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var r_=function(){function e(t){ae(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return se(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=te($().mark((function e(t){var n,r,i,a,o,s,u,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,n_(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function i_(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}r_.receivers=[];var a_=function(){function e(t){ae(this,e),this.target=t,this.handlers=new Set}return se(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=te($().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=i_("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function o_(){return window}function s_(){return"undefined"!==typeof o_().WorkerGlobalScope&&"function"===typeof o_().importScripts}function u_(){return c_.apply(this,arguments)}function c_(){return(c_=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function l_(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var f_="firebaseLocalStorageDb",h_="firebaseLocalStorage",d_="fbase_key",p_=function(){function e(t){ae(this,e),this.request=t}return se(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function v_(e,t){return e.transaction([h_],t?"readwrite":"readonly").objectStore(h_)}function m_(){var e=indexedDB.deleteDatabase(f_);return new p_(e).toPromise()}function g_(){var e=indexedDB.open(f_,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(h_,{keyPath:d_})}catch(r){n(r)}})),e.addEventListener("success",te($().mark((function n(){var r;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(h_)){n.next=12;break}return r.close(),n.next=5,m_();case 5:return n.t0=t,n.next=8,g_();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function y_(e,t,n){return k_.apply(this,arguments)}function k_(){return k_=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v_(t,!0).put((ie(i={},d_,n),ie(i,"value",r),i)),e.abrupt("return",new p_(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e,t){return w_.apply(this,arguments)}function w_(){return w_=te($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v_(t,!1).get(n),e.next=3,new p_(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function x_(e,t){var n=v_(e,!0).delete(t);return new p_(n).toPromise()}var __=function(){function e(){ae(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return se(e,[{key:"_openDb",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,g_();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s_()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=te($().mark((function e(){var t=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=r_._getInstance(s_()?self:null),this.receiver._subscribe("keyChanged",function(){var e=te($().mark((function e(n,r){var i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=te($().mark((function e(){var t,n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u_();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new a_(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&l_()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,g_();case 5:return t=e.sent,e.next=8,y_(t,Xx,"1");case 8:return e.next=10,x_(t,Xx);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=te($().mark((function e(t,n){var r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return y_(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return b_(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=te($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return x_(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=te($().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=v_(e,!1).getAll();return new p_(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ue(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(te($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();__.type="LOCAL";var I_=__;function S_(e,t){return Kk(e,"POST","/v2/accounts/mfaSignIn:start",Wk(e,t))}function E_(e){return T_.apply(this,arguments)}function T_(){return T_=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kk(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function A_(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ak("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function C_(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var N_=1e12,O_=function(){function e(t){ae(this,e),this.auth=t,this.counter=N_,this._widgets=new Map}return se(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new D_(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||N_;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||N_;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||N_,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),D_=function(){function e(t,n,r){var i=this;ae(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Dk(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return se(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var R_=C_("rcb"),P_=new Vk(3e4,6e4),L_="https://www.google.com/recaptcha/api.js?",j_=function(){function e(){var t;ae(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=o_().grecaptcha)||void 0===t?void 0:t.render)}return se(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Dk(M_(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(o_().grecaptcha):new Promise((function(r,i){var a=o_().setTimeout((function(){i(Ak(e,"network-request-failed"))}),P_.get());o_()[R_]=function(){o_().clearTimeout(a),delete o_()[R_];var o=o_().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ak(e,"internal-error"))},A_("".concat(L_,"?").concat(Fe({onload:R_,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ak(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=o_().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function M_(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var F_=function(){function e(){ae(this,e)}return se(e,[{key:"load",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new O_(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),U_="recaptcha",V_={theme:"light",type:"image"},B_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},V_),r=arguments.length>2?arguments[2]:void 0;ae(this,e),this.parameters=n,this.type=U_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wb(r),this.isInvisible="invisible"===this.parameters.size,Dk("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Dk(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new F_:new j_,this.validateStartingState()}return se(e,[{key:"verify",value:function(){var e=te($().mark((function e(){var t,n,r,i=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Dk(!this.parameters.sitekey,this.auth,"argument-error"),Dk(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Dk("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=o_()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Dk(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=te($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dk(Fk()&&!s_(),this.auth,"internal-error"),e.next=3,z_();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,E_(this.auth);case 8:Dk(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Dk(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function z_(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var q_=function(){function e(t,n){ae(this,e),this.verificationId=t,this.onConfirmation=n}return se(e,[{key:"confirm",value:function(e){var t=Cw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function H_(){return H_=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wb(t),e.next=3,Q_(i,n,He(r));case 3:return a=e.sent,e.abrupt("return",new q_(a,(function(e){return ax(i,e)})));case 5:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function W_(e,t,n){return K_.apply(this,arguments)}function K_(){return(K_=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),e.next=3,$w(!1,i,"phone");case 3:return e.next=5,Q_(i.auth,n,He(r));case 5:return a=e.sent,e.abrupt("return",new q_(a,(function(e){return sx(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G_(){return(G_=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),e.next=3,Q_(i.auth,n,He(r));case 3:return a=e.sent,e.abrupt("return",new q_(a,(function(e){return cx(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q_(e,t,n){return Y_.apply(this,arguments)}function Y_(){return Y_=te($().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Dk("string"===typeof a,t,"argument-error"),Dk(r.type===U_,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Dk("enroll"===s.type,t,"internal-error"),e.next=13,Kx(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Dk("signin"===s.type,t,"internal-error"),Dk(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,S_(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,_w(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Y_.apply(this,arguments)}function X_(){return(X_=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jw(He(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J_=function(){function e(t){ae(this,e),this.providerId=e.PROVIDER_ID,this.auth=Wb(t)}return se(e,[{key:"verifyPhoneNumber",value:function(e,t){return Q_(this.auth,e,He(t))}}],[{key:"credential",value:function(e,t){return Cw._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Cw._fromTokenResponse(n,r):null}}]),e}();function Z_(e,t){return t?jk(t):(Dk(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}J_.PROVIDER_ID="phone",J_.PHONE_SIGN_IN_METHOD="phone";var $_=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this,"custom","custom")).params=e,r}return se(n,[{key:"_getIdTokenResponse",value:function(e){return bw(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return bw(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return bw(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Xb);function eI(e){return rx(e.auth,new $_(e),e.bypassAuthState)}function tI(e){var t=e.auth,n=e.user;return Dk(n,t,"internal-error"),tx(n,new $_(e),e.bypassAuthState)}function nI(e){return rI.apply(this,arguments)}function rI(){return rI=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Dk(r=t.user,n,"internal-error"),e.abrupt("return",Jw(r,new $_(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}var iI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ae(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return se(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=te($().mark((function t(n,r){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=te($().mark((function e(t){var n,r,i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eI;case"linkViaPopup":case"linkViaRedirect":return nI;case"reauthViaPopup":case"reauthViaRedirect":return tI;default:Tk(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Pk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Pk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),aI=new Vk(2e3,1e4);function oI(e,t,n){return sI.apply(this,arguments)}function sI(){return sI=te($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wb(t),Nk(t,n,Dw),a=Z_(i,r),o=new fI(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function uI(){return(uI=te($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nk((i=He(t)).auth,n,Dw),a=Z_(i.auth,r),o=new fI(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cI(e,t,n){return lI.apply(this,arguments)}function lI(){return(lI=te($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nk((i=He(t)).auth,n,Dw),a=Z_(i.auth,r),o=new fI(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fI=function(e){fe(n,e);var t=ve(n);function n(e,r,i,a,o){var s;return ae(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ce(s),s}return se(n,[{key:"executeNotNull",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Dk(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=te($().mark((function e(){var t,n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pk(1===this.filter.length,"Popup operations only handle one event"),t=i_(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ak(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ak(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ak(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,aI.get())}()}}]),n}(iI);fI.currentPopupAction=null;var hI=new Map,dI=function(e){fe(n,e);var t=ve(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ae(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return se(n,[{key:"execute",value:function(){var e=te($().mark((function e(){var t,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hI.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,pI(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,wn(he(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:hI.set(this.auth._key(),t);case 21:return this.bypassAuthState||hI.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=te($().mark((function e(t){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",wn(he(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",wn(he(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(iI);function pI(e,t){return vI.apply(this,arguments)}function vI(){return vI=te($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bI(n),i=kI(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(e,t){return gI.apply(this,arguments)}function gI(){return gI=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kI(t)._set(bI(n),"true"));case 1:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function yI(e,t){hI.set(e._key(),t)}function kI(e){return jk(e._redirectPersistence)}function bI(e){return Ab("pendingRedirect",e.config.apiKey,e.name)}function wI(e,t,n){return function(e,t,n){return xI.apply(this,arguments)}(e,t,n)}function xI(){return xI=te($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wb(t),Nk(t,n,Dw),a=Z_(i,r),e.next=5,mI(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),xI.apply(this,arguments)}function _I(e,t,n){return function(e,t,n){return II.apply(this,arguments)}(e,t,n)}function II(){return(II=te($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nk((i=He(t)).auth,n,Dw),a=Z_(i.auth,r),e.next=5,mI(a,i.auth);case 5:return e.next=7,OI(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SI(e,t,n){return function(e,t,n){return EI.apply(this,arguments)}(e,t,n)}function EI(){return(EI=te($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nk((i=He(t)).auth,n,Dw),a=Z_(i.auth,r),e.next=5,$w(!1,i,n.providerId);case 5:return e.next=7,mI(a,i.auth);case 7:return e.next=9,OI(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TI(e,t){return AI.apply(this,arguments)}function AI(){return AI=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wb(t)._initializationPromise;case 2:return e.abrupt("return",CI(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function CI(e,t){return NI.apply(this,arguments)}function NI(){return NI=te($().mark((function e(t,n){var r,i,a,o,s,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Wb(t),a=Z_(i,n),o=new dI(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function OI(e){return DI.apply(this,arguments)}function DI(){return(DI=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i_("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var RI=function(){function e(t){ae(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return se(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LI(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!LI(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ak(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(PI(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(PI(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function PI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function LI(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function jI(e){return MI.apply(this,arguments)}function MI(){return MI=te($().mark((function e(t){var n,r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Kk(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}var FI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;function VI(){return VI=te($().mark((function e(t){var n,r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,jI(t);case 4:n=e.sent,r=n.authorizedDomains,i=ue(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!BI(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Tk(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),VI.apply(this,arguments)}function BI(e){var t=Mk(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!UI.test(r))return!1;if(FI.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var zI=new Vk(3e4,6e4);function qI(){var e=o_().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Ke(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var HI=null;function WI(e){return HI=HI||function(e){return new Promise((function(t,n){var r,i,a;function o(){qI(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){qI(),n(Ak(e,"network-request-failed"))},timeout:zI.get()})}if(null===(i=null===(r=o_().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=o_().gapi)||void 0===a?void 0:a.load)){var s=C_("iframefcb");return o_()[s]=function(){gapi.load?o():n(Ak(e,"network-request-failed"))},A_("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw HI=null,e}))}(e),HI}var KI=new Vk(5e3,15e3),GI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YI(e){var t=e.config;Dk(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Bk(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:zt},i=QI.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Fe(r).slice(1))}function XI(e){return JI.apply(this,arguments)}function JI(){return JI=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WI(t);case 2:return n=e.sent,Dk(r=o_().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:YI(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GI,dontclear:!0},(function(e){return new Promise(function(){var n=te($().mark((function n(r,i){var a,o,s;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){o_().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ak(t,"network-request-failed"),o=o_().setTimeout((function(){i(a)}),KI.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}var ZI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$I="_blank",eS="http://localhost",tS=function(){function e(t){ae(this,e),this.window=t,this.associatedEvent=null}return se(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function nS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},ZI),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Se().toLowerCase();n&&(s=Rb(l)?$I:n),Ob(l)&&(t=t||eS,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ub(l)&&"_self"!==s)return rS(t||"",s),new tS(null);var h=window.open(t||"",s,f);Dk(h,e,"popup-blocked");try{h.focus()}catch(d){}return new tS(h)}function rS(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var iS="__/auth/handler",aS="emulator/auth/handler";function oS(e,t,n,r,i,a){Dk(e.config.authDomain,e,"auth-domain-config-required"),Dk(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:zt,eventId:i};if(t instanceof Dw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Rw){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(iS);return Bk(t,aS)}(e),"?").concat(Fe(p).slice(1))}var sS="webStorageSupport",uS=function(){function e(){ae(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t_,this._completeRedirectFn=CI,this._overrideRedirectResult=yI}return se(e,[{key:"_openPopup",value:function(){var e=te($().mark((function e(t,n,r,i){var a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pk(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=oS(t,n,r,Mk(),i),e.abrupt("return",nS(t,o,i_()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=te($().mark((function e(t,n,r,i){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=oS(t,n,r,Mk(),i),o_().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Pk(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XI(t);case 2:return n=e.sent,r=new RI(t),n.register("authEvent",(function(e){return Dk(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(sS,{type:sS},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Tk(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return VI.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Bb()||Db()||Fb()}}]),e}(),cS=uS,lS=function(){function e(t){ae(this,e),this.factorId=t}return se(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Rk("unexpected MultiFactorSessionType")}}}]),e}(),fS=function(e){fe(n,e);var t=ve(n);function n(e){var r;return ae(this,n),(r=t.call(this,"phone")).credential=e,r}return se(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Kk(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wk(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Kk(e,"POST","/v2/accounts/mfaSignIn:finalize",Wk(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(lS),hS=function(){function e(){ae(this,e)}return se(e,null,[{key:"assertion",value:function(e){return fS._fromCredential(e)}}]),e}();hS.FACTOR_ID="phone";var dS,pS="@firebase/auth",vS="0.20.7",mS=function(){function e(t){ae(this,e),this.auth=t,this.internalListeners=new Map}return se(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Dk(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function gS(){return window}dS="Browser",Lt(new Ge("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Dk(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Dk(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:dS,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zb(dS)},i=new Hb(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jk);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Lt(new Ge("auth-internal",(function(e){return function(e){return new mS(e)}(Wb(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Qt(pS,vS,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(dS)),Qt(pS,vS,"esm2017");function yS(e,t,n){return kS.apply(this,arguments)}function kS(){return kS=te($().mark((function e(t,n,r){var i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gS(),o=a.BuildInfo,Pk(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,SS(n.sessionId);case 4:return s=e.sent,u={},Fb()?u.ibi=o.packageName:Lb()?u.apn=o.packageName:Tk(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",oS(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(){return bS=te($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gS(),r=n.BuildInfo,i={},Fb()?i.iosBundleId=r.packageName:Lb()?i.androidPackageName=r.packageName:Tk(t,"operation-not-supported-in-this-environment"),e.next=5,jI(t,i);case 5:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function wS(e){var t=gS().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function xS(e,t,n){return _S.apply(this,arguments)}function _S(){return _S=te($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gS(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Ak(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Lb()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),_S.apply(this,arguments)}function IS(e){var t,n,r,i,a,o,s,u,c,l,f=gS();Dk("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Dk("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Dk("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Dk("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Dk("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function SS(e){return ES.apply(this,arguments)}function ES(){return(ES=te($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=TS(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TS(e){if(Pk(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var AS=function(e){fe(n,e);var t=ve(n);function n(){var e;return ae(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return se(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),wn(he(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(RI);function CS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:PS(),postBody:null,tenantId:e.tenantId,error:Ak(e,"no-auth-event")}}function NS(e,t){return LS()._set(jS(e),t)}function OS(e){return DS.apply(this,arguments)}function DS(){return DS=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LS()._get(jS(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,LS()._remove(jS(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function RS(e,t){var n,r,i=function(e){var t=MS(e),n=t.link?decodeURIComponent(t.link):void 0,r=MS(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return MS(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=MS(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Ak(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function PS(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function LS(){return jk($x)}function jS(e){return Ab("authEvent",e.config.apiKey,e.name)}function MS(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||We(t)||s(t)||u();r[0];return Ue(r.slice(1).join("?"))}var FS=function(){function e(){ae(this,e),this._redirectPersistence=t_,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=CI,this._overrideRedirectResult=yI}return se(e,[{key:"_initialize",value:function(){var e=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new AS(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Tk(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=te($().mark((function e(t,n,r,i){var a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IS(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),hI.clear(),e.next=10,this._originValidation(t);case 10:return o=CS(t,r,i),e.next=13,NS(t,o);case 13:return e.next=15,yS(t,o,n);case 15:return s=e.sent,e.next=18,wS(s);case 18:return u=e.sent,e.abrupt("return",xS(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bS.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=gS(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(te($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,OS(e);case 2:t.onEvent(VS());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=te($().mark((function n(r){var i,a;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,OS(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=RS(i,r.url)),t.onEvent(a||VS());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");gS().handleOpenURL=function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),US=FS;function VS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ak("no-auth-event")}}function BS(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function zS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return!("file:"!==BS()&&"ionic:"!==BS()&&"capacitor:"!==BS()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function qS(){return Ce()&&11===(null===document||void 0===document?void 0:document.documentMode)}function HS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/Edge\/\d+/.test(e)}function WS(){try{var e=self.localStorage,t=i_();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return qS()||HS(e)}()||Ne()}catch(n){return KS()&&Ne()}return!1}function KS(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function GS(){return("http:"===BS()||"https:"===BS()||Te()||zS())&&!(Ae()||Ee())&&WS()&&!KS()}function QS(){return zS()&&"undefined"!==typeof document}function YS(){return XS.apply(this,arguments)}function XS(){return(XS=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(QS()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var JS={LOCAL:"local",NONE:"none",SESSION:"session"},ZS=Dk,$S="persistence";function eE(e,t){ZS(Object.values(JS).includes(t),e,"invalid-persistence-type"),Ae()?ZS(t!==JS.SESSION,e,"unsupported-persistence-type"):Ee()?ZS(t===JS.NONE,e,"unsupported-persistence-type"):KS()?ZS(t===JS.NONE||t===JS.LOCAL&&Ne(),e,"unsupported-persistence-type"):ZS(t===JS.NONE||WS(),e,"unsupported-persistence-type")}function tE(e){return nE.apply(this,arguments)}function nE(){return nE=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=rE(),r=Ab($S,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var iE=Dk,aE=function(){function e(){ae(this,e),this.browserResolver=jk(cS),this.cordovaResolver=jk(US),this.underlyingResolver=null,this._redirectPersistence=t_,this._completeRedirectFn=CI,this._overrideRedirectResult=yI}return se(e,[{key:"_initialize",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=te($().mark((function e(t,n,r,i){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=te($().mark((function e(t,n,r,i){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return QS()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return iE(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,YS();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function oE(e){return e.unwrap()}function sE(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new hE(e,function(e,t){var n,r=He(e),i=t;return Dk(t.customData.operationType,r,"argument-error"),Dk(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Wx._fromError(r,i)}(e,t));else if(i){var a=uE(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function uE(e){var t=(e instanceof Oe?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Oe)&&"temporaryProof"in t&&"phoneNumber"in t)return J_.credentialFromResult(e);var n,r=t.providerId;if(!r||r===dk)return null;switch(r){case hk:n=jw;break;case lk:n=Lw;break;case fk:n=Mw;break;case pk:n=Vw;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Fw._create(r,s):xw._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Pw(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Oe?n.credentialFromError(e):n.credentialFromResult(e)}function cE(e,t){return t.catch((function(t){throw t instanceof Oe&&sE(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,uE(t)),additionalUserInfo:qx(e),user:dE.getOrCreate(r)}}))}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=te($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return cE(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}var hE=function(){function e(t,n){ae(this,e),this.resolver=n,this.auth=t.wrapped()}return se(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return cE(oE(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),dE=function(){function e(t){ae(this,e),this._delegate=t,this.multiFactor=function(e){var t=He(e);return Yx.has(t)||Yx.set(t,Qx._fromUser(t)),Yx.get(t)}(t)}return se(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(this.auth,sx(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lE(this.auth,W_(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(this.auth,cI(this._delegate,t,aE)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tE(Wb(this.auth));case 2:return e.abrupt("return",SI(this._delegate,t,aE));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(this.auth,cx(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return lE(this.auth,function(e,t,n){return G_.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return cE(this.auth,function(e,t,n){return uI.apply(this,arguments)}(this._delegate,e,aE))}},{key:"reauthenticateWithRedirect",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tE(Wb(this.auth));case 2:return e.abrupt("return",_I(this._delegate,t,aE));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Nx.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yw(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Lx(He(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Lx(He(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return X_.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Px.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ox.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();dE.USER_MAP=new WeakMap;var pE=Dk,vE=function(){function e(t,n){if(ae(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;pE(r,"invalid-api-key",{appName:t.name}),pE(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?aE:void 0;this._delegate=n.initialize({options:{persistence:gE(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(xk),this.linkUnderlyingAuth()}return se(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?dE.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Gb(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return kx.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return bx(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return yx.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=te($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(this._delegate,_x(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Cx.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Nw.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pE(GS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,TI(this._delegate,aE);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",cE(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Wb(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=mE(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=mE(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Sx.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return gx.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:eE(this._delegate,t),e.t0=t,e.next=e.t0===JS.SESSION?4:e.t0===JS.LOCAL?6:e.t0===JS.NONE?11:13;break;case 4:return n=t_,e.abrupt("break",14);case 6:return e.next=8,jk(I_)._isAvailable();case 8:return r=e.sent,n=r?I_:$x,e.abrupt("break",14);case 11:return n=Tb,e.abrupt("break",14);case 13:return e.abrupt("return",Tk("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return cE(this._delegate,function(e){return Ww.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return cE(this._delegate,ax(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return cE(this._delegate,function(e,t){return dx.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return cE(this._delegate,function(e,t,n){return ax(He(e),Ow.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return cE(this._delegate,function(e,t,n){return Ex.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return lE(this._delegate,function(e,t,n){return H_.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pE(GS(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",cE(this._delegate,oI(this._delegate,t,aE)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pE(GS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,tE(this._delegate);case 3:return e.abrupt("return",wI(this._delegate,t,aE));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return xx.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function mE(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&dE.getOrCreate(e))},error:t,complete:n}}function gE(e,t){var n=function(e,t){var n=rE();if(!n)return[];var r=Ab($S,e,t);switch(n.getItem(r)){case JS.NONE:return[Tb];case JS.LOCAL:return[I_,t_];case JS.SESSION:return[t_];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(I_)||n.push(I_),"undefined"!==typeof window)for(var r=0,i=[$x,t_];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Tb)||n.push(Tb),n}vE.Persistence=JS;var yE=function(){function e(){ae(this,e),this.providerId="phone",this._delegate=new J_(oE(kn.auth()))}return se(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return J_.credential(e,t)}}]),e}();yE.PHONE_SIGN_IN_METHOD=J_.PHONE_SIGN_IN_METHOD,yE.PROVIDER_ID=J_.PROVIDER_ID;var kE=Dk,bE=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kn.app();ae(this,e),kE(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new B_(t,n,i.auth()),this.type=this._delegate.type}return se(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Ge("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new vE(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:vk,PASSWORD_RESET:mk,RECOVER_EMAIL:gk,REVERT_SECOND_FACTOR_ADDITION:yk,VERIFY_AND_CHANGE_EMAIL:kk,VERIFY_EMAIL:bk}},EmailAuthProvider:Ow,FacebookAuthProvider:Lw,GithubAuthProvider:Mw,GoogleAuthProvider:jw,OAuthProvider:Pw,SAMLAuthProvider:Uw,PhoneAuthProvider:yE,PhoneMultiFactorGenerator:hS,RecaptchaVerifier:bE,TwitterAuthProvider:Vw,Auth:vE,AuthCredential:Xb,Error:Oe}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.20")}(kn);var wE="firebasestorage.googleapis.com",xE=function(e){fe(n,e);var t=ve(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,_E(e),"Firebase Storage: ".concat(r," (").concat(_E(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(ce(i),n.prototype),i}return se(n,[{key:"_codeEquals",value:function(e){return _E(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Oe);function _E(e){return"storage/"+e}function IE(){return new xE("unknown","An unknown error occurred, please check the error payload for server response.")}function SE(){return new xE("canceled","User canceled the upload/download.")}function EE(){return new xE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function TE(e){return new xE("invalid-argument",e)}function AE(){return new xE("app-deleted","The Firebase app was deleted.")}function CE(e){return new xE("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function NE(e,t){return new xE("invalid-format","String does not match format '"+e+"': "+t)}function OE(e){throw new xE("internal-error","Internal error: "+e)}var DE,RE=function(){function e(t,n){ae(this,e),this.bucket=t,this.path_=n}return se(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new xE("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===wE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new xE("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),PE=function(){function e(t){ae(this,e),this.promise_=Promise.reject(t)}return se(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function LE(e){return"string"===typeof e||e instanceof String}function jE(e){return ME()&&e instanceof Blob}function ME(){return"undefined"!==typeof Blob}function FE(e,t,n,r){if(r<t)throw TE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw TE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function UE(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function VE(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(DE||(DE={}));var BE=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;ae(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return se(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=IE();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?AE():SE());else i(new xE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new zE(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new zE(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===DE.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new zE(o,r))}else{var s=r.getErrorCode()===DE.ABORT;t(!1,new zE(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),zE=se((function e(t,n,r){ae(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function qE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function HE(){for(var e=qE(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(ME())return new Blob(n);throw new xE("unsupported-environment","This browser doesn't seem to support creating Blobs")}var WE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},KE=se((function e(t,n){ae(this,e),this.data=t,this.contentType=n||null}));function GE(e,t){switch(e){case WE.RAW:return new KE(QE(t));case WE.BASE64:case WE.BASE64URL:return new KE(YE(e,t));case WE.DATA_URL:return new KE(function(e){var t=new XE(e);return t.base64?YE(WE.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw NE(WE.DATA_URL,"Malformed data URL.")}return QE(t)}(t.rest)}(t),new XE(t).contentType)}throw IE()}function QE(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function YE(e,t){switch(e){case WE.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw NE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case WE.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw NE(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw NE(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var XE=se((function e(t){ae(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw NE(WE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var JE=function(){function e(t,n){ae(this,e);var r=0,i="";jE(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return se(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(jE(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ME()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(HE.apply(null,i))}var a=n.map((function(e){return LE(e)?GE(WE.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function ZE(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function $E(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function eT(e,t){return t}var tT=se((function e(t,n,r,i){ae(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||eT})),nT=null;function rT(){if(nT)return nT;var e=[];e.push(new tT("bucket")),e.push(new tT("generation")),e.push(new tT("metageneration")),e.push(new tT("name","fullPath",!0));var t=new tT("name");t.xform=function(e,t){return function(e){return!LE(e)||e.length<2?e:$E(e)}(t)},e.push(t);var n=new tT("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new tT("timeCreated")),e.push(new tT("updated")),e.push(new tT("md5Hash",null,!0)),e.push(new tT("cacheControl",null,!0)),e.push(new tT("contentDisposition",null,!0)),e.push(new tT("contentEncoding",null,!0)),e.push(new tT("contentLanguage",null,!0)),e.push(new tT("contentType",null,!0)),e.push(new tT("metadata","customMetadata",!0)),nT=e}function iT(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new RE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function aT(e,t,n){var r=ZE(t);return null===r?null:iT(e,r,n)}function oT(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function sT(e,t,n){var r=ZE(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=ue(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new RE(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=ue(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new RE(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var uT=se((function e(t,n,r,i){ae(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function cT(e){if(!e)throw IE()}function lT(e,t){return function(n,r){var i=aT(e,r,t);return cT(null!==i),i}}function fT(e,t){return function(n,r){var i=aT(e,r,t);return cT(null!==i),function(e,t,n,r){var i=ZE(t);if(null===i)return null;if(!LE(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return UE("/b/"+o(i)+"/o/"+o(a),n,r)+VE({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function hT(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new xE("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new xE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new xE("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new xE("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function dT(e){var t=hT(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new xE("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function pT(e,t,n){var r=UE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new uT(r,"GET",lT(e,n),i);return a.errorHandler=dT(t),a}function vT(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=UE(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new uT(o,"GET",function(e,t){return function(n,r){var i=sT(e,t,r);return cT(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=hT(t),u}function mT(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function gT(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=mT(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+oT(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=JE.getBlob(c,r,l);if(null===f)throw EE();var h={name:u.fullPath},d=UE(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new uT(d,"POST",lT(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=hT(t),v}var yT=se((function e(t,n,r,i){ae(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function kT(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){cT(!1)}return cT(!!n&&-1!==(t||["active"]).indexOf(n)),n}var bT=262144;function wT(e,t,n,r,i,a,o,s){var u=new yT(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new xE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw EE();var v=t.maxUploadRetryTime,m=new uT(n,"POST",(function(e,n){var i,o=kT(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?lT(t,a)(e,n):null,new yT(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=hT(e),m}var xT={STATE_CHANGED:"state_changed"},_T={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function IT(e){switch(e){case"running":case"pausing":case"canceling":return _T.RUNNING;case"paused":return _T.PAUSED;case"success":return _T.SUCCESS;case"canceled":return _T.CANCELED;default:return _T.ERROR}}var ST=se((function e(t,n,r){ae(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function ET(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var TT=function(){function e(){var t=this;ae(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=DE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=DE.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=DE.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return se(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw OE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw OE("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw OE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw OE("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw OE("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),AT=function(e){fe(n,e);var t=ve(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(TT);function CT(){return new AT}var NT=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ae(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=rT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return se(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=mT(t,r,i),s={name:o.fullPath},u=UE(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=oT(o,n),f=e.maxUploadRetryTime,h=new uT(u,"POST",(function(e){var t;kT(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){cT(!1)}return cT(LE(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=hT(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,CT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new uT(n,"POST",(function(e){var t=kT(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){cT(!1)}n||cT(!1);var i=Number(n);return cT(!isNaN(i)),new yT(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=hT(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,CT,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=bT*this._chunkMultiplier,n=new yT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=wT(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,CT,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){bT*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=pT(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,CT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=gT(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,CT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=SE(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=IT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new ST(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(IT(this._state)){case _T.SUCCESS:ET(this._resolve.bind(null,this.snapshot))();break;case _T.CANCELED:case _T.ERROR:ET(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(IT(this._state)){case _T.RUNNING:case _T.PAUSED:e.next&&ET(e.next.bind(e,this.snapshot))();break;case _T.SUCCESS:e.complete&&ET(e.complete.bind(e))();break;default:e.error&&ET(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),OT=function(){function e(t,n){ae(this,e),this._service=t,this._location=n instanceof RE?n:RE.makeFromUrl(n,t.host)}return se(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new RE(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return $E(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new RE(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw CE(e)}}]),e}();function DT(e,t,n){return RT.apply(this,arguments)}function RT(){return(RT=te($().mark((function e(t,n,r){var i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,PT(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Ke(s.prefixes)),(a=n.items).push.apply(a,Ke(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,DT(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PT(e,t){null!=t&&"number"===typeof t.maxResults&&FE("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=vT(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,CT)}function LT(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=UE(t.fullServerUrl(),e.host,e._protocol),a=oT(n,r),o=e.maxOperationRetryTime,s=new uT(i,"PATCH",lT(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=dT(t),s}(e.storage,e._location,t,rT());return e.storage.makeRequestWithTokens(n,CT)}function jT(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=UE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new uT(r,"GET",fT(e,n),i);return a.errorHandler=dT(t),a}(e.storage,e._location,rT());return e.storage.makeRequestWithTokens(t,CT).then((function(e){if(null===e)throw new xE("no-download-url","The given file does not have any download URLs.");return e}))}function MT(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=UE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new uT(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=dT(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,CT)}function FT(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new RE(e._location.bucket,n);return new OT(e.storage,r)}function UT(e,t){if(e instanceof qT){var n=e;if(null==n._bucket)throw new xE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new OT(n,n._bucket);return null!=t?UT(r,t):r}return void 0!==t?FT(e,t):e}function VT(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof qT)return new OT(e,t);throw TE("To use ref(service, url), the first argument must be a Storage instance.")}return UT(e,t)}function BT(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:RE.makeFromBucketSpec(n,e)}function zT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Ie(i,e.app.options.projectId))}var qT=function(){function e(t,n,r,i,a){ae(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=wE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?RE.makeFromBucketSpec(i,this._host):BT(this._host,this.app.options)}return se(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=RE.makeFromBucketSpec(this._url,e):this._bucket=BT(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){FE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){FE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=te($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=te($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new OT(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new PE(AE());var a=function(e,t,n,r,i,a){var o=VE(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new BE(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=te($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),HT="@firebase/storage",WT="0.9.9",KT="storage";function GT(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new NT(e,new JE(t),n)}(e=He(e),t,n)}function QT(e){return function(e){e._throwIfRoot("getMetadata");var t=pT(e.storage,e._location,rT());return e.storage.makeRequestWithTokens(t,CT)}(e=He(e))}function YT(e){return function(e){var t={prefixes:[],items:[]};return DT(e,t).then((function(){return t}))}(e=He(e))}function XT(e){return MT(e=He(e))}function JT(e,t){return VT(e=He(e),t)}function ZT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};zT(e,t,n,r)}function $T(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new qT(r,i,a,n,zt)}Lt(new Ge(KT,$T,"PUBLIC").setMultipleInstances(!0)),Qt(HT,WT,""),Qt(HT,WT,"esm2017");var eA=function(){function e(t,n,r){ae(this,e),this._delegate=t,this.task=n,this.ref=r}return se(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),tA=function(){function e(t,n){ae(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return se(e,[{key:"snapshot",get:function(){return new eA(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new eA(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new eA(e,i,i._ref))}:{next:t.next?function(e){return t.next(new eA(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),nA=function(){function e(t,n){ae(this,e),this._delegate=t,this._service=n}return se(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new rA(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new rA(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),rA=function(){function e(t,n){ae(this,e),this._delegate=t,this.storage=n}return se(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return FT(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new tA(GT(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WE.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=GE(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new tA(new NT(this._delegate,new JE(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return YT(this._delegate).then((function(t){return new nA(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return PT(e=He(e),t)}(this._delegate,e||void 0).then((function(e){return new nA(e,t.storage)}))}},{key:"getMetadata",value:function(){return QT(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return LT(e=He(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return jT(He(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),XT(this._delegate)}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw CE(e)}}]),e}(),iA=function(){function e(t,n){ae(this,e),this.app=t,this._delegate=n}return se(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(aA(e))throw TE("ref() expected a child path but got a URL, use refFromURL instead.");return new rA(JT(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!aA(e))throw TE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{RE.makeFromUrl(e,this._delegate.host)}catch(t){throw TE("refFromUrl() expected a valid full URL but got an invalid one.")}return new rA(JT(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ZT(this._delegate,e,t,n)}}]),e}();function aA(e){return/^[A-Za-z]+:\/\//.test(e)}function oA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new iA(r,i)}!function(e){var t={TaskState:_T,TaskEvent:xT,StringFormat:WE,Storage:iA,Reference:rA};e.INTERNAL.registerComponent(new Ge("storage-compat",oA,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(kn);var sA=kn.initializeApp({apiKey:"AIzaSyCojx43ONagkNc9KiGAsr8Q0wLw3yFohLQ",authDomain:"instagram-test-8f839.firebaseapp.com",databaseURL:"https://instagram-test-8f839-default-rtdb.firebaseio.com",projectId:"instagram-test-8f839",storageBucket:"instagram-test-8f839.appspot.com",messagingSenderId:"283762426827",appId:"1:283762426827:web:9a559a5e63836ed7a62c4e",measurementId:"G-CHVK28KJ2K"}),uA=sA.firestore(),cA=sA.auth(),lA=sA.storage();function fA(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function hA(e){return e instanceof fA(e).Element||e instanceof Element}function dA(e){return e instanceof fA(e).HTMLElement||e instanceof HTMLElement}function pA(e){return"undefined"!==typeof ShadowRoot&&(e instanceof fA(e).ShadowRoot||e instanceof ShadowRoot)}var vA=Math.max,mA=Math.min,gA=Math.round;function yA(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function kA(){return!/^((?!chrome|android).)*safari/i.test(yA())}function bA(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&dA(e)&&(i=e.offsetWidth>0&&gA(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&gA(r.height)/e.offsetHeight||1);var o=(hA(e)?fA(e):window).visualViewport,s=!kA()&&n,u=(r.left+(s&&o?o.offsetLeft:0))/i,c=(r.top+(s&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function wA(e){var t=fA(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function xA(e){return e?(e.nodeName||"").toLowerCase():null}function _A(e){return((hA(e)?e.ownerDocument:e.document)||window.document).documentElement}function IA(e){return bA(_A(e)).left+wA(e).scrollLeft}function SA(e){return fA(e).getComputedStyle(e)}function EA(e){var t=SA(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function TA(e,t,n){void 0===n&&(n=!1);var r=dA(t),i=dA(t)&&function(e){var t=e.getBoundingClientRect(),n=gA(t.width)/e.offsetWidth||1,r=gA(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=_A(t),o=bA(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==xA(t)||EA(a))&&(s=function(e){return e!==fA(e)&&dA(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:wA(e);var t}(t)),dA(t)?((u=bA(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=IA(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function AA(e){var t=bA(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function CA(e){return"html"===xA(e)?e:e.assignedSlot||e.parentNode||(pA(e)?e.host:null)||_A(e)}function NA(e){return["html","body","#document"].indexOf(xA(e))>=0?e.ownerDocument.body:dA(e)&&EA(e)?e:NA(CA(e))}function OA(e,t){var n;void 0===t&&(t=[]);var r=NA(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=fA(r),o=i?[a].concat(a.visualViewport||[],EA(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(OA(CA(o)))}function DA(e){return["table","td","th"].indexOf(xA(e))>=0}function RA(e){return dA(e)&&"fixed"!==SA(e).position?e.offsetParent:null}function PA(e){for(var t=fA(e),n=RA(e);n&&DA(n)&&"static"===SA(n).position;)n=RA(n);return n&&("html"===xA(n)||"body"===xA(n)&&"static"===SA(n).position)?t:n||function(e){var t=/firefox/i.test(yA());if(/Trident/i.test(yA())&&dA(e)&&"fixed"===SA(e).position)return null;var n=CA(e);for(pA(n)&&(n=n.host);dA(n)&&["html","body"].indexOf(xA(n))<0;){var r=SA(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var LA="top",jA="bottom",MA="right",FA="left",UA="auto",VA=[LA,jA,MA,FA],BA="start",zA="end",qA="viewport",HA="popper",WA=VA.reduce((function(e,t){return e.concat([t+"-"+BA,t+"-"+zA])}),[]),KA=[].concat(VA,[UA]).reduce((function(e,t){return e.concat([t,t+"-"+BA,t+"-"+zA])}),[]),GA=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function QA(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function YA(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var XA={placement:"bottom",modifiers:[],strategy:"absolute"};function JA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function ZA(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?XA:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},XA,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:hA(e)?OA(e):e.contextElement?OA(e.contextElement):[],popper:OA(t)};var l=function(e){var t=QA(e);return GA.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),c=function(){};o.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(JA(t,n)){i.rects={reference:TA(t,PA(n),"fixed"===i.options.strategy),popper:AA(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:YA((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!JA(e,t))return u;function c(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var $A={passive:!0};var eC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=fA(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,$A)})),s&&u.addEventListener("resize",n.update,$A),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,$A)})),s&&u.removeEventListener("resize",n.update,$A)}},data:{}};function tC(e){return e.split("-")[0]}function nC(e){return e.split("-")[1]}function rC(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function iC(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?tC(i):null,o=i?nC(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case LA:t={x:s,y:n.y-r.height};break;case jA:t={x:s,y:n.y+n.height};break;case MA:t={x:n.x+n.width,y:u};break;case FA:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?rC(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case BA:t[c]=t[c]-(n[l]/2-r[l]/2);break;case zA:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var aC={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=iC({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},oC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sC(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),k=FA,b=LA,w=window;if(c){var x=PA(n),_="clientHeight",I="clientWidth";if(x===fA(n)&&"static"!==SA(x=_A(n)).position&&"absolute"===s&&(_="scrollHeight",I="scrollWidth"),i===LA||(i===FA||i===MA)&&a===zA)b=jA,v-=(f&&x===w&&w.visualViewport?w.visualViewport.height:x[_])-r.height,v*=u?1:-1;if(i===FA||(i===LA||i===jA)&&a===zA)k=MA,d-=(f&&x===w&&w.visualViewport?w.visualViewport.width:x[I])-r.width,d*=u?1:-1}var S,E=Object.assign({position:s},c&&oC),T=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:gA(t*r)/r||0,y:gA(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=T.x,v=T.y,u?Object.assign({},E,((S={})[b]=y?"0":"",S[k]=g?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",S)):Object.assign({},E,((t={})[b]=y?v+"px":"",t[k]=g?d+"px":"",t.transform="",t))}var uC={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];dA(i)&&xA(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});dA(r)&&xA(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var cC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=KA.reduce((function(e,n){return e[n]=function(e,t,n){var r=tC(e),i=[FA,LA].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[FA,MA].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},lC={left:"right",right:"left",bottom:"top",top:"bottom"};function fC(e){return e.replace(/left|right|bottom|top/g,(function(e){return lC[e]}))}var hC={start:"end",end:"start"};function dC(e){return e.replace(/start|end/g,(function(e){return hC[e]}))}function pC(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&pA(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function vC(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function mC(e,t,n){return t===qA?vC(function(e,t){var n=fA(e),r=_A(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var c=kA();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+IA(e),y:u}}(e,n)):hA(t)?function(e,t){var n=bA(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):vC(function(e){var t,n=_A(e),r=wA(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=vA(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=vA(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+IA(e),u=-r.scrollTop;return"rtl"===SA(i||n).direction&&(s+=vA(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(_A(e)))}function gC(e,t,n,r){var i="clippingParents"===t?function(e){var t=OA(CA(e)),n=["absolute","fixed"].indexOf(SA(e).position)>=0&&dA(e)?PA(e):e;return hA(n)?t.filter((function(e){return hA(e)&&pC(e,n)&&"body"!==xA(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=mC(e,n,r);return t.top=vA(i.top,t.top),t.right=mA(i.right,t.right),t.bottom=mA(i.bottom,t.bottom),t.left=vA(i.left,t.left),t}),mC(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function yC(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function kC(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function bC(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,u=void 0===s?"clippingParents":s,c=n.rootBoundary,l=void 0===c?qA:c,f=n.elementContext,h=void 0===f?HA:f,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,g=yC("number"!==typeof m?m:kC(m,VA)),y=h===HA?"reference":HA,k=e.rects.popper,b=e.elements[p?y:h],w=gC(hA(b)?b:b.contextElement||_A(e.elements.popper),u,l,o),x=bA(e.elements.reference),_=iC({reference:x,element:k,strategy:"absolute",placement:i}),I=vC(Object.assign({},k,_)),S=h===HA?I:x,E={top:w.top-S.top+g.top,bottom:S.bottom-w.bottom+g.bottom,left:w.left-S.left+g.left,right:S.right-w.right+g.right},T=e.modifiersData.offset;if(h===HA&&T){var A=T[i];Object.keys(E).forEach((function(e){var t=[MA,jA].indexOf(e)>=0?1:-1,n=[LA,jA].indexOf(e)>=0?"y":"x";E[e]+=A[n]*t}))}return E}var wC={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,g=tC(m),y=u||(g===m||!p?[fC(m)]:function(e){if(tC(e)===UA)return[];var t=fC(e);return[dC(e),t,dC(t)]}(m)),k=[m].concat(y).reduce((function(e,n){return e.concat(tC(n)===UA?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?KA:u,l=nC(r),f=l?s?WA:WA.filter((function(e){return nC(e)===l})):VA,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=bC(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[tC(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,_=!0,I=k[0],S=0;S<k.length;S++){var E=k[S],T=tC(E),A=nC(E)===BA,C=[LA,jA].indexOf(T)>=0,N=C?"width":"height",O=bC(t,{placement:E,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),D=C?A?MA:FA:A?jA:LA;b[N]>w[N]&&(D=fC(D));var R=fC(D),P=[];if(a&&P.push(O[T]<=0),s&&P.push(O[D]<=0,O[R]<=0),P.every((function(e){return e}))){I=E,_=!1;break}x.set(E,P)}if(_)for(var L=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return I=t,"break"},j=p?3:1;j>0;j--){if("break"===L(j))break}t.placement!==I&&(t.modifiersData[r]._skip=!0,t.placement=I,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function xC(e,t,n){return vA(e,mA(t,n))}var _C={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=bC(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),g=tC(t.placement),y=nC(t.placement),k=!y,b=rC(g),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,_=t.rects.reference,I=t.rects.popper,S="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,E="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(x){if(a){var C,N="y"===b?LA:FA,O="y"===b?jA:MA,D="y"===b?"height":"width",R=x[b],P=R+m[N],L=R-m[O],j=d?-I[D]/2:0,M=y===BA?_[D]:I[D],F=y===BA?-I[D]:-_[D],U=t.elements.arrow,V=d&&U?AA(U):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[N],q=B[O],H=xC(0,_[D],V[D]),W=k?_[D]/2-j-H-z-E.mainAxis:M-H-z-E.mainAxis,K=k?-_[D]/2+j+H+q+E.mainAxis:F+H+q+E.mainAxis,G=t.elements.arrow&&PA(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,Y=null!=(C=null==T?void 0:T[b])?C:0,X=R+K-Y,J=xC(d?mA(P,R+W-Y-Q):P,R,d?vA(L,X):L);x[b]=J,A[b]=J-R}if(s){var Z,$="x"===b?LA:FA,ee="x"===b?jA:MA,te=x[w],ne="y"===w?"height":"width",re=te+m[$],ie=te-m[ee],ae=-1!==[LA,FA].indexOf(g),oe=null!=(Z=null==T?void 0:T[w])?Z:0,se=ae?re:te-_[ne]-I[ne]-oe+E.altAxis,ue=ae?te+_[ne]+I[ne]-oe-E.altAxis:ie,ce=d&&ae?function(e,t,n){var r=xC(e,t,n);return r>n?n:r}(se,te,ue):xC(d?se:re,te,d?ue:ie);x[w]=ce,A[w]=ce-te}t.modifiersData[r]=A}},requiresIfExists:["offset"]};var IC={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=tC(n.placement),u=rC(s),c=[FA,MA].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return yC("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:kC(e,VA))}(i.padding,n),f=AA(a),h="y"===u?LA:FA,d="y"===u?jA:MA,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=PA(a),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,k=l[h],b=g-f[c]-l[d],w=g/2-f[c]/2+y,x=xC(k,w,b),_=u;n.modifiersData[r]=((t={})[_]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&pC(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function SC(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function EC(e){return[LA,MA,jA,FA].some((function(t){return e[t]>=0}))}var TC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=bC(t,{elementContext:"reference"}),s=bC(t,{altBoundary:!0}),u=SC(o,r),c=SC(s,i,a),l=EC(u),f=EC(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},AC=ZA({defaultModifiers:[eC,aC,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:tC(t.placement),variation:nC(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,sC(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,sC(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},uC,cC,wC,_C,IC,TC]}),CC="tippy-backdrop",NC={passive:!0,capture:!0},OC=function(){return document.body};function DC(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function RC(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function PC(e,t){return"function"===typeof e?e.apply(void 0,t):e}function LC(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function jC(e){return[].concat(e)}function MC(e,t){-1===e.indexOf(t)&&e.push(t)}function FC(e){return e.split("-")[0]}function UC(e){return[].slice.call(e)}function VC(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function BC(){return document.createElement("div")}function zC(e){return["Element","Fragment"].some((function(t){return RC(e,t)}))}function qC(e){return RC(e,"MouseEvent")}function HC(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function WC(e){return zC(e)?[e]:function(e){return RC(e,"NodeList")}(e)?UC(e):Array.isArray(e)?e:UC(document.querySelectorAll(e))}function KC(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function GC(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function QC(e){var t,n=jC(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function YC(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function XC(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var JC={isTouch:!1},ZC=0;function $C(){JC.isTouch||(JC.isTouch=!0,window.performance&&document.addEventListener("mousemove",eN))}function eN(){var e=performance.now();e-ZC<20&&(JC.isTouch=!1,document.removeEventListener("mousemove",eN)),ZC=e}function tN(){var e=document.activeElement;if(HC(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var nN=!!("undefined"!==typeof window&&"undefined"!==typeof document)&&!!window.msCrypto;var rN={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},iN=Object.assign({appendTo:OC,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},rN,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),aN=Object.keys(iN);function oN(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,a=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=iN[i])?r:a);return t}),{});return Object.assign({},e,t)}function sN(e,t){var n=Object.assign({},t,{content:PC(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(oN(Object.assign({},iN,{plugins:t}))):aN).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(i){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},iN.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function uN(e){var t=e.firstElementChild,n=UC(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains(CC)}))}}var cN=1,lN=[],fN=[];function hN(e,t){var n,r,i,a,o,s,u,c,l=sN(e,Object.assign({},iN,oN(VC(t)))),f=!1,h=!1,d=!1,p=!1,v=[],m=LC(G,l.interactiveDebounce),g=cN++,y=(c=l.plugins).filter((function(e,t){return c.indexOf(e)===t})),k={id:g,reference:e,popper:BC(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){0;if(k.state.isDestroyed)return;R("onBeforeUpdate",[k,t]),W();var n=k.props,r=sN(e,Object.assign({},n,VC(t),{ignoreAttributes:!0}));k.props=r,H(),n.interactiveDebounce!==r.interactiveDebounce&&(j(),m=LC(G,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?jC(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");L(),D(),x&&x(n,r);k.popperInstance&&(J(),$().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));R("onAfterUpdate",[k,t])},setContent:function(e){k.setProps({content:e})},show:function(){0;var e=k.state.isVisible,t=k.state.isDestroyed,n=!k.state.isEnabled,r=JC.isTouch&&!k.props.touch,i=DC(k.props.duration,0,iN.duration);if(e||t||n||r)return;if(A().hasAttribute("disabled"))return;if(R("onShow",[k],!1),!1===k.props.onShow(k))return;k.state.isVisible=!0,T()&&(w.style.visibility="visible");D(),V(),k.state.isMounted||(w.style.transition="none");if(T()){var a=N(),o=a.box,u=a.content;KC([o,u],0)}s=function(){var e;if(k.state.isVisible&&!p){if(p=!0,w.offsetHeight,w.style.transition=k.props.moveTransition,T()&&k.props.animation){var t=N(),n=t.box,r=t.content;KC([n,r],i),GC([n,r],"visible")}P(),L(),MC(fN,k),null==(e=k.popperInstance)||e.forceUpdate(),R("onMount",[k]),k.props.animation&&T()&&function(e,t){z(e,t)}(i,(function(){k.state.isShown=!0,R("onShown",[k])}))}},function(){var e,t=k.props.appendTo,n=A();e=k.props.interactive&&t===OC||"parent"===t?n.parentNode:PC(t,[n]);e.contains(w)||e.appendChild(w);k.state.isMounted=!0,J(),!1}()},hide:function(){0;var e=!k.state.isVisible,t=k.state.isDestroyed,n=!k.state.isEnabled,r=DC(k.props.duration,1,iN.duration);if(e||t||n)return;if(R("onHide",[k],!1),!1===k.props.onHide(k))return;k.state.isVisible=!1,k.state.isShown=!1,p=!1,f=!1,T()&&(w.style.visibility="hidden");if(j(),B(),D(!0),T()){var i=N(),a=i.box,o=i.content;k.props.animation&&(KC([a,o],r),GC([a,o],"hidden"))}P(),L(),k.props.animation?T()&&function(e,t){z(e,(function(){!k.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(r,k.unmount):k.unmount()},hideWithInteractivity:function(e){0;C().addEventListener("mousemove",m),MC(lN,m),m(e)},enable:function(){k.state.isEnabled=!0},disable:function(){k.hide(),k.state.isEnabled=!1},unmount:function(){0;k.state.isVisible&&k.hide();if(!k.state.isMounted)return;Z(),$().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w);fN=fN.filter((function(e){return e!==k})),k.state.isMounted=!1,R("onHidden",[k])},destroy:function(){0;if(k.state.isDestroyed)return;k.clearDelayTimeouts(),k.unmount(),W(),delete e._tippy,k.state.isDestroyed=!0,R("onDestroy",[k])}};if(!l.render)return k;var b=l.render(k),w=b.popper,x=b.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+k.id,k.popper=w,e._tippy=k,w._tippy=k;var _=y.map((function(e){return e.fn(k)})),I=e.hasAttribute("aria-expanded");return H(),L(),D(),R("onCreate",[k]),l.showOnCreate&&ee(),w.addEventListener("mouseenter",(function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&C().addEventListener("mousemove",m)})),k;function S(){var e=k.props.touch;return Array.isArray(e)?e:[e,0]}function E(){return"hold"===S()[0]}function T(){var e;return!(null==(e=k.props.render)||!e.$$tippy)}function A(){return u||e}function C(){var e=A().parentNode;return e?QC(e):document}function N(){return uN(w)}function O(e){return k.state.isMounted&&!k.state.isVisible||JC.isTouch||a&&"focus"===a.type?0:DC(k.props.delay,e?0:1,iN.delay)}function D(e){void 0===e&&(e=!1),w.style.pointerEvents=k.props.interactive&&!e?"":"none",w.style.zIndex=""+k.props.zIndex}function R(e,t,n){var r;(void 0===n&&(n=!0),_.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=k.props)[e].apply(r,t)}function P(){var t=k.props.aria;if(t.content){var n="aria-"+t.content,r=w.id;jC(k.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(k.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function L(){!I&&k.props.aria.expanded&&jC(k.props.triggerTarget||e).forEach((function(e){k.props.interactive?e.setAttribute("aria-expanded",k.state.isVisible&&e===A()?"true":"false"):e.removeAttribute("aria-expanded")}))}function j(){C().removeEventListener("mousemove",m),lN=lN.filter((function(e){return e!==m}))}function M(t){if(!JC.isTouch||!d&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!k.props.interactive||!XC(w,n)){if(jC(k.props.triggerTarget||e).some((function(e){return XC(e,n)}))){if(JC.isTouch)return;if(k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else R("onClickOutside",[k,t]);!0===k.props.hideOnClick&&(k.clearDelayTimeouts(),k.hide(),h=!0,setTimeout((function(){h=!1})),k.state.isMounted||B())}}}function F(){d=!0}function U(){d=!1}function V(){var e=C();e.addEventListener("mousedown",M,!0),e.addEventListener("touchend",M,NC),e.addEventListener("touchstart",U,NC),e.addEventListener("touchmove",F,NC)}function B(){var e=C();e.removeEventListener("mousedown",M,!0),e.removeEventListener("touchend",M,NC),e.removeEventListener("touchstart",U,NC),e.removeEventListener("touchmove",F,NC)}function z(e,t){var n=N().box;function r(e){e.target===n&&(YC(n,"remove",r),t())}if(0===e)return t();YC(n,"remove",o),YC(n,"add",r),o=r}function q(t,n,r){void 0===r&&(r=!1),jC(k.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),v.push({node:e,eventType:t,handler:n,options:r})}))}function H(){var e;E()&&(q("touchstart",K,{passive:!0}),q("touchend",Q,{passive:!0})),(e=k.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(q(e,K),e){case"mouseenter":q("mouseleave",Q);break;case"focus":q(nN?"focusout":"blur",Y);break;case"focusin":q("focusout",Y)}}))}function W(){v.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),v=[]}function K(e){var t,n=!1;if(k.state.isEnabled&&!X(e)&&!h){var r="focus"===(null==(t=a)?void 0:t.type);a=e,u=e.currentTarget,L(),!k.state.isVisible&&qC(e)&&lN.forEach((function(t){return t(e)})),"click"===e.type&&(k.props.trigger.indexOf("mouseenter")<0||f)&&!1!==k.props.hideOnClick&&k.state.isVisible?n=!0:ee(e),"click"===e.type&&(f=!n),n&&!r&&te(e)}}function G(e){var t=e.target,n=A().contains(t)||w.contains(t);if("mousemove"!==e.type||!n){var r=$().concat(w).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:l}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,a=e.props.interactiveBorder,o=FC(i.placement),s=i.modifiersData.offset;if(!s)return!0;var u="bottom"===o?s.top.y:0,c="top"===o?s.bottom.y:0,l="right"===o?s.left.x:0,f="left"===o?s.right.x:0,h=t.top-r+u>a,d=r-t.bottom-c>a,p=t.left-n+l>a,v=n-t.right-f>a;return h||d||p||v}))})(r,e)&&(j(),te(e))}}function Q(e){X(e)||k.props.trigger.indexOf("click")>=0&&f||(k.props.interactive?k.hideWithInteractivity(e):te(e))}function Y(e){k.props.trigger.indexOf("focusin")<0&&e.target!==A()||k.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||te(e)}function X(e){return!!JC.isTouch&&E()!==e.type.indexOf("touch")>=0}function J(){Z();var t=k.props,n=t.popperOptions,r=t.placement,i=t.offset,a=t.getReferenceClientRect,o=t.moveTransition,u=T()?uN(w).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||A()}:e,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(T()){var n=N().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},f=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!o}},l];T()&&u&&f.push({name:"arrow",options:{element:u,padding:3}}),f.push.apply(f,(null==n?void 0:n.modifiers)||[]),k.popperInstance=AC(c,w,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:f}))}function Z(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}function $(){return UC(w.querySelectorAll("[data-tippy-root]"))}function ee(e){k.clearDelayTimeouts(),e&&R("onTrigger",[k,e]),V();var t=O(!0),r=S(),i=r[0],a=r[1];JC.isTouch&&"hold"===i&&a&&(t=a),t?n=setTimeout((function(){k.show()}),t):k.show()}function te(e){if(k.clearDelayTimeouts(),R("onUntrigger",[k,e]),k.state.isVisible){if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&f)){var t=O(!1);t?r=setTimeout((function(){k.state.isVisible&&k.hide()}),t):i=requestAnimationFrame((function(){k.hide()}))}}else B()}}function dN(e,t){void 0===t&&(t={});var n=iN.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",$C,NC),window.addEventListener("blur",tN);var r=Object.assign({},t,{plugins:n}),i=WC(e).reduce((function(e,t){var n=t&&hN(t,r);return n&&e.push(n),e}),[]);return zC(e)?i[0]:i}dN.defaultProps=iN,dN.setDefaultProps=function(e){Object.keys(e).forEach((function(t){iN[t]=e[t]}))},dN.currentInput=JC;Object.assign({},uC,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});dN.setDefaultProps({animation:!1});var pN=dN,vN=n(164);function mN(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var gN="undefined"!==typeof window&&"undefined"!==typeof document;function yN(e,t){e&&("function"===typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function kN(){return gN&&document.createElement("div")}function bN(e,t){if(e===t)return!0;if("object"===typeof e&&null!=e&&"object"===typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!bN(e[n],t[n]))return!1}return!0}return!1}function wN(e){var t=[];return e.forEach((function(e){t.find((function(t){return bN(e,t)}))||t.push(e)})),t}function xN(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:wN([].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(r=t.popperOptions)?void 0:r.modifiers)||[]))})})}var _N=gN?r.useLayoutEffect:r.useEffect;function IN(e){var t=(0,r.useRef)();return t.current||(t.current="function"===typeof e?e():e),t.current}function SN(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var EN={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){e.props.className&&!n()||SN(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&SN(t,"remove",e.props.className)},onAfterUpdate:r}}};function TN(e){return function(t){var n=t.children,i=t.content,a=t.visible,o=t.singleton,s=t.render,u=t.reference,c=t.disabled,l=void 0!==c&&c,f=t.ignoreAttributes,h=void 0===f||f,d=(t.__source,t.__self,mN(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),p=void 0!==a,v=void 0!==o,m=(0,r.useState)(!1),g=m[0],y=m[1],k=(0,r.useState)({}),b=k[0],w=k[1],x=(0,r.useState)(),_=x[0],I=x[1],S=IN((function(){return{container:kN(),renders:1}})),E=Object.assign({ignoreAttributes:h},d,{content:S.container});p&&(E.trigger="manual",E.hideOnClick=!1),v&&(l=!0);var T=E,A=E.plugins||[];s&&(T=Object.assign({},E,{plugins:v&&null!=o.data?[].concat(A,[{fn:function(){return{onTrigger:function(e,t){var n=o.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=n.instance,I(n.content)}}}}]):A,render:function(){return{popper:S.container}}}));var C=[u].concat(n?[n.type]:[]);return _N((function(){var t=u;u&&u.hasOwnProperty("current")&&(t=u.current);var n=e(t||S.ref||kN(),Object.assign({},T,{plugins:[EN].concat(E.plugins||[])}));return S.instance=n,l&&n.disable(),a&&n.show(),v&&o.hook({instance:n,content:i,props:T,setSingletonContent:I}),y(!0),function(){n.destroy(),null==o||o.cleanup(n)}}),C),_N((function(){var e;if(1!==S.renders){var t=S.instance;t.setProps(xN(t.props,T)),null==(e=t.popperInstance)||e.forceUpdate(),l?t.disable():t.enable(),p&&(a?t.show():t.hide()),v&&o.hook({instance:t,content:i,props:T,setSingletonContent:I})}else S.renders++})),_N((function(){var e;if(s){var t=S.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;b.placement===n.placement&&b.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&b.escaped===(null==r?void 0:r.hasPopperEscaped)||w({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}}),[b.placement,b.referenceHidden,b.escaped].concat(C)),r.createElement(r.Fragment,null,n?(0,r.cloneElement)(n,{ref:function(e){S.ref=e,yN(n.ref,e)}}):null,g&&(0,vN.createPortal)(s?s(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(b),_,S.instance):i,S.container))}}var AN=function(e,t){return(0,r.forwardRef)((function(n,i){var a=n.children,o=mN(n,["children"]);return r.createElement(e,Object.assign({},t,o),a?(0,r.cloneElement)(a,{ref:function(e){yN(i,e),yN(a.ref,e)}}):null)}))},CN=AN(TN(pN),{render:function(){return""}}),NN={logo:n(427),appstore:n(635),googleplay:n(415),loginBackground:n(917),loginSlide1:n(426),loginSlide2:n(948),loginSlide3:n(388),loginSlide4:n(510),avatar1:n(556),avatarDefault:n(642),postImage:n(339)},ON=n(184),DN=(0,ON.jsx)("svg",{"aria-label":"Home",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,ON.jsx)("path",{d:"M9.005 16.545a2.997 2.997 0 012.997-2.997h0A2.997 2.997 0 0115 16.545V22h7V11.543L12 2 2 11.543V22h7.005z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})}),RN=(0,ON.jsx)("svg",{"aria-label":"Home",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,ON.jsx)("path",{d:"M22 23h-6.001a1 1 0 01-1-1v-5.455a2.997 2.997 0 10-5.993 0V22a1 1 0 01-1 1H2a1 1 0 01-1-1V11.543a1.002 1.002 0 01.31-.724l10-9.543a1.001 1.001 0 011.38 0l10 9.543a1.002 1.002 0 01.31.724V22a1 1 0 01-1 1z"})}),PN=(0,ON.jsxs)("svg",{"aria-label":"Messenger",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,ON.jsx)("path",{d:"M12.003 2.001a9.705 9.705 0 110 19.4 10.876 10.876 0 01-2.895-.384.798.798 0 00-.533.04l-1.984.876a.801.801 0 01-1.123-.708l-.054-1.78a.806.806 0 00-.27-.569 9.49 9.49 0 01-3.14-7.175 9.65 9.65 0 0110-9.7z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"1.739"}),(0,ON.jsx)("path",{d:"M17.79 10.132a.659.659 0 00-.962-.873l-2.556 2.05a.63.63 0 01-.758.002L11.06 9.47a1.576 1.576 0 00-2.277.42l-2.567 3.98a.659.659 0 00.961.875l2.556-2.049a.63.63 0 01.759-.002l2.452 1.84a1.576 1.576 0 002.278-.42z",fillRule:"evenodd"})]}),LN=(0,ON.jsx)("svg",{"aria-label":"Messenger",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,ON.jsx)("path",{d:"M12.003 1.131a10.487 10.487 0 00-10.87 10.57 10.194 10.194 0 003.412 7.771l.054 1.78a1.67 1.67 0 002.342 1.476l1.935-.872a11.767 11.767 0 003.127.416 10.488 10.488 0 0010.87-10.57 10.487 10.487 0 00-10.87-10.57zm5.786 9.001l-2.566 3.983a1.577 1.577 0 01-2.278.42l-2.452-1.84a.63.63 0 00-.759.002l-2.556 2.049a.659.659 0 01-.96-.874L8.783 9.89a1.576 1.576 0 012.277-.42l2.453 1.84a.63.63 0 00.758-.003l2.556-2.05a.659.659 0 01.961.874z"})}),jN=(0,ON.jsxs)("svg",{"aria-label":"Upload",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,ON.jsx)("path",{d:"M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,ON.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"6.545",x2:"17.455",y1:"12.001",y2:"12.001"}),(0,ON.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.003",x2:"12.003",y1:"6.545",y2:"17.455"})]}),MN=(0,ON.jsx)("svg",{"aria-label":"Upload",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,ON.jsx)("path",{d:"M12.003 5.545l-.117.006-.112.02a1 1 0 00-.764.857l-.007.117V11H6.544l-.116.007a1 1 0 00-.877.876L5.545 12l.007.117a1 1 0 00.877.876l.116.007h4.457l.001 4.454.007.116a1 1 0 00.876.877l.117.007.117-.007a1 1 0 00.876-.877l.007-.116V13h4.452l.116-.007a1 1 0 00.877-.876l.007-.117-.007-.117a1 1 0 00-.877-.876L17.455 11h-4.453l.001-4.455-.007-.117a1 1 0 00-.876-.877zM8.552.999h6.896c2.754 0 4.285.579 5.664 1.912 1.255 1.297 1.838 2.758 1.885 5.302L23 8.55v6.898c0 2.755-.578 4.286-1.912 5.664-1.298 1.255-2.759 1.838-5.302 1.885l-.338.003H8.552c-2.754 0-4.285-.579-5.664-1.912-1.255-1.297-1.839-2.758-1.885-5.302L1 15.45V8.551c0-2.754.579-4.286 1.912-5.664C4.21 1.633 5.67 1.05 8.214 1.002L8.552 1z"})}),FN=(0,ON.jsxs)("svg",{"aria-label":"Trend",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,ON.jsx)("polygon",{fill:"none",points:"13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,ON.jsx)("polygon",{fillRule:"evenodd",points:"10.06 10.056 13.949 13.945 7.581 16.424 10.06 10.056"}),(0,ON.jsx)("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}),UN=(0,ON.jsx)("svg",{"aria-label":"Trend",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,ON.jsx)("path",{d:"M13.173 13.164l1.491-3.829-3.83 1.49zM12.001.5a11.5 11.5 0 1011.5 11.5A11.513 11.513 0 0012.001.5zm5.35 7.443l-2.478 6.369a1 1 0 01-.57.569l-6.36 2.47a1 1 0 01-1.294-1.294l2.48-6.369a1 1 0 01.57-.569l6.359-2.47a1 1 0 011.294 1.294z"})}),VN=(0,ON.jsx)("svg",{"aria-label":"Notification",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,ON.jsx)("path",{d:"M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z"})}),BN=(0,ON.jsx)("svg",{"aria-label":"Notification",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 48 48",width:"24",children:(0,ON.jsx)("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})}),zN=(0,ON.jsxs)("svg",{"aria-label":"Search",color:"#8e8e8e",fill:"#8e8e8e",height:"16",role:"img",viewBox:"0 0 24 24",width:"16",children:[(0,ON.jsx)("path",{d:"M19 10.5A8.5 8.5 0 1110.5 2a8.5 8.5 0 018.5 8.5z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,ON.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"16.511",x2:"22",y1:"16.511",y2:"22"})]}),qN=(0,ON.jsx)("svg",{"aria-label":"Instagram",color:"#262626",fill:"#262626",height:"29",role:"img",viewBox:"32 4 113 32",width:"103",children:(0,ON.jsx)("path",{clipRule:"evenodd",d:"M37.82 4.11c-2.32.97-4.86 3.7-5.66 7.13-1.02 4.34 3.21 6.17 3.56 5.57.4-.7-.76-.94-1-3.2-.3-2.9 1.05-6.16 2.75-7.58.32-.27.3.1.3.78l-.06 14.46c0 3.1-.13 4.07-.36 5.04-.23.98-.6 1.64-.33 1.9.32.28 1.68-.4 2.46-1.5a8.13 8.13 0 0 0 1.33-4.58c.07-2.06.06-5.33.07-7.19 0-1.7.03-6.71-.03-9.72-.02-.74-2.07-1.51-3.03-1.1Zm82.13 14.48a9.42 9.42 0 0 1-.88 3.75c-.85 1.72-2.63 2.25-3.39-.22-.4-1.34-.43-3.59-.13-5.47.3-1.9 1.14-3.35 2.53-3.22 1.38.13 2.02 1.9 1.87 5.16ZM96.8 28.57c-.02 2.67-.44 5.01-1.34 5.7-1.29.96-3 .23-2.65-1.72.31-1.72 1.8-3.48 4-5.64l-.01 1.66Zm-.35-10a10.56 10.56 0 0 1-.88 3.77c-.85 1.72-2.64 2.25-3.39-.22-.5-1.69-.38-3.87-.13-5.25.33-1.78 1.12-3.44 2.53-3.44 1.38 0 2.06 1.5 1.87 5.14Zm-13.41-.02a9.54 9.54 0 0 1-.87 3.8c-.88 1.7-2.63 2.24-3.4-.23-.55-1.77-.36-4.2-.13-5.5.34-1.95 1.2-3.32 2.53-3.2 1.38.14 2.04 1.9 1.87 5.13Zm61.45 1.81c-.33 0-.49.35-.61.93-.44 2.02-.9 2.48-1.5 2.48-.66 0-1.26-1-1.42-3-.12-1.58-.1-4.48.06-7.37.03-.59-.14-1.17-1.73-1.75-.68-.25-1.68-.62-2.17.58a29.65 29.65 0 0 0-2.08 7.14c0 .06-.08.07-.1-.06-.07-.87-.26-2.46-.28-5.79 0-.65-.14-1.2-.86-1.65-.47-.3-1.88-.81-2.4-.2-.43.5-.94 1.87-1.47 3.48l-.74 2.2.01-4.88c0-.5-.34-.67-.45-.7a9.54 9.54 0 0 0-1.8-.37c-.48 0-.6.27-.6.67 0 .05-.08 4.65-.08 7.87v.46c-.27 1.48-1.14 3.49-2.09 3.49s-1.4-.84-1.4-4.68c0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81-.01-.5-.87-.75-1.27-.85-.4-.09-.76-.13-1.03-.11-.4.02-.67.27-.67.62v.55a3.71 3.71 0 0 0-1.83-1.49c-1.44-.43-2.94-.05-4.07 1.53a9.31 9.31 0 0 0-1.66 4.73c-.16 1.5-.1 3.01.17 4.3-.33 1.44-.96 2.04-1.64 2.04-.99 0-1.7-1.62-1.62-4.4.06-1.84.42-3.13.82-4.99.17-.8.04-1.2-.31-1.6-.32-.37-1-.56-1.99-.33-.7.16-1.7.34-2.6.47 0 0 .05-.21.1-.6.23-2.03-1.98-1.87-2.69-1.22-.42.39-.7.84-.82 1.67-.17 1.3.9 1.91.9 1.91a22.22 22.22 0 0 1-3.4 7.23v-.7c-.01-3.36.03-6 .05-6.95.02-.94.06-1.63.06-1.8 0-.36-.22-.5-.66-.67-.4-.16-.86-.26-1.34-.3-.6-.05-.97.27-.96.65v.52a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.94-.05-4.07 1.53a10.1 10.1 0 0 0-1.66 4.72c-.15 1.57-.13 2.9.09 4.04-.23 1.13-.89 2.3-1.63 2.3-.95 0-1.5-.83-1.5-4.67 0-2.24.07-3.21.1-4.83.02-.94.06-1.65.06-1.81 0-.5-.87-.75-1.27-.85-.42-.1-.79-.13-1.06-.1-.37.02-.63.35-.63.6v.56a3.7 3.7 0 0 0-1.84-1.49c-1.44-.43-2.93-.04-4.07 1.53-.75 1.03-1.35 2.17-1.66 4.7a15.8 15.8 0 0 0-.12 2.04c-.3 1.81-1.61 3.9-2.68 3.9-.63 0-1.23-1.21-1.23-3.8 0-3.45.22-8.36.25-8.83l1.62-.03c.68 0 1.29.01 2.19-.04.45-.02.88-1.64.42-1.84-.21-.09-1.7-.17-2.3-.18-.5-.01-1.88-.11-1.88-.11s.13-3.26.16-3.6c.02-.3-.35-.44-.57-.53a7.77 7.77 0 0 0-1.53-.44c-.76-.15-1.1 0-1.17.64-.1.97-.15 3.82-.15 3.82-.56 0-2.47-.11-3.02-.11-.52 0-1.08 2.22-.36 2.25l3.2.09-.03 6.53v.47c-.53 2.73-2.37 4.2-2.37 4.2.4-1.8-.42-3.15-1.87-4.3-.54-.42-1.6-1.22-2.79-2.1 0 0 .69-.68 1.3-2.04.43-.96.45-2.06-.61-2.3-1.75-.41-3.2.87-3.63 2.25a2.61 2.61 0 0 0 .5 2.66l.15.19c-.4.76-.94 1.78-1.4 2.58-1.27 2.2-2.24 3.95-2.97 3.95-.58 0-.57-1.77-.57-3.43 0-1.43.1-3.58.19-5.8.03-.74-.34-1.16-.96-1.54a4.33 4.33 0 0 0-1.64-.69c-.7 0-2.7.1-4.6 5.57-.23.69-.7 1.94-.7 1.94l.04-6.57c0-.16-.08-.3-.27-.4a4.68 4.68 0 0 0-1.93-.54c-.36 0-.54.17-.54.5l-.07 10.3c0 .78.02 1.69.1 2.09.08.4.2.72.36.91.15.2.33.34.62.4.28.06 1.78.25 1.86-.32.1-.69.1-1.43.89-4.2 1.22-4.31 2.82-6.42 3.58-7.16.13-.14.28-.14.27.07l-.22 5.32c-.2 5.37.78 6.36 2.17 6.36 1.07 0 2.58-1.06 4.2-3.74l2.7-4.5 1.58 1.46c1.28 1.2 1.7 2.36 1.42 3.45-.21.83-1.02 1.7-2.44.86-.42-.25-.6-.44-1.01-.71-.23-.15-.57-.2-.78-.04-.53.4-.84.92-1.01 1.55-.17.61.45.94 1.09 1.22.55.25 1.74.47 2.5.5 2.94.1 5.3-1.42 6.94-5.34.3 3.38 1.55 5.3 3.72 5.3 1.45 0 2.91-1.88 3.55-3.72.18.75.45 1.4.8 1.96 1.68 2.65 4.93 2.07 6.56-.18.5-.69.58-.94.58-.94a3.07 3.07 0 0 0 2.94 2.87c1.1 0 2.23-.52 3.03-2.31.09.2.2.38.3.56 1.68 2.65 4.93 2.07 6.56-.18l.2-.28.05 1.4-1.5 1.37c-2.52 2.3-4.44 4.05-4.58 6.09-.18 2.6 1.93 3.56 3.53 3.69a4.5 4.5 0 0 0 4.04-2.11c.78-1.15 1.3-3.63 1.26-6.08l-.06-3.56a28.55 28.55 0 0 0 5.42-9.44s.93.01 1.92-.05c.32-.02.41.04.35.27-.07.28-1.25 4.84-.17 7.88.74 2.08 2.4 2.75 3.4 2.75 1.15 0 2.26-.87 2.85-2.17l.23.42c1.68 2.65 4.92 2.07 6.56-.18.37-.5.58-.94.58-.94.36 2.2 2.07 2.88 3.05 2.88 1.02 0 2-.42 2.78-2.28.03.82.08 1.49.16 1.7.05.13.34.3.56.37.93.34 1.88.18 2.24.11.24-.05.43-.25.46-.75.07-1.33.03-3.56.43-5.21.67-2.79 1.3-3.87 1.6-4.4.17-.3.36-.35.37-.03.01.64.04 2.52.3 5.05.2 1.86.46 2.96.65 3.3.57 1 1.27 1.05 1.83 1.05.36 0 1.12-.1 1.05-.73-.03-.31.02-2.22.7-4.96.43-1.79 1.15-3.4 1.41-4 .1-.21.15-.04.15 0-.06 1.22-.18 5.25.32 7.46.68 2.98 2.65 3.32 3.34 3.32 1.47 0 2.67-1.12 3.07-4.05.1-.7-.05-1.25-.48-1.25Z",fill:"currentColor",fillRule:"evenodd"})}),HN=(0,ON.jsxs)("svg",{"aria-label":"Loading...",viewBox:"0 0 100 100",children:[(0,ON.jsx)("rect",{fill:"#555555",height:"10",opacity:"0",rx:"5",ry:"5",transform:"rotate(-90 50 50)",width:"28",x:"67",y:"45"}),(0,ON.jsx)("rect",{fill:"#555555",height:"10",opacity:"0.125",rx:"5",ry:"5",transform:"rotate(-45 50 50)",width:"28",x:"67",y:"45"}),(0,ON.jsx)("rect",{fill:"#555555",height:"10",opacity:"0.25",rx:"5",ry:"5",transform:"rotate(0 50 50)",width:"28",x:"67",y:"45"}),(0,ON.jsx)("rect",{fill:"#555555",height:"10",opacity:"0.375",rx:"5",ry:"5",transform:"rotate(45 50 50)",width:"28",x:"67",y:"45"}),(0,ON.jsx)("rect",{fill:"#555555",height:"10",opacity:"0.5",rx:"5",ry:"5",transform:"rotate(90 50 50)",width:"28",x:"67",y:"45"}),(0,ON.jsx)("rect",{fill:"#555555",height:"10",opacity:"0.625",rx:"5",ry:"5",transform:"rotate(135 50 50)",width:"28",x:"67",y:"45"}),(0,ON.jsx)("rect",{fill:"#555555",height:"10",opacity:"0.75",rx:"5",ry:"5",transform:"rotate(180 50 50)",width:"28",x:"67",y:"45"}),(0,ON.jsx)("rect",{fill:"#555555",height:"10",opacity:"0.875",rx:"5",ry:"5",transform:"rotate(225 50 50)",width:"28",x:"67",y:"45"})]}),WN=(0,ON.jsxs)("svg",{"aria-label":"Close",color:"#ffffff",fill:"#ffffff",height:"24",role:"img",viewBox:"0 0 48 48",width:"24",children:[(0,ON.jsx)("title",{children:"Close"}),(0,ON.jsx)("path",{clipRule:"evenodd",d:"M41.8 9.8L27.5 24l14.2 14.2c.6.6.6 1.5 0 2.1l-1.4 1.4c-.6.6-1.5.6-2.1 0L24 27.5 9.8 41.8c-.6.6-1.5.6-2.1 0l-1.4-1.4c-.6-.6-.6-1.5 0-2.1L20.5 24 6.2 9.8c-.6-.6-.6-1.5 0-2.1l1.4-1.4c.6-.6 1.5-.6 2.1 0L24 20.5 38.3 6.2c.6-.6 1.5-.6 2.1 0l1.4 1.4c.6.6.6 1.6 0 2.2z",fillRule:"evenodd"})]}),KN=(0,ON.jsxs)("svg",{"aria-label":"Image icon",color:"#262626",fill:"#262626",height:"77",role:"img",viewBox:"0 0 97.6 77.3",width:"96",children:[(0,ON.jsx)("path",{d:"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z",fill:"currentColor"}),(0,ON.jsx)("path",{d:"M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z",fill:"currentColor"}),(0,ON.jsx)("path",{d:"M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z",fill:"currentColor"})]}),GN=(0,ON.jsxs)("svg",{"aria-label":"User",color:"#262626",fill:"#262626",height:"16",role:"img",viewBox:"0 0 24 24",width:"16",children:[(0,ON.jsx)("circle",{cx:"12.004",cy:"12.004",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),(0,ON.jsx)("path",{d:"M18.793 20.014a6.08 6.08 0 00-1.778-2.447 3.991 3.991 0 00-2.386-.791H9.38a3.994 3.994 0 00-2.386.791 6.09 6.09 0 00-1.779 2.447",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),(0,ON.jsx)("circle",{cx:"12.006",cy:"9.718",fill:"none",r:"4.109",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})]}),QN=(0,ON.jsx)("svg",{"aria-label":"Saved",color:"#262626",fill:"#262626",height:"16",role:"img",viewBox:"0 0 24 24",width:"16",children:(0,ON.jsx)("polygon",{fill:"none",points:"20 21 12 13.44 4 21 4 3 20 3 20 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}),YN=(0,ON.jsxs)("svg",{"aria-label":"Setting",color:"#262626",fill:"#262626",height:"16",role:"img",viewBox:"0 0 24 24",width:"16",children:[(0,ON.jsx)("circle",{cx:"12",cy:"12",fill:"none",r:"8.635",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,ON.jsx)("path",{d:"M14.232 3.656a1.269 1.269 0 01-.796-.66L12.93 2h-1.86l-.505.996a1.269 1.269 0 01-.796.66m-.001 16.688a1.269 1.269 0 01.796.66l.505.996h1.862l.505-.996a1.269 1.269 0 01.796-.66M3.656 9.768a1.269 1.269 0 01-.66.796L2 11.07v1.862l.996.505a1.269 1.269 0 01.66.796m16.688-.001a1.269 1.269 0 01.66-.796L22 12.93v-1.86l-.996-.505a1.269 1.269 0 01-.66-.796M7.678 4.522a1.269 1.269 0 01-1.03.096l-1.06-.348L4.27 5.587l.348 1.062a1.269 1.269 0 01-.096 1.03m11.8 11.799a1.269 1.269 0 011.03-.096l1.06.348 1.318-1.317-.348-1.062a1.269 1.269 0 01.096-1.03m-14.956.001a1.269 1.269 0 01.096 1.03l-.348 1.06 1.317 1.318 1.062-.348a1.269 1.269 0 011.03.096m11.799-11.8a1.269 1.269 0 01-.096-1.03l.348-1.06-1.317-1.318-1.062.348a1.269 1.269 0 01-1.03-.096",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})]}),XN=(0,ON.jsx)("svg",{"aria-label":"Change Account",color:"#262626",fill:"#262626",height:"16",role:"img",viewBox:"0 0 24 24",width:"16",children:(0,ON.jsx)("path",{d:"M8 8.363a1 1 0 00-1-1H4.31a8.977 8.977 0 0114.054-1.727 1 1 0 101.414-1.414A11.003 11.003 0 003 5.672V3.363a1 1 0 10-2 0v5a1 1 0 001 1h5a1 1 0 001-1zm14 6.274h-5a1 1 0 000 2h2.69a8.977 8.977 0 01-14.054 1.727 1 1 0 00-1.414 1.414A11.004 11.004 0 0021 18.33v2.307a1 1 0 002 0v-5a1 1 0 00-1-1z"})}),JN=(0,ON.jsxs)("svg",{"aria-label":"Option",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,ON.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,ON.jsx)("circle",{cx:"6",cy:"12",r:"1.5"}),(0,ON.jsx)("circle",{cx:"18",cy:"12",r:"1.5"})]}),ZN=(0,ON.jsx)("svg",{"aria-label":"Like",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,ON.jsx)("path",{d:"M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"})}),$N=(0,ON.jsx)("svg",{"aria-label":"Liked",color:"#ed4956",fill:"#ed4956",height:"24",role:"img",viewBox:"0 0 48 48",width:"24",children:(0,ON.jsx)("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})}),eO=(0,ON.jsx)("svg",{"aria-label":"Comment",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,ON.jsx)("path",{d:"M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})}),tO=(0,ON.jsxs)("svg",{"aria-label":"Share",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,ON.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"22",x2:"9.218",y1:"3",y2:"10.083"}),(0,ON.jsx)("polygon",{fill:"none",points:"11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})]}),nO=(0,ON.jsx)("svg",{"aria-label":"Emotion icon",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,ON.jsx)("path",{d:"M15.83 10.997a1.167 1.167 0 101.167 1.167 1.167 1.167 0 00-1.167-1.167zm-6.5 1.167a1.167 1.167 0 10-1.166 1.167 1.167 1.167 0 001.166-1.167zm5.163 3.24a3.406 3.406 0 01-4.982.007 1 1 0 10-1.557 1.256 5.397 5.397 0 008.09 0 1 1 0 00-1.55-1.263zM12 .503a11.5 11.5 0 1011.5 11.5A11.513 11.513 0 0012 .503zm0 21a9.5 9.5 0 119.5-9.5 9.51 9.51 0 01-9.5 9.5z"})}),rO=(0,ON.jsx)("svg",{"aria-label":"Verified",color:"#0095f6",fill:"#0095f6",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,ON.jsx)("path",{d:"M12.001.504a11.5 11.5 0 1011.5 11.5 11.513 11.513 0 00-11.5-11.5zm5.706 9.21l-6.5 6.495a1 1 0 01-1.414-.001l-3.5-3.503a1 1 0 111.414-1.414l2.794 2.796L16.293 8.3a1 1 0 011.414 1.415z"})});var iO=function(e,t){var n=c((0,r.useState)(e),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){var n=setTimeout((function(){a(e)}),t);return function(){return clearTimeout(n)}}),[e]),i};var aO=function(){return{get:function(e){return JSON.parse(window.localStorage.getItem(e))},set:function(e,t){return window.localStorage.setItem(e,JSON.stringify(t))},remove:function(e){return window.localStorage.removeItem(e)}}};function oO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var sO=["to","href","disabled","children","outline","text","rounded","primary","small","medium","large","font12","font14","leftIcon","rightIcon","onClick","className"],uO=re().bind({wrapper:"Button_wrapper__DbS3O",disabled:"Button_disabled__Xdh44",icon:"Button_icon__ll2Wu",title:"Button_title__6oAFY",primary:"Button_primary__KTObv",text:"Button_text__lTwIk",outline:"Button_outline__5D8p3",rounded:"Button_rounded__vta7H",small:"Button_small__uunP6",medium:"Button_medium__78NHL",large:"Button_large__kbDEq",font12:"Button_font12__Wf1mr",font14:"Button_font14__o9qhk"});var cO=function(e){var t,n=e.to,r=e.href,i=e.disabled,a=e.children,o=e.outline,s=void 0!==o&&o,u=e.text,c=void 0!==u&&u,l=e.rounded,f=void 0!==l&&l,h=e.primary,d=void 0!==h&&h,p=e.small,v=e.medium,m=e.large,g=e.font12,y=e.font14,k=e.leftIcon,b=e.rightIcon,w=e.onClick,x=e.className,_="button",I=ot({onClick:w},oO(e,sO));i&&Object.keys(I).forEach((function(e){e.startsWith("on")&&"function"===typeof I[e]&&delete I[e]})),n?(I.to=n,_=J):r&&(I.href=r,_="a");var S=uO("wrapper",(ie(t={},x,x),ie(t,"primary",d),ie(t,"text",c),ie(t,"outline",s),ie(t,"rounded",f),ie(t,"small",p),ie(t,"medium",v),ie(t,"large",m),ie(t,"font12",g),ie(t,"font14",y),ie(t,"disabled",i),t));return(0,ON.jsxs)(_,ot(ot({className:S},I),{},{children:[k&&(0,ON.jsx)("span",{className:uO("icon"),children:k}),(0,ON.jsx)("span",{className:uO("title"),children:a}),b&&(0,ON.jsx)("span",{className:uO("icon"),children:b})]}))},lO=re().bind({load:"Loading_load__fFs+i","load-icon":"Loading_load-icon__GUa03",loadSpin:"Loading_loadSpin__2eJl0",small:"Loading_small__vsjf+",medium:"Loading_medium__Wqyjs",large:"Loading_large__TGiAT"});var fO=function(e){var t,n=e.small,r=e.medium,i=e.large,a=e.className,o=lO("load",(ie(t={},a,a),ie(t,"small",n),ie(t,"medium",r),ie(t,"large",i),t));return(0,ON.jsx)("div",{className:o,children:(0,ON.jsx)("div",{className:lO("load-icon"),children:HN})})},hO=re().bind({search:"Search_search__8LWLK","search-active":"Search_search-active__6DXdN","search-input":"Search_search-input__ummzx","search-delete":"Search_search-delete__IxdZj","search-load":"Search_search-load__+giKd","search-box":"Search_search-box__SntIh","search-icon":"Search_search-icon__fto4n","search-result":"Search_search-result__UKyNZ",arrow:"Search_arrow__nfEOJ","account-list":"Search_account-list__6s2Me","account-item":"Search_account-item__M2iVn","account-img":"Search_account-img__wej+-","account-img-link":"Search_account-img-link__z8B3J","account-info":"Search_account-info__dU9Iq","account-username":"Search_account-username__fdRA2","account-verified":"Search_account-verified__JGZgY","account-fullname":"Search_account-fullname__16EeN","account-delete":"Search_account-delete__tzpJf","recent-result":"Search_recent-result__-h6US","recent-title":"Search_recent-title__CjLQR","recent-list":"Search_recent-list__avLjf","recent-list-empty":"Search_recent-list-empty__UJtvm"});var dO=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1],i=c((0,r.useState)([]),2),a=i[0],o=i[1],s=c((0,r.useState)(""),2),u=s[0],l=s[1],f=c((0,r.useState)(!1),2),h=f[0],d=f[1],p=c((0,r.useState)(!1),2),v=p[0],m=p[1],g=c((0,r.useState)(!1),2),y=g[0],k=g[1],b=aO(),w=(0,r.useRef)(),x=iO(u,800),_=function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(!0);case 2:return e.next=4,w.current.select();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){I()}),[x]);var I=function(){var e=te($().mark((function e(){var t,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.trim()){e.next=3;break}return n([]),e.abrupt("return");case 3:return k(!0),t=$g(Xm(uA,"user"),ty("username",">=",x)),e.next=7,_y(t);case 7:r=e.sent,i=r.docs.map((function(e){return e.data()})),n(i),k(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){S()}),[]);var S=function(){var e=te($().mark((function e(){var t,n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=b.get("recentSearch"))){e.next=9;break}n=$().mark((function e(n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jm(uA,"user",t[n]),e.next=3,by(r);case 3:i=e.sent,o((function(e){return[].concat(Ke(e),[i.data()])}));case 5:case"end":return e.stop()}}),e)})),r=0;case 4:if(!(r<t.length)){e.next=9;break}return e.delegateYield(n(r),"t0",6);case 6:r++,e.next=4;break;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ON.jsx)("div",{children:(0,ON.jsx)(CN,{visible:v,interactive:!0,onClickOutside:function(){m(!1)},render:function(e){return(0,ON.jsxs)("div",ot(ot({className:hO("search-result"),tabIndex:"-1"},e),{},{children:[(0,ON.jsx)("div",{className:hO("arrow")}),(0,ON.jsx)("div",{className:hO("account-list"),children:h?t.map((function(e){return(0,ON.jsxs)(J,{className:hO("account-item"),to:"/".concat(e.username),onClick:function(){return function(e){var t=b.get("recentSearch");null===t?b.set("recentSearch",[e]):t.every((function(n,r){return n!==e||(t.splice(r,1),t.unshift(n),!1)}))&&b.set("recentSearch",[].concat(Ke(t),[e]))}(e.uid)},children:[(0,ON.jsxs)("div",{className:hO("account-img"),children:[" ",(0,ON.jsx)("img",{src:e.profile_pic_url||NN.avatarDefault,className:hO("account-img-link")})," "]}),(0,ON.jsxs)("div",{className:hO("account-info"),children:[(0,ON.jsxs)("div",{className:hO("account-username"),children:[e.username," ",e.is_verified&&(0,ON.jsx)("span",{className:hO("account-verified")})]}),(0,ON.jsx)("div",{className:hO("account-fullname"),children:e.full_name})]})]},e.uid)})):(0,ON.jsxs)("div",{className:hO("recent-result"),children:[(0,ON.jsxs)("div",{className:hO("recent-title"),children:[(0,ON.jsx)("h4",{children:"G\u1ea7n \u0111\xe2y"}),a.length>0&&(0,ON.jsx)(cO,{text:!0,onClick:function(){o([]),b.remove("recentSearch")},children:"X\xf3a t\u1ea5t c\u1ea3"})]}),a.length>0?(0,ON.jsx)(ON.Fragment,{children:a.map((function(e,t){return(0,ON.jsxs)(J,{className:hO("account-item"),to:"/".concat(e.username),children:[(0,ON.jsxs)("div",{className:hO("account-img"),children:[" ",(0,ON.jsx)("img",{src:e.profile_pic_url||NN.avatarDefault,className:hO("account-img-link")})," "]}),(0,ON.jsxs)("div",{className:hO("account-info"),children:[(0,ON.jsxs)("div",{className:hO("account-username"),children:[e.username," ",e.is_verified&&(0,ON.jsx)("span",{className:hO("account-verified")})]}),(0,ON.jsx)("div",{className:hO("account-fullname"),children:e.full_name})]}),(0,ON.jsx)("div",{className:hO("account-delete"),onClick:function(n){n.preventDefault(),function(e,t){a.splice(e,1),o(Ke(a));for(var n=b.get("recentSearch"),r=0;r<n.length;r++)n[r]===t&&n.splice(r,1);b.set("recentSearch",n)}(t,e.uid)},children:WN})]},e.uid)}))}):(0,ON.jsx)("div",{className:hO("recent-list-empty"),children:"Kh\xf4ng c\xf3 n\u1ed9i dung t\xecm ki\u1ebfm m\u1edbi \u0111\xe2y."})]})})]}))},children:(0,ON.jsx)("div",{className:hO("search"),children:v?(0,ON.jsxs)("div",{className:hO("search-active"),children:[(0,ON.jsx)("input",{ref:w,value:u,type:"text",placeholder:"T\xecm ki\u1ebfm",className:hO("search-input"),onChange:function(e){l(e.target.value),d(!0)},onFocus:function(){m(!0),t.length>0?d(!0):d(!1)}})," ",y?(0,ON.jsx)("div",{className:hO("search-load"),children:(0,ON.jsx)(fO,{medium:!0})}):(0,ON.jsx)("div",{className:hO("search-delete"),onClick:function(){l(""),d(!1),m(!1)}})]}):(0,ON.jsxs)("div",{className:hO("search-box"),onClick:function(){return _()},children:[(0,ON.jsx)("div",{className:hO("search-icon"),children:zN}),(0,ON.jsx)("span",{children:""===u?"T\xecm ki\u1ebfm":u})]})})})})},pO=re().bind({close:"ModalUpload_close__KTQPZ",modal:"ModalUpload_modal__zHug+","modal-wrapper":"ModalUpload_modal-wrapper__Z1cs8","fade-in":"ModalUpload_fade-in__rRBpg","modal-heading":"ModalUpload_modal-heading__HY67V","modal-heading-cancel":"ModalUpload_modal-heading-cancel__Y8vfr","modal-heading-title":"ModalUpload_modal-heading-title__vhh4m","modal-heading-share":"ModalUpload_modal-heading-share__+dK2Q","modal-content":"ModalUpload_modal-content__W4bgi","content-upload":"ModalUpload_content-upload__iIJMw","content-image__main":"ModalUpload_content-image__main__nhuB2","content-image__list":"ModalUpload_content-image__list__1xvoj","content-image__item":"ModalUpload_content-image__item__gBLV2","content-btn-right":"ModalUpload_content-btn-right__xTfay","content-btn-img":"ModalUpload_content-btn-img__da9WQ","content-btn-left":"ModalUpload_content-btn-left__5D7xy","content-pagi":"ModalUpload_content-pagi__Iq3T6","content-pagi__step":"ModalUpload_content-pagi__step__ERUqK","content-upload-caption":"ModalUpload_content-upload-caption__wa4hX","user-info":"ModalUpload_user-info__lr7-0","user-avatar":"ModalUpload_user-avatar__uEDFm","user-name":"ModalUpload_user-name__wkT5C",username:"ModalUpload_username__F8i1p","content-upload-input":"ModalUpload_content-upload-input__ssvJ1","content-upload-textarea":"ModalUpload_content-upload-textarea__UZ1hv","content-upload-more":"ModalUpload_content-upload-more__s7vJb","content-upload-emoji":"ModalUpload_content-upload-emoji__5DGum","content-upload-count":"ModalUpload_content-upload-count__vLB4l","content-title":"ModalUpload_content-title__hDxSs","content-btn":"ModalUpload_content-btn__mUqqK","content-input":"ModalUpload_content-input__O-GmT"});var vO=function(e){var t=e.onCancelUpload,n=c((0,r.useState)({}),2),i=n[0],a=n[1],o=c((0,r.useState)([]),2),s=o[0],u=o[1],l=c((0,r.useState)(""),2),f=l[0],h=l[1],d=c((0,r.useState)(""),2),p=d[0],v=d[1],m=c((0,r.useState)(!1),2),g=m[0],y=m[1],k=c((0,r.useState)(!1),2),b=k[0],w=k[1],x=(0,r.useRef)(),_=(0,r.useRef)(),I=(0,r.useRef)();(0,r.useEffect)((function(){cA.onAuthStateChanged(function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&v(t.uid);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var S=function(){var e=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(Ke(t.target.files)),t.target.files.length>1&&y(!0),n=Jm(uA,"user",p),e.next=5,by(n);case 5:r=e.sent,a(r.data());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=te($().mark((function e(){var n,r,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=0;case 2:if(!(r<s.length)){e.next=11;break}return a=lA.ref("".concat(p,"/").concat(s[r].name)),e.next=6,a.put(s[r]);case 6:return e.next=8,a.getDownloadURL().then((function(e){e&&n.push(e)})).catch((function(e){alert(e)}));case 8:r++,e.next=2;break;case 11:o={uid:p,post_img_url:n,caption:f,comment:[],like_by:[],time:ns.now().seconds},uA.collection("media").doc(p).collection("listPost").add(o).then(function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jm(uA,"posts",p),e.next=3,Ey(n,{post:Py("".concat(p,"@*#_").concat(t.id))});case 3:i.followed_by.forEach(function(){var e=te($().mark((function e(n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jm(uA,"posts",n),e.next=3,Ey(r,{post:Py("".concat(p,"@*#_").concat(t.id))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){t()})).catch((function(e){console.log(e)}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ON.jsxs)("div",{className:pO("modal"),onClick:t,children:[(0,ON.jsx)("div",{className:pO("close"),children:WN}),(0,ON.jsxs)("div",{className:pO("modal-wrapper"),onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[(0,ON.jsxs)("div",{className:pO("modal-heading"),children:[s.length>0&&(0,ON.jsx)("span",{className:pO("modal-heading-cancel"),onClick:t,children:"H\u1ee7y"}),(0,ON.jsx)("span",{className:pO("modal-heading-title"),children:"T\u1ea1o b\xe0i vi\u1ebft m\u1edbi"}),s.length>0&&(0,ON.jsx)("span",{className:pO("modal-heading-share"),onClick:E,children:"Chia s\u1ebb"})]}),(0,ON.jsx)("div",{className:pO("modal-content"),children:s.length>0?(0,ON.jsxs)("div",{className:pO("content-upload"),children:[(0,ON.jsxs)("div",{className:pO("content-image__main"),children:[(0,ON.jsx)("div",{className:pO("content-image__list"),ref:_,children:s.map((function(e,t){var n=URL.createObjectURL(e);return(0,ON.jsx)("div",{className:pO("content-image__item"),children:(0,ON.jsx)("img",{src:n})},t)}))}),g&&(0,ON.jsx)("div",{className:pO("content-btn-right"),onClick:function(e){return function(e){var t=window.getComputedStyle(_.current),n=new DOMMatrixReadOnly(t.transform).m41,r=750*s.length;r+n>750&&(n%750!==0&&n%750!==-0||(r+n==1500&&y(!1),_.current.style.transform="translateX(".concat(n-750,"px)"),I.current.querySelectorAll("div").forEach((function(e,t){"rgb(0, 149, 246)"==window.getComputedStyle(e).getPropertyValue("background-color")&&(e.style.background="rgb(166, 166, 166)",I.current.querySelectorAll("div")[t+1].style.background="rgb(0, 149, 246)")})),w(!0)))}()},children:(0,ON.jsx)("div",{className:pO("content-btn-img")})}),b&&(0,ON.jsx)("div",{className:pO("content-btn-left"),onClick:function(e){return function(){var e=window.getComputedStyle(_.current),t=new DOMMatrixReadOnly(e.transform).m41;t<0&&(t%750!==0&&t%750!==-0||(-750===t&&w(!1),_.current.style.transform="translateX(".concat(t+750,"px)"),I.current.querySelectorAll("div").forEach((function(e,t){"rgb(0, 149, 246)"==window.getComputedStyle(e).getPropertyValue("background-color")&&(e.style.background="rgb(166, 166, 166)",I.current.querySelectorAll("div")[t-1].style.background="rgb(0, 149, 246)")})),y(!0)))}()},children:(0,ON.jsx)("div",{className:pO("content-btn-img")})}),(0,ON.jsx)("div",{className:pO("content-pagi"),ref:I,children:s.length>1&&s.map((function(e,t){return(0,ON.jsx)("div",{className:pO("content-pagi__step")},t)}))})]}),(0,ON.jsxs)("div",{className:pO("content-upload-caption"),children:[(0,ON.jsxs)("div",{className:pO("user-info"),children:[(0,ON.jsx)("div",{className:pO("user-avatar"),children:(0,ON.jsx)(J,{to:"/".concat(i.username),children:(0,ON.jsx)("img",{src:i.profile_pic_url||NN.avatarDefault})})}),(0,ON.jsx)("div",{className:pO("user-name"),children:(0,ON.jsxs)(J,{to:"/".concat(i.username),className:pO("username"),children:[i.username," ",i.is_verified&&(0,ON.jsx)("span",{className:pO("account-verified")})]})})]}),(0,ON.jsxs)("div",{className:pO("content-upload-input"),children:[(0,ON.jsx)("textarea",{placeholder:"Vi\u1ebft ch\xfa th\xedch...",autoComplete:"off",autoCorrect:"off",className:pO("content-upload-textarea"),onChange:function(e){return h(e.target.value)}}),(0,ON.jsxs)("div",{className:pO("content-upload-more"),children:[(0,ON.jsx)("div",{className:pO("content-upload-emoji"),children:(0,ON.jsx)("div",{children:nO})}),(0,ON.jsx)("div",{className:pO("content-upload-count"),children:"".concat(f.length,"/2200")})]})]})]})]}):(0,ON.jsxs)(ON.Fragment,{children:[(0,ON.jsx)("div",{className:pO("content-img"),children:KN}),(0,ON.jsx)("div",{className:pO("content-title"),children:(0,ON.jsx)("h2",{children:"K\xe9o \u1ea3nh v\xe0 video v\xe0o \u0111\xe2y"})}),(0,ON.jsxs)("div",{className:pO("content-btn"),children:[(0,ON.jsx)(cO,{primary:!0,medium:!0,onClick:function(){x.current.click()},children:"Ch\u1ecdn t\u1eeb m\xe1y t\xednh"}),(0,ON.jsx)("input",{ref:x,type:"file",name:"myFile",multiple:"multiple",className:pO("content-input"),onChange:function(e){return S(e)}})]})]})})]})]})},mO=re().bind({modal:"ModalAutoForm_modal__vLi2M","modal-wrapper":"ModalAutoForm_modal-wrapper__iB0UR","modal-title":"ModalAutoForm_modal-title__addQX","modal-heading":"ModalAutoForm_modal-heading__JLJcd","modal-content":"ModalAutoForm_modal-content__6v2VV","modal-btn":"ModalAutoForm_modal-btn__SJ3lq","modal-btn-delete":"ModalAutoForm_modal-btn-delete__PAgrm","modal-btn-cancel":"ModalAutoForm_modal-btn-cancel__eRbeD"});var gO=function(e){var t=e.nameDelete,n=e.onDelete,r=e.onCancelDelete;return(0,ON.jsx)("div",{className:mO("modal"),onClick:r,children:(0,ON.jsxs)("div",{className:mO("modal-wrapper"),onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[(0,ON.jsxs)("div",{className:mO("modal-title"),children:[(0,ON.jsx)("h3",{className:mO("modal-heading"),children:"G\u1ee1 t\xe0i kho\u1ea3n?"}),(0,ON.jsxs)("div",{className:mO("modal-content"),children:["B\u1ea1n c\u1ea7n nh\u1eadp t\xean ng\u01b0\u1eddi d\xf9ng v\xe0 m\u1eadt kh\u1ea9u v\xe0o l\u1ea7n t\u1edbi khi \u0111\u0103ng nh\u1eadp v\u1edbi t\u01b0 c\xe1ch ",t]})]}),(0,ON.jsxs)("div",{className:mO("modal-btn"),children:[(0,ON.jsx)(cO,{text:!0,className:mO("modal-btn-delete"),onClick:n,children:"G\u1ee1"}),(0,ON.jsx)(cO,{text:!0,className:mO("modal-btn-cancel"),onClick:r,children:"H\u1ee7y"})]})]})})},yO=re().bind({modal:"ModalChangeAccount_modal__7YsmO","modal-wrapper":"ModalChangeAccount_modal-wrapper__8cRHJ","modal-title":"ModalChangeAccount_modal-title__cNXvX","modal-heading":"ModalChangeAccount_modal-heading__DtjzZ","modal-close":"ModalChangeAccount_modal-close__4YOuz","modal-content":"ModalChangeAccount_modal-content__zQN0b","modal-item":"ModalChangeAccount_modal-item__Owhna","modal-item-current":"ModalChangeAccount_modal-item-current__MfBVz","modal-avatar":"ModalChangeAccount_modal-avatar__ge2ls","modal-username":"ModalChangeAccount_modal-username__q0Gpa","modal-current":"ModalChangeAccount_modal-current__dfmot","modal-logOut":"ModalChangeAccount_modal-logOut__pgArz"});var kO=function(e){var t=e.onCancelChange,n=aO(),i=c((0,r.useState)(n.get("USER_UID")),2),a=i[0],o=i[1],s=V(),u=function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cA.onAuthStateChanged(function(){var e=te($().mark((function e(t){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return r=a,i=t.uid,e.next=5,r.forEach((function(e,t){e.uid===i&&(r.splice(t,1),r.unshift(e))}));case 5:n.set("USER_UID",r),o(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){u()}),[]);var l=function(){var e=te($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cA.signInWithEmailAndPassword(t.email,t.password).then((function(){s("/"),window.location.reload()})).catch((function(e){return alert(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ON.jsx)("div",{className:yO("modal"),onClick:t,children:(0,ON.jsxs)("div",{className:yO("modal-wrapper"),onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[(0,ON.jsxs)("div",{className:yO("modal-title"),children:[(0,ON.jsx)("h3",{className:yO("modal-heading"),children:"Chuy\u1ec3n t\xe0i kho\u1ea3n"}),(0,ON.jsx)("span",{className:yO("modal-close"),onClick:t,children:WN})]}),(0,ON.jsx)("div",{className:yO("modal-content"),children:a.map((function(e,t){return(0,ON.jsxs)("div",{className:yO(0===t?"modal-item-current":"modal-item"),onClick:0!==t?function(){return l(e)}:function(){},children:[(0,ON.jsx)("div",{className:yO("modal-avatar"),children:(0,ON.jsx)("img",{src:e.avatar||NN.avatarDefault})}),(0,ON.jsx)("div",{className:yO("modal-username"),children:e.username}),0===t&&(0,ON.jsx)("div",{className:yO("modal-current"),children:rO})]},t)}))}),(0,ON.jsx)("div",{className:yO("modal-logOut"),children:(0,ON.jsx)(J,{to:"/",onClick:function(){cA.signOut().then((function(){n.set("LOGIN_STATE",!1)})).then((function(){s("/"),window.location.reload()})).catch((function(e){return console.log(e)}))},children:"\u0110\u0103ng nh\u1eadp v\xe0o t\u1ea3i kho\u1ea3n hi\u1ec7n c\xf3"})})]})})},bO=re().bind({modal:"ModalChangeAvatar_modal__DXnTX","modal-wrapper":"ModalChangeAvatar_modal-wrapper__stMmG","modal-title":"ModalChangeAvatar_modal-title__aEZxH","modal-heading":"ModalChangeAvatar_modal-heading__ndisw","modal-btn":"ModalChangeAvatar_modal-btn__jAIdD","modal-btn-delete":"ModalChangeAvatar_modal-btn-delete__y4F9e","modal-btn-upload":"ModalChangeAvatar_modal-btn-upload__s7OZK","modal-btn-cancel":"ModalChangeAvatar_modal-btn-cancel__+-blS"});var wO=function(e){var t=e.onDelete,n=e.onCancelChange,r=e.onUpload;return(0,ON.jsx)("div",{className:bO("modal"),onClick:n,children:(0,ON.jsxs)("div",{className:bO("modal-wrapper"),onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[(0,ON.jsx)("div",{className:bO("modal-title"),children:(0,ON.jsx)("h3",{className:bO("modal-heading"),children:"Thay \u0111\u1ed5i \u1ea3nh \u0111\u1ea1i di\u1ec7n"})}),(0,ON.jsxs)("div",{className:bO("modal-btn"),children:[(0,ON.jsx)(cO,{text:!0,className:bO("modal-btn-upload"),onClick:r,children:"T\u1ea3i \u1ea3nh l\xean"}),(0,ON.jsx)(cO,{text:!0,className:bO("modal-btn-delete"),onClick:t,children:"G\u1ee1 \u1ea3nh hi\u1ec7n t\u1ea1i"}),(0,ON.jsx)(cO,{text:!0,className:bO("modal-btn-cancel"),onClick:n,children:"H\u1ee7y"})]})]})})},xO=re().bind({wrapper:"Header_wrapper__CekL+","contain-1":"Header_contain-1__yiyH3","contain-2":"Header_contain-2__dQ5O9",logo:"Header_logo__ULap7","logo-img":"Header_logo-img__sYI5z","logo-link":"Header_logo-link__H4bb-",direct:"Header_direct__Uy-Q7","direct-item":"Header_direct-item__5I4A+","direct-icon":"Header_direct-icon__N3bsy","direct-user":"Header_direct-user__T52IF","direct-avatar":"Header_direct-avatar__2Ue59","direct-user-active":"Header_direct-user-active__V6myY",noti:"Header_noti__F2u5O",arrow:"Header_arrow__3Up78","noti-wrapper":"Header_noti-wrapper__d0mSa","noti-title":"Header_noti-title__asVAh","noti-list":"Header_noti-list__RQFBd","noti-item":"Header_noti-item__nZCJW","noti-item__avatar":"Header_noti-item__avatar__c1Ces","noti-item__content":"Header_noti-item__content__rYNMl","noti-item__content--user":"Header_noti-item__content--user__EzBUN","noti-item__content--time":"Header_noti-item__content--time__RBEgS","noti-item__action":"Header_noti-item__action__6y9ke","noti-item__action--img":"Header_noti-item__action--img__cO0ld","user-manage":"Header_user-manage__u7MgD","user-wrapper":"Header_user-wrapper__mDpYR","boder-top":"Header_boder-top__+oWHB",mt4:"Header_mt4__zU9hJ","user-item":"Header_user-item__6WJUa","user-page__icon":"Header_user-page__icon__mdpDk","user-page__title":"Header_user-page__title__4oDlI"});var _O=function(e){var t=e.pageInfo,n=c((0,r.useState)(t),2),i=n[0],a=n[1],o=c((0,r.useState)(!1),2),s=o[0],u=o[1],l=c((0,r.useState)({}),2),f=l[0],h=l[1],d=c((0,r.useState)(!1),2),p=d[0],v=d[1],m=aO(),g=V();(0,r.useEffect)((function(){cA.onAuthStateChanged(function(){var e=te($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return n=t.uid,r=Jm(uA,"user",n),e.next=5,by(r);case 5:i=e.sent,h(i.data());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var y=function(){cA.signOut().then((function(){m.set("LOGIN_STATE",!1)})).then((function(){g("/"),window.location.reload()})).catch((function(e){return console.log(e)}))},k=function(){v(!0),a(t)};return(0,ON.jsxs)(ON.Fragment,{children:[s&&(0,ON.jsx)(vO,{onCancelUpload:function(){u(!1),a(t)}}),p&&(0,ON.jsx)(kO,{onCancelChange:function(){v(!1)}}),(0,ON.jsx)("div",{className:xO("wrapper"),children:(0,ON.jsx)("div",{className:xO("contain-1"),children:(0,ON.jsxs)("div",{className:xO("contain-2"),children:[(0,ON.jsx)("div",{className:xO("logo"),children:(0,ON.jsx)(J,{to:"/",className:xO("logo-link"),onClick:function(){g("/"),window.location.reload()},children:qN})}),(0,ON.jsx)(dO,{}),(0,ON.jsxs)("div",{className:xO("direct"),children:[(0,ON.jsx)("div",{className:xO("direct-item"),children:(0,ON.jsx)("div",{className:xO("direct-icon"),onClick:function(e){a("home")},children:(0,ON.jsx)(J,{to:"/",children:"home"===i?RN:DN})})}),(0,ON.jsx)("div",{className:xO("direct-item"),children:(0,ON.jsx)("div",{className:xO("direct-icon"),onClick:function(e){a("inbox")},children:(0,ON.jsx)(J,{to:"/direct/inbox",children:"inbox"===i?LN:PN})})}),(0,ON.jsx)("div",{className:xO("direct-item"),children:(0,ON.jsx)("div",{className:xO("direct-icon"),onClick:function(e){return a("upload"),void u(!0)},children:"upload"===i?MN:jN})}),(0,ON.jsx)("div",{className:xO("direct-item"),children:(0,ON.jsx)("div",{className:xO("direct-icon"),onClick:function(e){a("explore")},children:(0,ON.jsx)(J,{to:"/explore",children:"explore"===i?UN:FN})})}),(0,ON.jsx)("div",{className:xO("direct-item"),children:(0,ON.jsx)(CN,{visible:"noti"===i,interactive:!0,onClickOutside:function(){a(t)},offset:[-182,15],placement:"bottom",render:function(e){return(0,ON.jsxs)("div",ot(ot({className:xO("noti"),tabIndex:"-1"},e),{},{children:[(0,ON.jsx)("div",{className:xO("arrow")}),(0,ON.jsxs)("div",{className:xO("noti-wrapper"),children:[(0,ON.jsx)("div",{className:xO("noti-title"),children:(0,ON.jsx)("span",{children:"Tu\u1ea7n n\xe0y"})}),(0,ON.jsx)("div",{className:xO("noti-list")})]})]}))},children:(0,ON.jsx)("div",{children:(0,ON.jsx)("div",{className:xO("direct-icon"),onClick:function(e){a("noti")},children:"noti"===i?BN:VN})})})}),(0,ON.jsx)("div",{className:xO("direct-item"),children:(0,ON.jsx)(CN,{visible:"user"===i,interactive:!0,onClickOutside:function(){a(t)},offset:[-76,15],placement:"bottom",render:function(e){return(0,ON.jsxs)("div",ot(ot({className:xO("user-manage"),tabIndex:"-1"},e),{},{children:[(0,ON.jsx)("div",{className:xO("arrow")}),(0,ON.jsxs)("div",{className:xO("user-wrapper"),children:[(0,ON.jsx)("div",{className:xO("user-item","mt4"),children:(0,ON.jsxs)(J,{to:"/".concat(f.username),onClick:function(){g("/".concat(f.username)),window.location.reload()},children:[(0,ON.jsx)("div",{className:xO("user-page__icon"),children:GN}),(0,ON.jsx)("div",{className:xO("user-page__title"),children:"Trang c\xe1 nh\xe2n"})]})}),(0,ON.jsx)("div",{className:xO("user-item"),children:(0,ON.jsxs)(J,{to:"/".concat(f.username,"/saved"),children:[(0,ON.jsx)("div",{className:xO("user-page__icon"),children:QN}),(0,ON.jsx)("div",{className:xO("user-page__title"),children:"\u0110\xe3 l\u01b0u"})]})}),(0,ON.jsx)("div",{className:xO("user-item"),children:(0,ON.jsxs)(J,{to:"/account/edit",children:[(0,ON.jsx)("div",{className:xO("user-page__icon"),children:YN}),(0,ON.jsx)("div",{className:xO("user-page__title"),children:"C\xe0i \u0111\u1eb7t"})]})}),(0,ON.jsxs)("div",{className:xO("user-item"),onClick:k,children:[(0,ON.jsx)("div",{className:xO("user-page__icon"),children:XN}),(0,ON.jsx)("div",{className:xO("user-page__title"),children:"Chuy\u1ec3n t\xe0i kho\u1ea3n"})]}),(0,ON.jsx)("div",{className:xO("user-item","boder-top"),onClick:y,children:(0,ON.jsx)(J,{className:xO("user-page__title"),to:"/",children:"\u0110\u0103ng xu\u1ea5t"})})]})]}))},children:(0,ON.jsx)("div",{className:xO("user"===i?"direct-user-active":"direct-user"),onClick:function(e){a("user")},children:(0,ON.jsx)("img",{src:f.profile_pic_url||NN.avatarDefault,className:xO("direct-avatar")})})})})]})]})})})]})},IO=re().bind({"normal-text":"Post_normal-text__n-tY1","tag-name":"Post_tag-name__vB3AJ","user-name":"Post_user-name__Ni0XY",wrapper:"Post_wrapper__HMPH4",header:"Post_header__CNmuH","header-user":"Post_header-user__meFfe","header-user__avatar":"Post_header-user__avatar__nO6Es","header-option":"Post_header-option__aVLxc",content:"Post_content__JT8Ya","content-image":"Post_content-image__QcEZ5","content-image__main":"Post_content-image__main__fYUaJ","content-image__list":"Post_content-image__list__h9dA8","content-image__item":"Post_content-image__item__bJIxq","content-btn-right":"Post_content-btn-right__hKJlc","content-btn-img":"Post_content-btn-img__hQvrX","content-btn-left":"Post_content-btn-left__vF4sZ","content-pagi":"Post_content-pagi__MyS94","content-pagi__step":"Post_content-pagi__step__cfBBw",active:"Post_active__Hg+Qd",interactive:"Post_interactive__IB5G6","interactive-action":"Post_interactive-action__Ggc6F","interactive-action__like":"Post_interactive-action__like__ErxR-","like-button-animation":"Post_like-button-animation__0HPKE","interactive-action__liked":"Post_interactive-action__liked__aXHQa","interactive-action__comment":"Post_interactive-action__comment__VuAa1","interactive-action__share":"Post_interactive-action__share__YVBxG","interactive-action__save":"Post_interactive-action__save__WFEZ4","interactive-count-like":"Post_interactive-count-like__FsFUT","interactive-main":"Post_interactive-main__c6DdM","interactive-main__user-caption":"Post_interactive-main__user-caption__M1yMJ","interactive-main__more":"Post_interactive-main__more__XPHw+","interactive-main__list-comment":"Post_interactive-main__list-comment__68u75","interactive-main__list-item":"Post_interactive-main__list-item__GV-IS","interactive-main__icon":"Post_interactive-main__icon__Ch9xD","interactive-time":"Post_interactive-time__AQ2Hw","interactive-comment":"Post_interactive-comment__jxCJx","interactive-comment__form":"Post_interactive-comment__form__zygVJ","interactive-comment__emotion":"Post_interactive-comment__emotion__YsSM4","interactive-comment__input":"Post_interactive-comment__input__Vz8wV","interactive-comment__post":"Post_interactive-comment__post__69d6-"});var SO=function(e){var t=e.code.split("@*#_"),n=t[0],i=t[1],a=c((0,r.useState)(),2),o=a[0],s=a[1],u=c((0,r.useState)(),2),l=u[0],f=u[1],h=c((0,r.useState)([]),2),d=h[0],p=h[1],v=c((0,r.useState)(!1),2),m=v[0],g=v[1],y=c((0,r.useState)(""),2),k=y[0],b=y[1],w=c((0,r.useState)(!1),2),x=w[0],_=w[1],I=c((0,r.useState)(""),2),S=I[0],E=I[1],T=c((0,r.useState)(!1),2),A=T[0],C=T[1],N=c((0,r.useState)(!0),2),O=N[0],D=N[1],R=c((0,r.useState)(!1),2),P=R[0],L=R[1],j=(0,r.useRef)(),M=(0,r.useRef)(),F=(0,r.useRef)(),U=function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uA.collection("media").doc(n).collection("listPost").doc(i).get().then((function(e){s(e.data()),V(e.data().comment),B(e.data().like_by)})).catch((function(e){console.log("Error getting document:",e)}));case 2:return e.next=4,uA.collection("user").doc(n).get().then((function(e){f(e.data())})).catch((function(e){console.log("Error getting document:",e)}));case 4:return e.next=6,cA.onAuthStateChanged((function(e){e&&E(e.uid)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=te($().mark((function e(t){var n,r,i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=0;case 2:if(!(r<t.length)){e.next=15;break}return i=t[r].split("@#_*"),a=Jm(uA,"user",i[0]),e.next=7,by(a);case 7:o=e.sent,s=o.data(),i.shift(),n.unshift({username:s.username,comment:i.join(" ")}),p([].concat(n));case 12:r++,e.next=2;break;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){g(e.some((function(e){return e===S})))};(0,r.useEffect)((function(){U()}),[]);var z=function(){!0===m?(g(!1),F.current.innerText=Number(F.current.innerText)-1,cA.onAuthStateChanged((function(e){e&&uA.collection("media").doc(n).collection("listPost").doc(i).update({like_by:Ly(e.uid)}).catch((function(e){console.log("Error getting document:",e)}))}))):!1===m&&(g(!0),F.current.innerText=Number(F.current.innerText)+1,cA.onAuthStateChanged((function(e){e&&uA.collection("media").doc(n).collection("listPost").doc(i).update({like_by:Py(e.uid)}).catch((function(e){console.log("Error getting document:",e)}))})))};return(0,ON.jsx)(ON.Fragment,{children:void 0!==o&&void 0!==l&&(0,ON.jsxs)("div",{className:IO("wrapper"),children:[(0,ON.jsxs)("div",{className:IO("header"),children:[(0,ON.jsxs)("div",{className:IO("header-user"),children:[(0,ON.jsx)("div",{className:IO("header-user__avatar"),children:(0,ON.jsx)(J,{to:"/".concat(l.username),children:(0,ON.jsx)("img",{src:l.profile_pic_url})})}),(0,ON.jsx)(J,{to:"/".concat(l.username),className:IO("user-name"),children:l.username})]}),(0,ON.jsx)("div",{className:IO("header-option"),children:JN})]}),(0,ON.jsxs)("div",{className:IO("content"),children:[(0,ON.jsxs)("div",{className:IO("content-image"),children:[(0,ON.jsx)("div",{className:IO("content-image__main"),children:(0,ON.jsx)("div",{ref:j,className:IO("content-image__list"),children:o.post_img_url.length>0&&o.post_img_url.map((function(e,t){return(0,ON.jsx)("div",{className:IO("content-image__item"),style:{zIndex:"".concat(-t)},children:(0,ON.jsx)("img",{src:e})},t)}))})}),o.post_img_url.length>1&&O&&(0,ON.jsx)("div",{className:IO("content-btn-right"),onClick:function(e){return function(){var e=window.getComputedStyle(j.current),t=new DOMMatrixReadOnly(e.transform).m41,n=470*o.post_img_url.length;n+t>470&&(t%470!==0&&t%470!==-0||(n+t==940&&D(!1),j.current.style.transform="translateX(".concat(t-470,"px)"),M.current.querySelectorAll("div").forEach((function(e,t){"rgb(0, 149, 246)"==window.getComputedStyle(e).getPropertyValue("background-color")&&(e.style.background="rgb(166, 166, 166)",M.current.querySelectorAll("div")[t+1].style.background="rgb(0, 149, 246)")})),L(!0)))}()},children:(0,ON.jsx)("div",{className:IO("content-btn-img")})}),P&&(0,ON.jsx)("div",{className:IO("content-btn-left"),onClick:function(e){return function(){var e=window.getComputedStyle(j.current),t=new DOMMatrixReadOnly(e.transform).m41;t<0&&(t%470!==0&&t%470!==-0||(-470===t&&L(!1),j.current.style.transform="translateX(".concat(t+470,"px)"),M.current.querySelectorAll("div").forEach((function(e,t){"rgb(0, 149, 246)"==window.getComputedStyle(e).getPropertyValue("background-color")&&(e.style.background="rgb(166, 166, 166)",M.current.querySelectorAll("div")[t-1].style.background="rgb(0, 149, 246)")})),D(!0)))}()},children:(0,ON.jsx)("div",{className:IO("content-btn-img")})})]}),(0,ON.jsx)("div",{className:IO("content-pagi"),ref:M,children:o.post_img_url.length>1&&o.post_img_url.map((function(e,t){return(0,ON.jsx)("div",{className:IO("content-pagi__step")},t)}))})]}),(0,ON.jsxs)("div",{className:IO("interactive"),children:[(0,ON.jsxs)("div",{className:IO("interactive-action"),children:[m?(0,ON.jsx)("div",{className:IO("interactive-action__liked"),onClick:z,children:$N}):(0,ON.jsx)("div",{className:IO("interactive-action__like"),onClick:z,children:ZN}),(0,ON.jsx)("div",{className:IO("interactive-action__comment"),children:eO}),(0,ON.jsx)("div",{className:IO("interactive-action__share"),children:tO}),(0,ON.jsx)("div",{className:IO("interactive-action__save"),children:QN})]}),(0,ON.jsxs)("div",{className:IO("interactive-count-like"),children:[(0,ON.jsx)("span",{ref:F,children:"".concat(o.like_by.length)})," l\u01b0\u1ee3t th\xedch"]}),(0,ON.jsxs)("div",{className:IO("interactive-main"),children:[(0,ON.jsxs)("div",{className:IO("interactive-main__user-caption"),children:[(0,ON.jsx)(J,{to:"/".concat(l.username),className:IO("user-name"),children:l.username}),(0,ON.jsx)("div",{className:IO("normal-text"),children:o.caption})]}),(0,ON.jsx)("div",{className:IO("interactive-main__more"),onClick:function(e){return function(e){C(!0),e.target.style.display="none"}(e)},children:o.comment.length>3&&"Xem t\u1ea5t c\u1ea3 ".concat(o.comment.length," b\xecnh lu\u1eadn")}),(0,ON.jsx)("ul",{className:IO("interactive-main__list-comment"),children:o.comment.length>0&&d.map((function(e,t){return t<3||A?(0,ON.jsxs)("li",{className:IO("interactive-main__list-item"),children:[(0,ON.jsx)(J,{to:"/".concat(e.username),className:IO("user-name"),children:e.username}),(0,ON.jsx)("div",{className:IO("normal-text"),children:e.comment})]},t):void 0}))})]}),(0,ON.jsx)("div",{className:IO("interactive-time"),children:function(e){var t=Date.now(),n=Math.round(t/1e3-e),r=3600,i=86400,a=365*i;return n<60?"".concat(Math.round(n)," gi\xe2y tr\u01b0\u1edbc").toUpperCase():n<r?"".concat(Math.round(n/60)," ph\xfat tr\u01b0\u1edbc").toUpperCase():n<i?"".concat(Math.round(n/r)," gi\u1edd tr\u01b0\u1edbc").toUpperCase():n<a?"".concat(Math.round(n/i)," ng\xe0y tr\u01b0\u1edbc").toUpperCase():n>a?"".concat(Math.round(n/a)," n\u0103m tr\u01b0\u1edbc").toUpperCase():void 0}(o.time.seconds)}),(0,ON.jsx)("div",{className:IO("interactive-comment"),children:(0,ON.jsxs)("form",{className:IO("interactive-comment__form"),children:[(0,ON.jsx)("div",{className:IO("interactive-comment__emotion"),children:nO}),(0,ON.jsx)("textarea",{autoComplete:"off",autoCorrect:"off",placeholder:"Th\xeam b\xecnh lu\u1eadn",className:IO("interactive-comment__input"),onChange:function(e){b(e.target.value),function(e){var t=Math.round(e.target.value.length/52);e.target.style.height="".concat(18*t,"px"),""!==e.target.value.trim()&&_(!0)}(e)},onBlur:function(){return _(!1)},value:k,onFocus:function(){""!==k.trim()&&_(!0)}}),(0,ON.jsx)("div",{className:IO("interactive-comment__post"),onClick:function(){uA.collection("user").doc(S).get().then((function(e){p((function(t){return[{username:e.data().username,comment:k}].concat(Ke(t))}))})).then((function(){b("")})).then((function(){uA.collection("media").doc(n).collection("listPost").doc(i).update({comment:Py("".concat(S,"@#_*").concat(k))}).catch((function(e){console.log("Error getting document:",e)}))})).catch((function(e){console.log("Error getting document:",e)}))},children:(0,ON.jsx)(cO,{text:!0,small:!0,font14:!0,disabled:!x,children:"\u0110\u0103ng"})})]})})]})]})})},EO=re().bind({footer:"FooterSidebar_footer__T96aN","footer-menu":"FooterSidebar_footer-menu__vraJn","footer-item":"FooterSidebar_footer-item__fFUjN","footer-link":"FooterSidebar_footer-link__jRGBJ","footer-language":"FooterSidebar_footer-language__l675j","footer-copyrights":"FooterSidebar_footer-copyrights__Hoxk-"});var TO=function(){return(0,ON.jsxs)("div",{className:EO("footer"),children:[(0,ON.jsxs)("div",{className:EO("footer-menu"),children:[(0,ON.jsx)("div",{className:EO("footer-item"),children:(0,ON.jsx)(J,{className:EO("footer-link"),to:"/",children:(0,ON.jsx)("span",{children:"Gi\u1edbi thi\u1ec7u"})})}),(0,ON.jsx)("div",{className:EO("footer-item"),children:(0,ON.jsx)(J,{className:EO("footer-link"),to:"/",children:(0,ON.jsx)("span",{children:"Tr\u1ee3 gi\xfap"})})}),(0,ON.jsx)("div",{className:EO("footer-item"),children:(0,ON.jsx)(J,{className:EO("footer-link"),to:"/",children:(0,ON.jsx)("span",{children:"B\xe1o ch\xed"})})}),(0,ON.jsx)("div",{className:EO("footer-item"),children:(0,ON.jsx)(J,{className:EO("footer-link"),to:"/",children:(0,ON.jsx)("span",{children:"API"})})}),(0,ON.jsx)("div",{className:EO("footer-item"),children:(0,ON.jsx)(J,{className:EO("footer-link"),to:"/",children:(0,ON.jsx)("span",{children:"Vi\u1ec7c l\xe0m"})})}),(0,ON.jsx)("div",{className:EO("footer-item"),children:(0,ON.jsx)(J,{className:EO("footer-link"),to:"/",children:(0,ON.jsx)("span",{children:"Quy\u1ec1n ri\xeang t\u01b0"})})}),(0,ON.jsx)("div",{className:EO("footer-item"),children:(0,ON.jsx)(J,{className:EO("footer-link"),to:"/",children:(0,ON.jsx)("span",{children:"\u0110i\u1ec1u kho\u1ea3n"})})}),(0,ON.jsx)("div",{className:EO("footer-item"),children:(0,ON.jsx)(J,{className:EO("footer-link"),to:"/",children:(0,ON.jsx)("span",{children:"V\u1ecb tr\xed"})})}),(0,ON.jsx)("div",{className:EO("footer-item"),children:(0,ON.jsx)("div",{className:EO("footer-language"),children:"Ng\xf4n ng\u1eef"})})]}),(0,ON.jsx)("div",{className:EO("footer-copyrights"),children:(0,ON.jsx)("p",{children:"\xa9 2022 Instagram from Meta"})})]})},AO=re().bind({wrapper:"Sidebar_wrapper__fHZOO","user-info":"Sidebar_user-info__g8PTA","user-avatar":"Sidebar_user-avatar__6Av9w","user-name":"Sidebar_user-name__dblnA",username:"Sidebar_username__mmuBG",fullname:"Sidebar_fullname__NnPYC","account-verified":"Sidebar_account-verified__Q97LM","user-change-account":"Sidebar_user-change-account__+zJTa",suggest:"Sidebar_suggest__B0cvK","suggest-header":"Sidebar_suggest-header__Wlx4+","suggest-header__title":"Sidebar_suggest-header__title__gdvk2","suggest-header__show-all":"Sidebar_suggest-header__show-all__6PxSc","suggest-none-item":"Sidebar_suggest-none-item__TLdrd","suggest-list":"Sidebar_suggest-list__T8M0f","suggest-item":"Sidebar_suggest-item__9a8lP","suggester-avatar":"Sidebar_suggester-avatar__8Ko7q","suggester-name":"Sidebar_suggester-name__S5j6m","suggester-username":"Sidebar_suggester-username__LNrO4","suggester-follower":"Sidebar_suggester-follower__DE2Zx","suggester-btn":"Sidebar_suggester-btn__2KtjS"});var CO=function(){var e=c((0,r.useState)({}),2),t=e[0],n=e[1],i=c((0,r.useState)([]),2),a=i[0],o=i[1],s=c((0,r.useState)(!1),2),u=s[0],l=s[1],f=c((0,r.useState)(""),2),h=f[0],d=f[1];(0,r.useEffect)((function(){cA.onAuthStateChanged((function(e){e&&(d(e.uid),p(e.uid))}))}),[]);var p=function(){var e=te($().mark((function e(t){var r,i,a,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jm(uA,"user",t),e.next=3,by(r);case 3:return i=e.sent,e.next=6,_y(Xm(uA,"user"));case 6:a=e.sent,s=a.docs.filter((function(e){if(e.id!==t){if(!i.data().following)return e;if(i.data().following.every((function(t){return t!==e.id})))return e}})),n(i.data()),o(s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=te($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.target.innerText="\u0110ang theo d\xf5i",n.target.style.color="rgb(38,38,38)",r=Jm(uA,"user",h),i=Jm(uA,"user",t),a=ns.now().seconds-604800,e.next=7,Ey(r,{following:Py(t)});case 7:return e.next=9,Ey(i,{followed_by:Py(h)});case 9:uA.collection("media").doc(t).collection("listPost").where("time",">=",a).get().then((function(e){e.forEach(function(){var e=te($().mark((function e(n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jm(uA,"posts",h),e.next=3,Ey(r,{post:Py("".concat(t,"@*#_").concat(n.id))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log("Error getting documents: ",e)}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,ON.jsxs)(ON.Fragment,{children:[u&&(0,ON.jsx)(kO,{onCancelChange:function(){l(!1)}}),(0,ON.jsxs)("div",{className:AO("wrapper"),children:[(0,ON.jsxs)("div",{className:AO("user-info"),children:[(0,ON.jsx)("div",{className:AO("user-avatar"),children:(0,ON.jsx)(J,{to:"/".concat(t.username),children:(0,ON.jsx)("img",{src:t.profile_pic_url||NN.avatarDefault})})}),(0,ON.jsxs)("div",{className:AO("user-name"),children:[(0,ON.jsxs)(J,{to:"/".concat(t.username),className:AO("username"),children:[t.username," ",t.is_verified&&(0,ON.jsx)("span",{className:AO("account-verified")})]}),(0,ON.jsx)("div",{className:AO("fullname"),children:t.full_name})]}),(0,ON.jsx)("div",{className:AO("user-change-account"),children:(0,ON.jsx)(cO,{text:!0,small:!0,font12:!0,onClick:function(){l(!0)},children:"Chuy\u1ec3n"})})]}),(0,ON.jsxs)("div",{className:AO("suggest"),children:[(0,ON.jsxs)("div",{className:AO("suggest-header"),children:[(0,ON.jsx)("div",{className:AO("suggest-header__title"),children:"G\u1ee3i \xfd cho b\u1ea1n"}),(0,ON.jsx)("div",{className:AO("suggest-header__show-all"),children:(0,ON.jsx)(J,{to:"/explore/people",children:"Xem t\u1ea5t c\u1ea3"})})]}),(0,ON.jsx)("div",{className:AO("suggest-list"),children:a.length>0?a.map((function(e,t){if(t<5){var n=e.data();return(0,ON.jsxs)("div",{className:AO("suggest-item"),children:[(0,ON.jsx)("div",{className:AO("suggester-avatar"),children:(0,ON.jsx)(J,{to:"/".concat(n.username),children:(0,ON.jsx)("img",{src:n.profile_pic_url||NN.avatarDefault})})}),(0,ON.jsxs)("div",{className:AO("suggester-name"),children:[(0,ON.jsxs)(J,{to:"/".concat(n.username),className:AO("suggester-username"),children:[n.username," ",n.is_verified&&(0,ON.jsx)("span",{})]}),(0,ON.jsx)("div",{className:AO("suggester-follower"),children:n.followed_by?"C\xf3 ".concat(n.followed_by.length," ng\u01b0\u1eddi theo d\xf5i"):""})]}),(0,ON.jsx)("div",{className:AO("suggester-btn"),children:(0,ON.jsx)(cO,{text:!0,small:!0,font12:!0,onClick:function(e){return v(n.uid,e)},children:"Theo d\xf5i"})})]},t)}})):(0,ON.jsx)("div",{className:AO("suggest-none-item"),children:"Kh\xf4ng c\xf3 g\u1ee3i \xfd cho b\u1ea1n."})})]}),(0,ON.jsx)("div",{className:AO("footer"),children:(0,ON.jsx)(TO,{})})]})]})},NO=re().bind({wrapper:"Home_wrapper__XiSLA",main:"Home_main__UAosR",header:"Home_header__h7CM0",timeline:"Home_timeline__CmtLt",sidebar:"Home_sidebar__HBHAh"});var OO=function(e){var t=e.propLogin,n=c((0,r.useState)(""),2),i=(n[0],n[1]),a=c((0,r.useState)([]),2),o=a[0],s=a[1];(0,r.useEffect)((function(){cA.onAuthStateChanged((function(e){e&&(i(e.uid),u(e.uid))}))}),[]);var u=function(){var e=te($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jm(uA,"posts",t),e.next=3,by(n);case 3:r=e.sent,s(r.data().post||[]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ON.jsx)(ON.Fragment,{children:(0,ON.jsxs)("div",{className:NO("wrapper"),children:[(0,ON.jsxs)("div",{className:NO("main"),children:[(0,ON.jsx)("div",{className:NO("timeline"),children:o.length>0&&o.map((function(e,t){return(0,ON.jsx)(SO,{code:e},t)}))}),(0,ON.jsx)("div",{className:NO("sidebar"),children:(0,ON.jsx)(CO,{})})]}),(0,ON.jsx)("div",{className:NO("header"),children:(0,ON.jsx)(_O,{pageInfo:"home",isLogin:t})})]})})};function DO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DO(Object(n),!0).forEach((function(t){jO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PO(e){return PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PO(e)}function LO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||UO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FO(e){return function(e){if(Array.isArray(e))return VO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||UO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UO(e,t){if(e){if("string"===typeof e)return VO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VO(e,t):void 0}}function VO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BO=function(){},zO={},qO={},HO=null,WO={mark:BO,measure:BO};try{"undefined"!==typeof window&&(zO=window),"undefined"!==typeof document&&(qO=document),"undefined"!==typeof MutationObserver&&(HO=MutationObserver),"undefined"!==typeof performance&&(WO=performance)}catch(NL){}var KO=(zO.navigator||{}).userAgent,GO=void 0===KO?"":KO,QO=zO,YO=qO,XO=HO,JO=WO,ZO=(QO.document,!!YO.documentElement&&!!YO.head&&"function"===typeof YO.addEventListener&&"function"===typeof YO.createElement),$O=~GO.indexOf("MSIE")||~GO.indexOf("Trident/"),eD="svg-inline--fa",tD="data-fa-i2svg",nD="data-fa-pseudo-element",rD="data-prefix",iD="data-icon",aD="fontawesome-i2svg",oD=["HTML","HEAD","STYLE","SCRIPT"],sD=function(){try{return!0}catch(NL){return!1}}(),uD={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},cD={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},lD={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},fD={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},hD=/fa[srltdbk\-\ ]/,dD="fa-layers-text",pD=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,vD={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},mD=[1,2,3,4,5,6,7,8,9,10],gD=mD.concat([11,12,13,14,15,16,17,18,19,20]),yD=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],kD="duotone-group",bD="swap-opacity",wD="primary",xD="secondary",_D=[].concat(FO(Object.keys(cD)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",kD,bD,wD,xD]).concat(mD.map((function(e){return"".concat(e,"x")}))).concat(gD.map((function(e){return"w-".concat(e)}))),ID=QO.FontAwesomeConfig||{};if(YO&&"function"===typeof YO.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=MO(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=YO.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(ID[r]=i)}))}var SD=RO(RO({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:eD,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),ID);SD.autoReplaceSvg||(SD.observeMutations=!1);var ED={};Object.keys(SD).forEach((function(e){Object.defineProperty(ED,e,{enumerable:!0,set:function(t){SD[e]=t,TD.forEach((function(e){return e(ED)}))},get:function(){return SD[e]}})})),QO.FontAwesomeConfig=ED;var TD=[];var AD=16,CD={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ND(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function OD(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function DD(e){return e.classList?OD(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function RD(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function PD(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function LD(e){return e.size!==CD.size||e.x!==CD.x||e.y!==CD.y||e.rotate!==CD.rotate||e.flipX||e.flipY}function jD(){var e="fa",t=eD,n=ED.familyPrefix,r=ED.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var MD=!1;function FD(){ED.autoAddCss&&!MD&&(!function(e){if(e&&ZO){var t=YO.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=YO.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}YO.head.insertBefore(t,r)}}(jD()),MD=!0)}var UD={mixout:function(){return{dom:{css:jD,insertCss:FD}}},hooks:function(){return{beforeDOMElementCreation:function(){FD()},beforeI2svg:function(){FD()}}}},VD=QO||{};VD.___FONT_AWESOME___||(VD.___FONT_AWESOME___={}),VD.___FONT_AWESOME___.styles||(VD.___FONT_AWESOME___.styles={}),VD.___FONT_AWESOME___.hooks||(VD.___FONT_AWESOME___.hooks={}),VD.___FONT_AWESOME___.shims||(VD.___FONT_AWESOME___.shims=[]);var BD=VD.___FONT_AWESOME___,zD=[],qD=!1;function HD(e){ZO&&(qD?setTimeout(e,0):zD.push(e))}function WD(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?RD(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(RD(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(WD).join(""),"</").concat(t,">")}function KD(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}ZO&&((qD=(YO.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(YO.readyState))||YO.addEventListener("DOMContentLoaded",(function e(){YO.removeEventListener("DOMContentLoaded",e),qD=1,zD.map((function(e){return e()}))})));var GD=function(e,t,n,r){var i,a,o,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<u;i++)o=c(o,e[a=s[i]],a,e);return o};function QD(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function YD(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function XD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=YD(t);"function"!==typeof BD.hooks.addPack||i?BD.styles[e]=RO(RO({},BD.styles[e]||{}),a):BD.hooks.addPack(e,YD(t)),"fas"===e&&XD("fa",t)}var JD=BD.styles,ZD=BD.shims,$D=Object.values(lD),eR=null,tR={},nR={},rR={},iR={},aR={},oR=Object.keys(uD);function sR(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~_D.indexOf(n))?null:a}var uR=function(){var e=function(e){return GD(JD,(function(t,n,r){return t[r]=GD(n,e,{}),t}),{})};tR=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),nR=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),aR=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in JD||ED.autoFetchSvg,n=GD(ZD,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});rR=n.names,iR=n.unicodes,eR=dR(ED.styleDefault)};function cR(e,t){return(tR[e]||{})[t]}function lR(e,t){return(aR[e]||{})[t]}function fR(e){return rR[e]||{prefix:null,iconName:null}}function hR(){return eR}!function(e){TD.push(e)}((function(e){eR=dR(e.styleDefault)})),uR();function dR(e){var t=cD[e]||cD[uD[e]],n=e in BD.styles?e:null;return t||n||null}function pR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=sR(ED.familyPrefix,t);if(JD[t]?(t=$D.includes(t)?fD[t]:t,i=t,e.prefix=t):oR.indexOf(t)>-1?(i=t,e.prefix=dR(t)):n?e.iconName=n:t!==ED.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?fR(e.iconName):{},o=lR(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||JD.far||!JD.fas||ED.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=hR()||"fas"),a}var vR=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=RO(RO({},e.definitions[t]||{}),i[t]),XD(t,i[t]);var n=lD[t];n&&XD(n,i[t]),uR()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&LO(t.prototype,n),r&&LO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),mR=[],gR={},yR={},kR=Object.keys(yR);function bR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=gR[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function wR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=gR[e]||[];i.forEach((function(e){e.apply(null,n)}))}function xR(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return yR[e]?yR[e].apply(null,t):void 0}function _R(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||hR();if(t)return t=lR(n,t)||t,KD(IR.definitions,n,t)||KD(BD.styles,n,t)}var IR=new vR,SR={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ZO?(wR("beforeI2svg",e),xR("pseudoElements2svg",e),xR("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===ED.autoReplaceSvg&&(ED.autoReplaceSvg=!0),ED.observeMutations=!0,HD((function(){AR({autoReplaceSvgRoot:t}),wR("watch",e)}))}},ER={icon:function(e){if(null===e)return null;if("object"===PO(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:lR(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=dR(e[0]);return{prefix:n,iconName:lR(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(ED.familyPrefix,"-"))>-1||e.match(hD))){var r=pR(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||hR(),iconName:lR(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=hR();return{prefix:i,iconName:lR(i,e)||e}}}},TR={noAuto:function(){ED.autoReplaceSvg=!1,ED.observeMutations=!1,wR("noAuto")},config:ED,dom:SR,parse:ER,library:IR,findIconDefinition:_R,toHtml:WD},AR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?YO:t;(Object.keys(BD.styles).length>0||ED.autoFetchSvg)&&ZO&&ED.autoReplaceSvg&&TR.dom.i2svg({node:n})};function CR(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return WD(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(ZO){var t=YO.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function NR(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,u=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,g="fak"===i,y=[ED.replacementClass,a?"".concat(ED.familyPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),k={children:[],attributes:RO(RO({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},b=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(k.attributes[tD]=""),u&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(l||ND())},children:[u]}),delete k.attributes.title);var w=RO(RO({},k),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:s,styles:RO(RO({},b),f.styles)}),x=r.found&&n.found?xR("generateAbstractMask",w)||{children:[],attributes:{}}:xR("generateAbstractIcon",w)||{children:[],attributes:{}},_=x.children,I=x.attributes;return w.children=_,w.attributes=I,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(ED.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:RO(RO({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(LD(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=PD(RO(RO({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function OR(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,u=void 0!==s&&s,c=RO(RO(RO({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});u&&(c[tD]="");var l=RO({},o.styles);LD(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,s=void 0!==o&&o,u="";return u+=s&&$O?"translate(".concat(t.x/AD-r/2,"em, ").concat(t.y/AD-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/AD,"em), calc(-50% + ").concat(t.y/AD,"em)) "):"translate(".concat(t.x/AD,"em, ").concat(t.y/AD,"em) "),u+="scale(".concat(t.size/AD*(t.flipX?-1:1),", ").concat(t.size/AD*(t.flipY?-1:1),") "),u+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=PD(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function DR(e){var t=e.content,n=e.title,r=e.extra,i=RO(RO(RO({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=PD(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var RR=BD.styles;function PR(e){var t=e[0],n=e[1],r=MO(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(ED.familyPrefix,"-").concat(kD)},children:[{tag:"path",attributes:{class:"".concat(ED.familyPrefix,"-").concat(xD),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ED.familyPrefix,"-").concat(wD),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var LR={found:!1,width:512,height:512};function jR(e,t){var n=t;return"fa"===t&&null!==ED.styleDefault&&(t=hR()),new Promise((function(r,i){xR("missingIconAbstract");if("fa"===n){var a=fR(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&RR[t]&&RR[t][e])return r(PR(RR[t][e]));!function(e,t){sD||ED.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(RO(RO({},LR),{},{icon:ED.showMissingIcons&&e&&xR("missingIconAbstract")||{}}))}))}var MR=function(){},FR=ED.measurePerformance&&JO&&JO.mark&&JO.measure?JO:{mark:MR,measure:MR},UR='FA "6.0.0"',VR=function(e){FR.mark("".concat(UR," ").concat(e," ends")),FR.measure("".concat(UR," ").concat(e),"".concat(UR," ").concat(e," begins"),"".concat(UR," ").concat(e," ends"))},BR=function(e){return FR.mark("".concat(UR," ").concat(e," begins")),function(){return VR(e)}},zR=function(){};function qR(e){return"string"===typeof(e.getAttribute?e.getAttribute(tD):null)}function HR(e){return YO.createElementNS("http://www.w3.org/2000/svg",e)}function WR(e){return YO.createElement(e)}function KR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?HR:WR:n;if("string"===typeof e)return YO.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(KR(e,{ceFn:r}))})),i}var GR={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(KR(e),t)})),null===t.getAttribute(tD)&&ED.keepOriginalSource){var n=YO.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~DD(t).indexOf(ED.replacementClass))return GR.replace(e);var r=new RegExp("".concat(ED.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===ED.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return WD(e)})).join("\n");t.setAttribute(tD,""),t.innerHTML=a}};function QR(e){e()}function YR(e,t){var n="function"===typeof t?t:zR;if(0===e.length)n();else{var r=QR;"async"===ED.mutateApproach&&(r=QO.requestAnimationFrame||QR),r((function(){var t=!0===ED.autoReplaceSvg?GR.replace:GR[ED.autoReplaceSvg]||GR.replace,r=BR("mutate");e.map(t),r(),n()}))}}var XR=!1;function JR(){XR=!0}function ZR(){XR=!1}var $R=null;function eP(e){if(XO&&ED.observeMutations){var t=e.treeCallback,n=void 0===t?zR:t,r=e.nodeCallback,i=void 0===r?zR:r,a=e.pseudoElementsCallback,o=void 0===a?zR:a,s=e.observeMutationsRoot,u=void 0===s?YO:s;$R=new XO((function(e){if(!XR){var t=hR();OD(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!qR(e.addedNodes[0])&&(ED.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&ED.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&qR(e.target)&&~yD.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(rD):null,n=e.getAttribute?e.getAttribute(iD):null;return t&&n}(e.target)){var r=pR(DD(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(rD,a||t),s&&e.target.setAttribute(iD,s)}else(u=e.target)&&u.classList&&u.classList.contains&&u.classList.contains(ED.replacementClass)&&i(e.target);var u}))}})),ZO&&$R.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function tP(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function nP(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=pR(DD(e));return i.prefix||(i.prefix=hR()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function(e,t){return(nR[e]||{})[t]}(i.prefix,e.innerText)||cR(i.prefix,QD(e.innerText))),i}function rP(e){var t=OD(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return ED.autoA11y&&(n?t["aria-labelledby"]="".concat(ED.replacementClass,"-title-").concat(r||ND()):(t["aria-hidden"]="true",t.focusable="false")),t}function iP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=nP(e),r=n.iconName,i=n.prefix,a=n.rest,o=rP(e),s=bR("parseNodeAttributes",{},e),u=t.styleParser?tP(e):[];return RO({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:CD,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:u,attributes:o}},s)}var aP=BD.styles;function oP(e){var t="nest"===ED.autoReplaceSvg?iP(e,{styleParser:!1}):iP(e);return~t.extra.classes.indexOf(dD)?xR("generateLayersText",e,t):xR("generateSvgReplacementMutation",e,t)}function sP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!ZO)return Promise.resolve();var n=YO.documentElement.classList,r=function(e){return n.add("".concat(aD,"-").concat(e))},i=function(e){return n.remove("".concat(aD,"-").concat(e))},a=ED.autoFetchSvg?Object.keys(uD):Object.keys(aP),o=[".".concat(dD,":not([").concat(tD,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(tD,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=OD(e.querySelectorAll(o))}catch(NL){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var u=BR("onTree"),c=s.reduce((function(e,t){try{var n=oP(t);n&&e.push(n)}catch(NL){sD||"MissingIcon"===NL.name&&console.error(NL)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){YR(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),u(),e()}))})).catch((function(e){u(),n(e)}))}))}function uP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;oP(e).then((function(e){e&&YR([e],t)}))}var cP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?CD:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,u=t.maskId,c=void 0===u?null:u,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,g=void 0===m?{}:m,y=t.styles,k=void 0===y?{}:y;if(e){var b=e.prefix,w=e.iconName,x=e.icon;return CR(RO({type:"icon"},e),(function(){return wR("beforeDOMElementCreation",{iconDefinition:e,params:t}),ED.autoA11y&&(f?g["aria-labelledby"]="".concat(ED.replacementClass,"-title-").concat(d||ND()):(g["aria-hidden"]="true",g.focusable="false")),NR({icons:{main:PR(x),mask:s?PR(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:RO(RO({},CD),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:g,styles:k,classes:v}})}))}},lP={mixout:function(){return{icon:(e=cP,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:_R(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:_R(i||{})),e(r,RO(RO({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=sP,e.nodeCallback=uP,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?YO:t,r=e.callback;return sP(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,u=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([jR(n,a),u.iconName?jR(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(u){var f=MO(u,2),h=f[0],d=f[1];t([e,NR({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:s,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=PD(e.styles);return o.length>0&&(r.style=o),LD(a)&&(t=xR("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},fP={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return CR({type:"layer"},(function(){wR("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(ED.familyPrefix,"-layers")].concat(FO(r)).join(" ")},children:n}]}))}}}},hP={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,u=t.styles,c=void 0===u?{}:u;return CR({type:"counter",content:e},(function(){return wR("beforeDOMElementCreation",{content:e,params:t}),DR({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(ED.familyPrefix,"-layers-counter")].concat(FO(a))}})}))}}}},dP={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?CD:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,u=t.attributes,c=void 0===u?{}:u,l=t.styles,f=void 0===l?{}:l;return CR({type:"text",content:e},(function(){return wR("beforeDOMElementCreation",{content:e,params:t}),OR({content:e,transform:RO(RO({},CD),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(ED.familyPrefix,"-layers-text")].concat(FO(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if($O){var s=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/s,o=u.height/s}return ED.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,OR({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},pP=new RegExp('"',"ug"),vP=[1105920,1112319];function mP(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=OD(e.children).filter((function(e){return e.getAttribute(nD)===t}))[0],o=QO.getComputedStyle(e,t),s=o.getPropertyValue("font-family").match(pD),u=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!s)return e.removeChild(a),r();if(s&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?cD[s[2].toLowerCase()]:vD[u],h=function(e){var t=e.replace(pP,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=vP[0]&&n<=vP[1],i=2===t.length&&t[0]===t[1];return{value:QD(i?t[0]:t),isSecondary:r||i}}(l),d=h.value,p=h.isSecondary,v=s[0].startsWith("FontAwesome"),m=cR(f,d),g=m;if(v){var y=function(e){var t=iR[e],n=cR("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);y.iconName&&y.prefix&&(m=y.iconName,f=y.prefix)}if(!m||p||a&&a.getAttribute(rD)===f&&a.getAttribute(iD)===g)r();else{e.setAttribute(n,g),a&&e.removeChild(a);var k={iconName:null,title:null,titleId:null,prefix:null,transform:CD,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},b=k.extra;b.attributes[nD]=t,jR(m,f).then((function(i){var a=NR(RO(RO({},k),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:g,extra:b,watchable:!0})),o=YO.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return WD(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function gP(e){return Promise.all([mP(e,"::before"),mP(e,"::after")])}function yP(e){return e.parentNode!==document.head&&!~oD.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(nD)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function kP(e){if(ZO)return new Promise((function(t,n){var r=OD(e.querySelectorAll("*")).filter(yP).map(gP),i=BR("searchPseudoElements");JR(),Promise.all(r).then((function(){i(),ZR(),t()})).catch((function(){i(),ZR(),n()}))}))}var bP=!1,wP=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},xP={mixout:function(){return{parse:{transform:function(e){return wP(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=wP(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(u)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:RO({},c.outer),children:[{tag:"g",attributes:RO({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:RO(RO({},t.icon.attributes),c.path)}]}]}}}},_P={x:0,y:0,width:"100%",height:"100%"};function IP(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var SP={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?pR(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=hR()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,u=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:l,iconWidth:u}),d={tag:"rect",attributes:RO(RO({},_P),{},{fill:"white"})},p=c.children?{children:c.children.map(IP)}:{},v={tag:"g",attributes:RO({},h.inner),children:[IP(RO({tag:c.tag,attributes:RO(RO({},c.attributes),h.path)},p))]},m={tag:"g",attributes:RO({},h.outer),children:[v]},g="mask-".concat(o||ND()),y="clip-".concat(o||ND()),k={tag:"mask",attributes:RO(RO({},_P),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:RO({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},_P)}),{children:n,attributes:r}}}},EP={provides:function(e){var t=!1;QO.matchMedia&&(t=QO.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:RO(RO({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=RO(RO({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:RO(RO({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:RO(RO({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:RO(RO({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:RO(RO({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:RO(RO({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:RO(RO({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:RO(RO({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;mR=e,gR={},Object.keys(yR).forEach((function(e){-1===kR.indexOf(e)&&delete yR[e]})),mR.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===PO(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){gR[e]||(gR[e]=[]),gR[e].push(r[e])}))}e.provides&&e.provides(yR)}))}([UD,lP,fP,hP,dP,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=kP,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?YO:t;ED.searchPseudoElements&&kP(n)}}},{mixout:function(){return{dom:{unwatch:function(){JR(),bP=!0}}}},hooks:function(){return{bootstrap:function(){eP(bR("mutationObserverCallbacks",{}))},noAuto:function(){$R&&$R.disconnect()},watch:function(e){var t=e.observeMutationsRoot;bP?ZR():eP(bR("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},xP,SP,EP,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:TR});var TP=TR.parse,AP=TR.icon,CP=n(7),NP=n.n(CP);function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OP(Object(n),!0).forEach((function(t){PP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RP(e){return RP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RP(e)}function PP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jP(e){return function(e){if(Array.isArray(e))return MP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return MP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FP(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var UP=["style"];function VP(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=FP(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var BP=!1;try{BP=!0}catch(NL){}function zP(e){return e&&"object"===RP(e)&&e.prefix&&e.iconName&&e.icon?e:TP.icon?TP.icon(e):null===e?null:e&&"object"===RP(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function qP(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?PP({},e,t):{}}var HP=["forwardedRef"];function WP(e){var t=e.forwardedRef,n=LP(e,HP),r=n.icon,i=n.mask,a=n.symbol,o=n.className,s=n.title,u=n.titleId,c=n.maskId,l=zP(r),f=qP("classes",[].concat(jP(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,s=e.flash,u=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,g=e.size,y=e.rotation,k=e.pull,b=(PP(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":u,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(g),"undefined"!==typeof g&&null!==g),PP(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),PP(t,"fa-pull-".concat(k),"undefined"!==typeof k&&null!==k),PP(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(n)),jP(o.split(" ")))),h=qP("transform","string"===typeof n.transform?TP.transform(n.transform):n.transform),d=qP("mask",zP(i)),p=AP(l,DP(DP(DP(DP({},f),h),d),{},{symbol:a,title:s,titleId:u,maskId:c}));if(!p)return function(){var e;!BP&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var v=p.abstract,m={ref:t};return Object.keys(n).forEach((function(e){WP.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),KP(v[0],m)}WP.displayName="FontAwesomeIcon",WP.propTypes={beat:NP().bool,border:NP().bool,bounce:NP().bool,className:NP().string,fade:NP().bool,flash:NP().bool,mask:NP().oneOfType([NP().object,NP().array,NP().string]),maskId:NP().string,fixedWidth:NP().bool,inverse:NP().bool,flip:NP().oneOf(["horizontal","vertical","both"]),icon:NP().oneOfType([NP().object,NP().array,NP().string]),listItem:NP().bool,pull:NP().oneOf(["right","left"]),pulse:NP().bool,rotation:NP().oneOf([0,90,180,270]),shake:NP().bool,size:NP().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:NP().bool,spinPulse:NP().bool,spinReverse:NP().bool,symbol:NP().oneOfType([NP().bool,NP().string]),title:NP().string,titleId:NP().string,transform:NP().oneOfType([NP().string,NP().object]),swapOpacity:NP().bool},WP.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var KP=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=VP(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[FP(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,u=LP(r,UP);return a.attrs.style=DP(DP({},a.attrs.style),s),t.apply(void 0,[n.tag,DP(DP({},a.attrs),u)].concat(jP(i)))}.bind(null,r.createElement),GP={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"]},QP={prefix:"fas",iconName:"x",icon:[384,512,[120],"58","M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06c-5.984 4.984-13.25 7.422-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1l-135.4 162.5c-6.328 7.594-15.42 11.52-24.59 11.52c-7.219 0-14.48-2.438-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206l135.4-162.5c11.3-13.58 31.48-15.42 45.06-4.094c13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"]},YP=re().bind({footer:"Footer_footer__zYEQP","footer-menu":"Footer_footer-menu__FRoy1","footer-topics":"Footer_footer-topics__aG+9f","footer-copyrights":"Footer_footer-copyrights__cptl1","footer-item":"Footer_footer-item__gsEAq","footer-link":"Footer_footer-link__ZcPuB",language:"Footer_language__CP9pY"});var XP=function(e){var t=e.haveTopic;return(0,ON.jsxs)("div",{className:YP("footer"),children:[(0,ON.jsxs)("div",{className:YP("footer-menu"),children:[(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Meta"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Gi\u1edbi thi\u1ec7u"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Blog"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Vi\u1ec7c l\xe0m"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Tr\u1ee3 gi\xfap"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"API"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Quy\u1ec1n ri\xeang t\u01b0"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"\u0110i\u1ec1u kho\u1ea3n"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"T\xe0i kho\u1ea3n li\xean quan nh\u1ea5t"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Hashtag"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"V\u1ecb tr\xed"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Instagram Lite"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"T\u1ea3i th\xf4ng tin ng\u01b0\u1eddi li\xean h\u1ec7 l\xean & ng\u01b0\u1eddi kh\xf4ng ph\u1ea3i ng\u01b0\u1eddi d\xf9ng"})})]}),t&&(0,ON.jsxs)("div",{className:YP("footer-topics"),children:[(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Khi\xeau v\u0169"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"\u1ea8m th\u1ef1c"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Nh\xe0 & v\u01b0\u1eddn"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"\xc2m nh\u1ea1c"})}),(0,ON.jsx)("div",{className:YP("footer-item"),children:(0,ON.jsx)(J,{className:YP("footer-link"),to:"/",children:"Ngh\u1ec7 thu\u1eadt th\u1ecb gi\xe1c"})})]}),(0,ON.jsxs)("div",{className:YP("footer-copyrights"),children:[(0,ON.jsx)(cO,{text:!0,small:!0,font12:!0,rightIcon:(0,ON.jsx)(WP,{icon:GP}),className:YP("language"),children:"Ti\u1ebfng Vi\u1ec7t"}),(0,ON.jsx)("p",{children:"\xa9 2022 Instagram from Meta"})]})]})},JP={register:"Form_register__Ko+gG",login:"Form_login__CAsUH",main:"Form_main__iIK3l",form:"Form_form__kBRKW",ask:"Form_ask__NrfTf",app:"Form_app__gLnla","login-main":"Form_login-main__Jp6bL","login-header":"Form_login-header__KUns9","login-logo":"Form_login-logo__GztVK","login-fb-title":"Form_login-fb-title__F10G1","login-input":"Form_login-input__9j7IG","login-input-register":"Form_login-input-register__p9FNH","login-input-wrapper":"Form_login-input-wrapper__2zkZ7","login-input-show":"Form_login-input-show__H1Ykt","login-input-note":"Form_login-input-note__rcNlh","login-term":"Form_login-term__SCCsa","login-btn":"Form_login-btn__YBwYe","login-btn-link":"Form_login-btn-link__DSwMg","login-seperate":"Form_login-seperate__yUHV3","login-info":"Form_login-info__1WZPb","login-facebook":"Form_login-facebook__eL9Lf","login-facebook-icon":"Form_login-facebook-icon__8OOa+","login-forgot-password":"Form_login-forgot-password__NxmlT","register-mb":"Form_register-mb__g1YVC","login-ask":"Form_login-ask__dxUba","login-ask-link":"Form_login-ask-link__Xfd5l","app-title":"Form_app-title__ydWHp","app-img":"Form_app-img__nVqiT",appstore:"Form_appstore__UfXK-",googleplay:"Form_googleplay__Bc6kV"},ZP=re().bind(JP);function $P(e){var t=e.onChangeLogin,n=e.onChangeRegister,r=e.onChangeAuto,i=e.propState;return"newAccount"==i?(0,ON.jsxs)(ON.Fragment,{children:["B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n \u01b0?",(0,ON.jsx)(cO,{text:!0,to:"/account/register",className:ZP("login-ask-link"),children:"\u0110\u0103ng k\xfd"})]}):"oldAccount"==i?(0,ON.jsxs)(ON.Fragment,{children:[(0,ON.jsx)(cO,{text:!0,onClick:t,className:ZP("login-ask-link"),children:"Chuy\u1ec3n t\xe0i kho\u1ea3n"})," ","ho\u1eb7c",(0,ON.jsx)(cO,{text:!0,onClick:n,className:ZP("login-ask-link"),children:"\u0110\u0103ng k\xfd"})]}):"register"==i?(0,ON.jsxs)(ON.Fragment,{children:["B\u1ea1n c\xf3 t\xe0i kho\u1ea3n?",(0,ON.jsx)(cO,{text:!0,to:"/account/login",onClick:r,className:ZP("login-ask-link"),children:"\u0110\u0103ng nh\u1eadp"})]}):"oneOldAccount"==i?(0,ON.jsx)(cO,{text:!0,onClick:t,className:ZP("login-ask-link"),children:"Chuy\u1ec3n t\xe0i kho\u1ea3n"}):void 0}var eL=(0,r.memo)($P),tL=re().bind({login:"AutoForm_login__OEwya","login-main":"AutoForm_login-main__1SmT+","login-header":"AutoForm_login-header__ivM94","login-logo":"AutoForm_login-logo__-yDU4","login-content":"AutoForm_login-content__-Znnt","login-accounts":"AutoForm_login-accounts__2WaMy","login-account-wrapper":"AutoForm_login-account-wrapper__ccOP+","login-account-info":"AutoForm_login-account-info__KJ+q0","login-account-img":"AutoForm_login-account-img__9OQW5","login-account-name":"AutoForm_login-account-name__EzHQP","login-manage":"AutoForm_login-manage__E9TFk","login-account-delete":"AutoForm_login-account-delete__QSBEp","login-account-delete-icon":"AutoForm_login-account-delete-icon__YLRQR","login-ask-link":"AutoForm_login-ask-link__LUAxm","one-account-wrapper":"AutoForm_one-account-wrapper__VWYDq","one-account-img":"AutoForm_one-account-img__XIA7R","one-account-btn":"AutoForm_one-account-btn__rYlfN","one-account-ask":"AutoForm_one-account-ask__Noo6C"});var nL=function(e){var t=e.onChangeLogin,n=e.onChangeAutoOne,i=e.propState,a=e.propAccounts,o=e.isLogin,s=c((0,r.useState)(i),2),u=s[0],l=s[1],f=c((0,r.useState)(a),2),h=f[0],d=f[1],p=c((0,r.useState)(!1),2),v=p[0],m=p[1],g=c((0,r.useState)(""),2),y=g[0],k=g[1],b=c((0,r.useState)(!1),2),w=b[0],x=b[1],_=V(),I=aO(),S=function(){var e=te($().mark((function e(t,n){var r,i,a,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(!0),r=I.get("USER_UID"),i=r[n],e.next=6,r.splice(n,1);case 6:return e.next=8,r.unshift(i);case 8:return I.set("USER_UID",r),a=r[0].email,s=r[0].uid,u=r[0].password,e.next=14,cA.signInWithEmailAndPassword(a,u).then((function(){cA.onAuthStateChanged((function(e){e&&(s=e.uid)}))})).catch((function(e){return alert(e.message)}));case 14:s&&(o(!0),_("/"),window.location.reload(),x(!1));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(e){m(!0),h.forEach((function(t){t.uid==e&&k(t.username)}))};return(0,ON.jsxs)(ON.Fragment,{children:[v&&(0,ON.jsx)(gO,{nameDelete:y,onDelete:function(){h.forEach((function(e,t){e.username==y&&(h.splice(t,1),1==h.length&&(l("oneOldAccount"),n())),d(h),window.localStorage.setItem("USER_UID",JSON.stringify(h))})),m(!1)},onCancelDelete:function(){m(!1)}}),(0,ON.jsx)("div",{className:tL("login"),children:(0,ON.jsxs)("div",{className:tL("login-main"),children:[(0,ON.jsx)("div",{className:tL("login-header"),children:(0,ON.jsx)(J,{to:"/",children:(0,ON.jsx)("img",{className:tL("login-logo"),src:NN.logo,alt:"insatgram"})})}),(0,ON.jsxs)("div",{className:tL("login-content"),children:[(0,ON.jsx)("div",{className:tL("login-accounts"),children:h&&(1===h.length?(0,ON.jsx)("div",{className:tL("login-oneAccount"),children:(0,ON.jsxs)("div",{className:tL("one-account-wrapper"),children:[(0,ON.jsx)("img",{className:tL("one-account-img"),src:h[0].avatar||NN.avatarDefault}),(0,ON.jsx)("div",{className:tL("one-account-btn"),children:(0,ON.jsxs)(cO,{primary:!0,small:!0,onClick:function(e){return S(e,0)},children:[w&&(0,ON.jsx)(fO,{medium:!0}),"Ti\u1ebfp t\u1ee5c d\u01b0\u1edbi t\xean ",h[0].username]})}),(0,ON.jsxs)("div",{className:tL("one-account-ask"),children:[(0,ON.jsxs)("div",{children:["Kh\xf4ng ph\u1ea3i ",h[0].username,"?"]}),(0,ON.jsx)(eL,{onChangeLogin:t,propState:u})]})]})}):h!==[]?h.map((function(e,t){return(0,ON.jsxs)("div",{className:tL("login-account-info"),children:[(0,ON.jsx)("img",{className:tL("login-account-img"),src:e.avatar||NN.avatarDefault}),(0,ON.jsx)("div",{className:tL("login-account-name"),children:e.username}),(0,ON.jsxs)("div",{className:tL("login-account-btn"),children:[(0,ON.jsxs)(cO,{medium:!0,primary:!0,onClick:function(e){return S(e,t)},children:[w&&(0,ON.jsx)(fO,{medium:!0})," \u0110\u0103ng nh\u1eadp"]}),(0,ON.jsx)("div",{className:tL("login-account-delete"),onClick:function(){return E(e.uid)},children:(0,ON.jsx)(WP,{icon:QP,className:tL("login-account-delete-icon")})})]})]},t)})):void 0)}),h.length>1&&(0,ON.jsx)("div",{className:tL("login-manage"),children:(0,ON.jsx)(cO,{text:!0,medium:!0,onClick:function(e){return function(e){var t=document.querySelectorAll('[class*="login-account-btn"]');"Ch\u1ec9nh s\u1eeda xong"==e.target.innerHTML?(e.target.innerHTML="Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n",t.forEach((function(e){e.querySelector("button").style.display="block",e.querySelector("div").style.display="none"}))):(e.target.innerHTML="Ch\u1ec9nh s\u1eeda xong",t.forEach((function(e,n){n!==t.length-1&&(e.querySelector("button").style.display="none",e.querySelector("div").style.display="block")})))}(e)},children:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"})})]})]})})]})},rL={prefix:"fab",iconName:"facebook-square",icon:[448,512,[],"f082","M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.3V327.7h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0 -48-48z"]},iL=re().bind(JP);var aL=function(e){var t=e.isLogin,n=e.propAccounts,i=c((0,r.useState)(n.length>0),2),a=i[0],o=i[1],s=c((0,r.useState)("password"),2),u=s[0],l=s[1],f=c((0,r.useState)(n.length>0?n[0].email:""),2),h=f[0],d=f[1],p=c((0,r.useState)(n.length>0?n[0].password:""),2),v=p[0],m=p[1],g=c((0,r.useState)(!1),2),y=g[0],k=g[1],b=V(),w=aO(),x=function(e){var t=Array.from(document.querySelectorAll('input[class*="login-input-"]')),n=t.every((function(e){return""!=e.value}));e.target.className.includes("password")&&(e.target.parentElement.querySelector('[class*="show"]').style.display="block"),n?(o(!0),e.target.nextSibling.style.display="block",e.target.style.paddingTop="14px"):(o(!1),e.target.nextSibling.style.display="block",e.target.style.paddingTop="14px",t.forEach((function(e){""==e.value&&(e.nextSibling.style.display="none")})))},_=function(){var e=te($().mark((function e(n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),k(!0),e.next=4,cA.signInWithEmailAndPassword(h,v).then((function(){cA.onAuthStateChanged(function(){var e=te($().mark((function e(n){var r,i,a,o,s,u,c,l,f;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=26;break}if(!(r=n.uid)){e.next=26;break}if(null!==(i=w.get("USER_UID"))){e.next=13;break}return a=Jm(uA,"user",r),e.next=8,by(a);case 8:o=e.sent,s=o.data().username,i=[{email:h,uid:r,password:v,username:s}],e.next=22;break;case 13:if(!i.every((function(e,t){return e.uid!==r||(i.splice(t,1),i.unshift(e),!1)}))){e.next=22;break}return u=Jm(uA,"user",r),e.next=18,by(u);case 18:c=e.sent,l=c.data().profile_pic_url,f=c.data().username,i.unshift({email:h,uid:r,username:f,avatar:l,password:v});case 22:w.set("USER_UID",i),t(!0),b("/"),window.location.reload();case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k(!1)})).catch((function(e){alert(e.message),k(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ON.jsx)("div",{className:iL("login"),children:(0,ON.jsxs)("div",{className:iL("login-main"),children:[(0,ON.jsx)("div",{className:iL("login-header"),children:(0,ON.jsx)(J,{to:"/",children:(0,ON.jsx)("img",{className:iL("login-logo"),src:NN.logo,alt:"insatgram"})})}),(0,ON.jsxs)(ON.Fragment,{children:[(0,ON.jsxs)("div",{className:iL("login-input"),children:[(0,ON.jsxs)("div",{className:iL("login-input-wrapper"),children:[(0,ON.jsx)("input",{className:iL("login-input-name"),value:h,type:"text",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i, t\xean ng\u01b0\u1eddi d\xf9ng ho\u1eb7c email",onChange:function(e){x(e),d(e.target.value)}}),(0,ON.jsx)("span",{className:iL("login-input-note"),children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i, t\xean ng\u01b0\u1eddi d\xf9ng ho\u1eb7c email"})]}),(0,ON.jsxs)("div",{className:iL("login-input-wrapper"),children:[(0,ON.jsx)("input",{className:iL("login-input-password"),value:v,type:u,placeholder:"M\u1eadt kh\u1ea9u",onChange:function(e){x(e),m(e.target.value)}}),(0,ON.jsx)("span",{className:iL("login-input-note"),children:"M\u1eadt kh\u1ea9u"}),(0,ON.jsx)(cO,{text:!0,className:iL("login-input-show"),onClick:function(e){return function(e){"text"==u?(l("password"),e.target.innerHTML="Hi\u1ec3n th\u1ecb"):(l("text"),e.target.innerHTML="\u1ea8n")}(e)},children:"Hi\u1ec3n th\u1ecb"})]}),(0,ON.jsxs)(cO,{primary:!0,disabled:!a,className:iL("login-btn"),onClick:_,children:[y&&(0,ON.jsx)(fO,{medium:!0}),"\u0110\u0103ng nh\u1eadp"]})]}),(0,ON.jsx)("div",{className:iL("login-seperate"),children:"HO\u1eb6C"}),(0,ON.jsxs)("div",{className:iL("login-info"),children:[(0,ON.jsx)(cO,{text:!0,leftIcon:(0,ON.jsx)(WP,{icon:rL,className:iL("login-facebook-icon")}),className:iL("login-facebook"),children:"\u0110\u0103ng nh\u1eadp b\u1eb1ng Facebook"}),(0,ON.jsx)(J,{to:"/account/forgotpassword",className:iL("login-forgot-password"),children:"Qu\xean m\u1eadt kh\u1ea9u"})]})]})]})})},oL=re().bind(JP);var sL=function(e){var t=e.isLogin,n=c((0,r.useState)(!1),2),i=n[0],a=n[1],o=c((0,r.useState)("password"),2),s=o[0],u=o[1],l=c((0,r.useState)(""),2),f=l[0],h=l[1],d=c((0,r.useState)(!1),2),p=d[0],v=d[1],m=c((0,r.useState)(""),2),g=m[0],y=m[1],k=c((0,r.useState)(""),2),b=k[0],w=k[1],x=c((0,r.useState)(!1),2),_=x[0],I=x[1],S=c((0,r.useState)(""),2),E=S[0],T=S[1],A=c((0,r.useState)(!1),2),C=A[0],N=A[1],O=V(),D=aO(),R=function(e){var t=Array.from(document.querySelectorAll('input[class*="login-input-"]')),n=t.every((function(e){return""!==e.value}));e.target.className.includes("password")&&(e.target.parentElement.querySelector('[class*="show"]').style.display="block"),n?(a(!0),e.target.nextSibling.style.display="block",e.target.style.paddingTop="14px"):(a(!1),e.target.nextSibling.style.display="block",e.target.style.paddingTop="14px",t.forEach((function(e){""===e.value&&(e.nextSibling.style.display="none")})))},P=function(){var e=te($().mark((function e(n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),N(!0),!(p&&_&&i)){e.next=7;break}return e.next=5,cA.createUserWithEmailAndPassword(f,g).then((function(){cA.onAuthStateChanged(function(){var e=te($().mark((function e(n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=13;break}return r=n.uid,e.next=4,uA.collection("user").doc(r).set({username:b,full_name:E,email:f,uid:r});case 4:return e.next=6,uA.collection("posts").doc(r).set({});case 6:return e.next=8,uA.collection("noti").doc(r).set({});case 8:return e.next=10,uA.collection("followed").doc(r).set({});case 10:return e.next=12,uA.collection("media").doc(r).set({});case 12:r&&(null===(i=D.get("USER_UID"))?i=[{email:f,uid:r,username:b,password:g}]:i.every((function(e){return e.uid!==r}))&&i.unshift({email:f,uid:r,username:b,avatar:void 0,password:g}),D.set("USER_UID",i),t(!0),O("/"),N(!1));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){alert(e.message),N(!1)}));case 5:e.next=9;break;case 7:alert("Th\xf4ng tin \u0111\u0103ng k\xfd ch\u01b0a h\u1ee3p l\u1ec7. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i!"),N(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){I(M())}),[b]),(0,r.useEffect)((function(){v(L())}),[f]);var L=function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_y($g(Xm(uA,"user"),ty("email","==",f)));case 2:if(t=e.sent,!!t.empty){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_y($g(Xm(uA,"user"),ty("email","==",f)));case 2:t=e.sent,!t.empty&&alert("Email \u0111\xe3 t\u1ed3n t\u1ea1i. Vui l\xf2ng ch\u1ecdn email kh\xe1c!");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_y($g(Xm(uA,"user"),ty("username","==",b)));case 2:if(t=e.sent,!!t.empty){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=te($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_y($g(Xm(uA,"user"),ty("username","==",b)));case 2:t=e.sent,!t.empty&&alert("T\xean ng\u01b0\u1eddi d\xf9ng \u0111\xe3 t\u1ed3n t\u1ea1i. Vui l\xf2ng ch\u1ecdn t\xean kh\xe1c!");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ON.jsx)("div",{className:oL("register"),children:(0,ON.jsx)("div",{className:oL("login"),children:(0,ON.jsxs)("div",{className:oL("login-main"),children:[(0,ON.jsx)("div",{className:oL("login-header"),children:(0,ON.jsx)(J,{to:"/",children:(0,ON.jsx)("img",{className:oL("login-logo"),src:NN.logo,alt:"insatgram"})})}),(0,ON.jsx)("h3",{className:oL("login-fb-title"),children:"\u0110\u0103ng k\xfd \u0111\u1ec3 xem \u1ea3nh v\xe0 video t\u1eeb b\u1ea1n b\xe8."}),(0,ON.jsx)(cO,{primary:!0,leftIcon:(0,ON.jsx)(WP,{icon:rL,className:oL("login-facebook-icon")}),className:oL("login-btn"),children:"\u0110\u0103ng nh\u1eadp b\u1eb1ng Facebook"}),(0,ON.jsx)("div",{className:oL("login-seperate"),children:"HO\u1eb6C"}),(0,ON.jsxs)("div",{className:oL("login-input-register"),children:[(0,ON.jsxs)("div",{className:oL("login-input-wrapper"),children:[(0,ON.jsx)("input",{className:oL("login-input-name"),type:"text",value:f,placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i, t\xean ng\u01b0\u1eddi d\xf9ng ho\u1eb7c email",onChange:function(e){R(e),h(e.target.value)},onBlur:function(e){return j(e)}}),(0,ON.jsx)("span",{className:oL("login-input-note"),children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i, t\xean ng\u01b0\u1eddi d\xf9ng ho\u1eb7c email"})]}),(0,ON.jsxs)("div",{className:oL("login-input-wrapper"),children:[(0,ON.jsx)("input",{className:oL("login-input-fullname"),type:"text",value:E,placeholder:"T\xean \u0111\u1ea7y \u0111\u1ee7",onChange:function(e){R(e),T(e.target.value)}}),(0,ON.jsx)("span",{className:oL("login-input-note"),children:"T\xean \u0111\u1ea7y \u0111\u1ee7"})]}),(0,ON.jsxs)("div",{className:oL("login-input-wrapper"),children:[(0,ON.jsx)("input",{className:oL("login-input-accountname"),type:"text",value:b,placeholder:"T\xean ng\u01b0\u1eddi d\xf9ng",onChange:function(e){R(e),w(e.target.value)},onBlur:function(e){return F(e)}}),(0,ON.jsx)("span",{className:oL("login-input-note"),children:"T\xean ng\u01b0\u1eddi d\xf9ng"})]}),(0,ON.jsxs)("div",{className:oL("login-input-wrapper"),children:[(0,ON.jsx)("input",{className:oL("login-input-password"),type:s,value:g,placeholder:"M\u1eadt kh\u1ea9u",onChange:function(e){R(e),y(e.target.value)}}),(0,ON.jsx)("span",{className:oL("login-input-note"),children:"M\u1eadt kh\u1ea9u"}),(0,ON.jsx)(cO,{text:!0,className:oL("login-input-show"),onClick:function(e){return function(e){"text"===s?(u("password"),e.target.innerHTML="Hi\u1ec3n th\u1ecb"):(u("text"),e.target.innerHTML="\u1ea8n")}(e)},children:"Hi\u1ec3n th\u1ecb"})]})]}),(0,ON.jsxs)("p",{className:oL("login-term"),children:["Nh\u1eefng ng\u01b0\u1eddi d\xf9ng d\u1ecbch v\u1ee5 c\u1ee7a ch\xfang t\xf4i c\xf3 th\u1ec3 \u0111\xe3 t\u1ea3i th\xf4ng tin li\xean h\u1ec7 c\u1ee7a b\u1ea1n l\xean Instagram."," ",(0,ON.jsx)("a",{href:"/",children:"T\xecm hi\u1ec3u th\xeam"}),(0,ON.jsx)("br",{}),(0,ON.jsx)("br",{}),"B\u1eb1ng c\xe1ch \u0111\u0103ng k\xfd, b\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi ",(0,ON.jsx)("a",{href:"/",children:"\u0110i\u1ec1u kho\u1ea3n"}),", ",(0,ON.jsx)("a",{href:"/",children:"Ch\xednh s\xe1ch d\u1eef li\u1ec7u"})," ","v\xe0 ",(0,ON.jsx)("a",{href:"/",children:"Ch\xednh s\xe1ch cookie"})," c\u1ee7a ch\xfang t\xf4i."]}),(0,ON.jsxs)(cO,{primary:!0,disabled:!i,className:oL("login-btn"),onClick:P,children:[C&&(0,ON.jsx)(fO,{medium:!0}),"\u0110\u0103ng k\xfd"]}),(0,ON.jsx)("div",{className:oL("register-mb")})]})})})},uL=re().bind(JP);var cL=function(e){var t=e.propState,n=e.propAccounts,i=e.isLogin,a=c((0,r.useState)(t),2),o=a[0],s=a[1],u=c((0,r.useState)((0,ON.jsx)(aL,{isLogin:i,propAccounts:n})),2),l=u[0],f=u[1];(0,r.useEffect)((function(){"newAccount"==o?f((0,ON.jsx)(aL,{isLogin:i,propAccounts:n})):"oldAccount"==o?f((0,ON.jsx)(nL,{propAccounts:n,propState:o,onChangeLogin:h,onChangeRegister:d,onChangeAuto:p,onChangeAutoOne:v,isLogin:i})):"register"==o?f((0,ON.jsx)(sL,{isLogin:i,propAccounts:n})):"oneOldAccount"==o&&f((0,ON.jsx)(nL,{propAccounts:n,propState:o,onChangeLogin:h,onChangeRegister:d,onChangeAuto:p,onChangeAutoOne:v,isLogin:i}))}),[o]);var h=(0,r.useCallback)((function(){s("newAccount")}),[]),d=(0,r.useCallback)((function(){s("register")}),[]),p=(0,r.useCallback)((function(){s("oldAccount")}),[]),v=(0,r.useCallback)((function(){s("oneOldAccount")}),[]);return(0,ON.jsx)(ON.Fragment,{children:(0,ON.jsxs)("div",{className:uL("main"),children:[(0,ON.jsx)("div",{className:uL("form"),children:l}),"oneOldAccount"!=o?(0,ON.jsxs)(ON.Fragment,{children:[(0,ON.jsx)("div",{className:uL("login-ask"),children:(0,ON.jsx)(eL,{propState:o,onChangeLogin:h,onChangeRegister:d,onChangeAuto:p})}),(0,ON.jsxs)("div",{className:uL("app"),children:[(0,ON.jsx)("div",{className:uL("app-title"),children:"T\u1ea3i \u1ee9ng d\u1ee5ng"}),(0,ON.jsxs)("div",{className:uL("app-img"),children:[(0,ON.jsx)(J,{to:"/",children:(0,ON.jsx)("img",{src:NN.appstore,alt:"App Store",className:uL("appstore")})}),(0,ON.jsx)(J,{to:"/",children:(0,ON.jsx)("img",{src:NN.googleplay,alt:"Google Play",className:uL("googleplay")})})]})]})]}):(0,ON.jsx)(ON.Fragment,{})]})})},lL=re().bind({wrapper:"Register_wrapper__zxm5H"});var fL=function(e){var t=e.propLogin,n=aO();return(0,ON.jsxs)("div",{className:lL("wrapper"),children:[(0,ON.jsx)(cL,{propState:"register",isLogin:t,propAccounts:null===n.get("USER_UID")?[]:n.get("USER_UID")}),(0,ON.jsx)(XP,{})]})},hL=re().bind({wrapper:"Login_wrapper__FJ1XW"});var dL=function(e){var t=e.propLogin,n=aO(),r=function(){return null===n.get("USER_UID")?[]:n.get("USER_UID")};return(0,ON.jsxs)("div",{className:hL("wrapper"),children:[(0,ON.jsx)(cL,{propState:0==r().length?"newAccount":1==r().length?"oneOldAccount":r().length>1?"oldAccount":void 0,propAccounts:r(),isLogin:t}),(0,ON.jsx)(XP,{haveTopic:!0})]})},pL=re().bind({slider:"Slider_slider__O9Esk","slider-img":"Slider_slider-img__UMt0d"});var vL=function(){var e=c((0,r.useState)(0),2),t=e[0],n=e[1],i=(0,r.useRef)();return(0,r.useEffect)((function(){var e=Array.from(i.current.getElementsByTagName("img"));setTimeout((function(){3===t?(e.forEach((function(e){e.classList.remove("img-in"),e.classList.remove("img-out")})),e[t].classList.add("img-out"),e[0].classList.add("img-in"),n(0)):(e.forEach((function(e){e.classList.remove("img-in"),e.classList.remove("img-out")})),e[t].classList.add("img-out"),e[t+1].classList.add("img-in"),n(t+1))}),5e3)}),[t]),(0,ON.jsxs)("div",{className:pL("slider"),ref:i,children:[(0,ON.jsx)("img",{className:"".concat(pL("slider-img")," img-in"),src:NN.loginSlide1,alt:""}),(0,ON.jsx)("img",{className:"".concat(pL("slider-img")," img-out"),src:NN.loginSlide2,alt:""}),(0,ON.jsx)("img",{className:pL("slider-img"),src:NN.loginSlide3,alt:""}),(0,ON.jsx)("img",{className:pL("slider-img"),src:NN.loginSlide4,alt:""})]})},mL=re().bind({container:"HomeLogin_container__TVXCK",content:"HomeLogin_content__iH9g7",slider:"HomeLogin_slider__eJplh",form:"HomeLogin_form__7kpdI"});var gL=function(e){var t=e.propLogin,n=aO(),r=function(){return null===n.get("USER_UID")?[]:n.get("USER_UID")};return(0,ON.jsxs)("div",{className:mL("container"),children:[(0,ON.jsxs)("div",{className:mL("content"),children:[(0,ON.jsx)("div",{className:mL("slider"),children:(0,ON.jsx)(vL,{})}),(0,ON.jsx)("div",{className:mL("form"),children:(0,ON.jsx)(cL,{propState:0==r().length?"newAccount":1==r().length?"oneOldAccount":r().length>1?"oldAccount":void 0,propAccounts:r(),isLogin:t})})]}),(0,ON.jsx)("div",{className:mL("footer"),children:(0,ON.jsx)(XP,{haveTopic:!0})})]})},yL=re().bind({wrapper:"Inbox_wrapper__zxFSR"});var kL=function(e){var t=e.propLogin;return(0,ON.jsxs)(ON.Fragment,{children:[(0,ON.jsx)(_O,{pageInfo:"inbox",isLogin:t}),(0,ON.jsx)("div",{className:yL("wrapper"),children:"Inbox page - T\xednh n\u0103ng ch\u01b0a \u0111\u01b0\u1ee3c ho\xe0n thi\u1ec7n"})]})},bL=re().bind({wrapper:"Explore_wrapper__+2lIx"});var wL=function(e){var t=e.propLogin;return(0,ON.jsxs)(ON.Fragment,{children:[(0,ON.jsx)(_O,{pageInfo:"explore",isLogin:t}),(0,ON.jsx)("div",{className:bL("wrapper"),children:"Explore page"})]})},xL=re().bind({wrapper:"ProfileHeader_wrapper__kcDe1",avatar:"ProfileHeader_avatar__HPZw-","avatar-btn":"ProfileHeader_avatar-btn__24Edo","avatar-form":"ProfileHeader_avatar-form__x7m7R",load:"ProfileHeader_load__HpNjh","load-icon":"ProfileHeader_load-icon__gxSOS",loadSpin:"ProfileHeader_loadSpin__0hya8",content:"ProfileHeader_content__G46bj","content-header":"ProfileHeader_content-header__Qr6ax","header-name":"ProfileHeader_header-name__9l9AV","header-tool":"ProfileHeader_header-tool__H5HrS","header-edit":"ProfileHeader_header-edit__mqiG2","header-setting":"ProfileHeader_header-setting__pflnY","header-inbox":"ProfileHeader_header-inbox__jvm8Q","header-follow-btn":"ProfileHeader_header-follow-btn__Uaw7p","content-count":"ProfileHeader_content-count__J2yBJ","count-item":"ProfileHeader_count-item__13+KR","content-description":"ProfileHeader_content-description__YKO2V","description-fullname":"ProfileHeader_description-fullname__Yc8HZ","description-introduce":"ProfileHeader_description-introduce__ciwRR","description-link":"ProfileHeader_description-link__SmBUj","description-followed":"ProfileHeader_description-followed__sj1nF"});var _L=function(e){var t=e.username,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=c((0,r.useState)({}),2),s=o[0],u=o[1],l=c((0,r.useState)(!1),2),f=l[0],h=l[1],d=c((0,r.useState)(0),2),p=d[0],v=d[1],m=c((0,r.useState)(!1),2),g=m[0],y=m[1],k=c((0,r.useState)(!1),2),b=k[0],w=k[1],x=c((0,r.useState)(!1),2),_=x[0],I=x[1],S=(0,r.useRef)(),E=c((0,r.useState)(""),2),T=E[0],A=E[1],C=c((0,r.useState)(""),2),N=C[0],O=C[1],D=function(){var e=te($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cA.onAuthStateChanged(function(){var e=te($().mark((function e(n){var r,i,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=20;break}return r=Jm(uA,"user",n.uid),e.next=4,by(r);case 4:if(i=e.sent,O(n.uid),i.data().username!==t){e.next=14;break}A(n.uid),R(n.uid),u(i.data()),a(i.data().profile_pic_url),h(!0),e.next=20;break;case 14:return o=Xm(uA,"user"),s=$g(o,ty("username","==",t)),e.next=18,_y(s);case 18:e.sent.forEach((function(e){A(e.data().uid),R(e.data().uid),u(e.data()),a(e.data().profile_pic_url),h(!1),P(i.data().following,e.data().uid)}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){uA.collection("media").doc(e).collection("listPost").get().then((function(e){v(e.size)}))},P=function(e,t){e.every((function(e){return e!==t}))?w(!1):w(!0)};(0,r.useEffect)((function(){D()}),[]);var L=function(e){var t=e.file,n=e.maxSize,r=new FileReader,i=new Image,a=document.createElement("canvas"),o=function(e){for(var t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return new Blob([i],{type:n})};return new Promise((function(e,s){t.type.match(/image.*/)?(r.onload=function(t){i.onload=function(){return e(function(){var e=i.width,t=i.height;if(e<t){e>n&&(t*=n/e,e=n),a.width=n,a.height=n,a.getContext("2d").drawImage(i,0,n/2-t/2,e,t);var r=a.toDataURL("image/jpeg");return o(r)}t>n&&(e*=n/t,t=n),a.width=n,a.height=n,a.getContext("2d").drawImage(i,n/2-e/2,0,e,t);var s=a.toDataURL("image/jpeg");return o(s)}())},i.src=t.target.result},r.readAsDataURL(t)):s(new Error("Not an image"))}))},j=function(){var e=te($().mark((function e(){var t,n,r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=15;break}return w(!1),t=Jm(uA,"user",N),n=Jm(uA,"user",T),e.next=6,Ey(t,{following:Ly(T)});case 6:return e.next=8,Ey(n,{followed_by:Ly(N)});case 8:return r=Jm(uA,"posts",N),e.next=11,by(r);case 11:e.sent.data().post.forEach((function(e){e.includes(T)&&Ey(r,{post:Ly(e)})})),e.next=24;break;case 15:return w(!0),i=Jm(uA,"user",N),a=Jm(uA,"user",T),o=ns.now().seconds-604800,e.next=21,Ey(i,{following:Py(T)});case 21:return e.next=23,Ey(a,{followed_by:Py(N)});case 23:uA.collection("media").doc(T).collection("listPost").where("time",">=",o).get().then((function(e){e.forEach(function(){var e=te($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jm(uA,"posts",N),e.next=3,Ey(n,{post:Py("".concat(T,"@*#_").concat(t.id))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log("Error getting documents: ",e)}));case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ON.jsxs)(ON.Fragment,{children:[_&&(0,ON.jsx)(wO,{onCancelChange:function(){I(!1),y(!1)},onDelete:function(){cA.onAuthStateChanged(function(){var e=te($().mark((function e(t){var n,r,i,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return n=t.uid,r=Jm(uA,"user",n),e.next=5,by(r);case 5:(i=e.sent).data().profile_pic_url&&(o=lA.refFromURL(i.data().profile_pic_url),XT(JT(lA,o)).then((function(){Ey(Jm(uA,"user",n),{profile_pic_url:Ry()})})).then((function(){I(!1),a("")})).catch((function(e){alert(e)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onUpload:function(){S.current.click()}}),(0,ON.jsxs)("div",{className:xL("wrapper"),children:[f?(0,ON.jsxs)("div",{className:xL("avatar"),children:[(0,ON.jsxs)("div",{className:xL("avatar-btn"),onClick:function(){I(!0)},children:[g&&(0,ON.jsx)("div",{className:xL("load"),children:(0,ON.jsx)("div",{className:xL("load-icon"),children:HN})}),(0,ON.jsx)("img",{src:i||NN.avatarDefault})]}),(0,ON.jsx)("form",{className:xL("avatar-form"),children:(0,ON.jsx)("input",{ref:S,type:"file",onChange:function(e){return function(e){I(!1),cA.onAuthStateChanged(function(){var t=te($().mark((function t(n){var r,i,o;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y(!0),!n){t.next=11;break}return r=n.uid,t.next=5,L({file:e.target.files[0],maxSize:150});case 5:return i=t.sent,o=lA.ref("".concat(r,"/").concat(e.target.files[0].name)),t.next=9,o.put(i);case 9:return t.next=11,o.getDownloadURL().then((function(e){e&&(a(e),uA.collection("user").doc(r).update({profile_pic_url:e}))})).then((function(){y(!1)})).catch((function(e){alert(e),y(!1)}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(e)}})})]}):(0,ON.jsx)("div",{className:xL("avatar"),children:(0,ON.jsx)("div",{className:xL("avatar-btn"),style:{cursor:"auto"},children:(0,ON.jsx)("img",{src:i||NN.avatarDefault})})}),(0,ON.jsxs)("div",{className:xL("content"),children:[(0,ON.jsxs)("div",{className:xL("content-header"),children:[(0,ON.jsx)("h2",{className:xL("header-name"),children:s&&s.username}),(0,ON.jsx)("div",{className:xL("header-tool"),children:f?(0,ON.jsxs)(ON.Fragment,{children:[(0,ON.jsx)("div",{className:xL("header-edit"),children:(0,ON.jsx)(cO,{large:!0,text:!0,outline:!0,font14:!0,children:"Ch\u1ec9nh s\u1eeda trang c\xe1 nh\xe2n"})}),(0,ON.jsx)("div",{className:xL("header-setting"),children:(0,ON.jsx)("button",{children:YN})})]}):(0,ON.jsxs)(ON.Fragment,{children:[(0,ON.jsx)("div",{className:xL("header-inbox"),children:(0,ON.jsx)(cO,{large:!0,text:!0,outline:!0,font14:!0,children:"Nh\u1eafn tin"})}),(0,ON.jsx)("div",{className:xL("header-follow-btn"),onClick:j,children:b?(0,ON.jsx)(cO,{large:!0,text:!0,outline:!0,font14:!0,children:"\u0110ang theo d\xf5i"}):(0,ON.jsx)(cO,{large:!0,primary:!0,font14:!0,children:"Theo d\xf5i"})}),(0,ON.jsx)("div",{className:xL("header-setting"),children:(0,ON.jsx)("button",{children:YN})})]})})]}),(0,ON.jsxs)("div",{className:xL("content-count"),children:[(0,ON.jsxs)("div",{className:xL("count-item"),children:[(0,ON.jsx)("span",{children:p})," b\xe0i vi\u1ebft"]}),(0,ON.jsxs)("div",{className:xL("count-item"),children:[(0,ON.jsx)("span",{children:s.hasOwnProperty("followed_by")?s.followed_by.length:0})," ","ng\u01b0\u1eddi theo d\xf5i"]}),(0,ON.jsxs)("div",{className:xL("count-item"),children:["\u0110ang theo d\xf5i"," ",(0,ON.jsx)("span",{children:s.hasOwnProperty("following")?s.following.length:0})," ng\u01b0\u1eddi d\xf9ng"]})]}),(0,ON.jsxs)("div",{className:xL("content-description"),children:[(0,ON.jsx)("div",{className:xL("description-fullname"),children:s.full_name}),(0,ON.jsx)("div",{className:xL("description-introduce")})]})]})]})]})},IL=re().bind({wrapper:"Profile_wrapper__YAao3",content:"Profile_content__e7H2l"});var SL=function(e){var t=e.propLogin,n=U().pathname.replace("/","");return(0,ON.jsxs)(ON.Fragment,{children:[(0,ON.jsx)(_O,{isLogin:t}),(0,ON.jsx)("div",{className:IL("wrapper"),children:(0,ON.jsxs)("div",{className:IL("content"),children:[(0,ON.jsx)(_L,{username:n}),(0,ON.jsx)(XP,{})]})})]})},EL=[{path:"/",component:gL},{path:"/account/register",component:fL},{path:"/account/login",component:dL}],TL=[{path:"/",component:OO},{path:"/direct/inbox",component:kL},{path:"/explore",component:wL},{path:"/:username",component:SL}];var AL=function(){var e=aO(),t=c((0,r.useState)(e.get("LOGIN_STATE")||!1),2),n=t[0],i=t[1],a=function(e){i(e)};return(0,r.useEffect)((function(){e.set("LOGIN_STATE",n)}),[n]),n?(0,ON.jsx)(X,{children:(0,ON.jsx)("div",{className:"App",children:(0,ON.jsx)(W,{children:TL.map((function(e,t){var n=e.component;return(0,ON.jsx)(q,{path:e.path,element:(0,ON.jsx)(n,{propLogin:a,data:e.path})},t)}))})})}):(0,ON.jsx)(X,{children:(0,ON.jsx)("div",{className:"App",children:(0,ON.jsx)(W,{children:EL.map((function(e,t){var n=e.component;return(0,ON.jsx)(q,{path:e.path,element:(0,ON.jsx)(n,{propLogin:a})},t)}))})})})};var CL=function(e){return e.children};i.createRoot(document.getElementById("root")).render((0,ON.jsx)(CL,{children:(0,ON.jsx)(AL,{})}))}()}();
//# sourceMappingURL=main.a9b7c1c1.js.map